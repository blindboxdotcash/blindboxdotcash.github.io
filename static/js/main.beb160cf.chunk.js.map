{"version":3,"sources":["hooks/useMatchBreakpoints.ts","views/home/i18nPopover.tsx","utils/wallt.ts","views/home/ConnectWall.tsx","views/home/Menu.tsx","views/home/header.tsx","views/home/Footer.tsx","views/home/Layouts.tsx","i18n.ts","views/Login/Login.tsx","views/OwerPage/header.tsx","views/OwerPage/OwerPage.tsx","utils/getRpcUrl.ts","hooks/useWeb3.ts","views/OwerPage/BeenManagement/BeenDeploy.tsx","views/OwerPage/BeenManagement/MintPanel.tsx","views/OwerPage/BeenManagement/Contractcertification.tsx","views/OwerPage/BeenManagement/CertificationHistory.tsx","views/OwerPage/BeenManagement/BeenManagement.tsx","config/contract/contracts.ts","utils/addressHelpers.ts","views/OwerPage/BlindBoxManagement/NewBox.tsx","hooks/useContract.ts","views/OwerPage/BlindBoxManagement/SearchPage.tsx","views/OwerPage/BlindBoxManagement/SetBoxres.tsx","views/OwerPage/BlindBoxManagement/BlindBoxManagement.tsx","views/home/ListTable.tsx","views/home/hooks/useHome.tsx","views/home/Banners.tsx","views/home/homes.tsx","utils/timeTran.ts","state/Puzzles/actions.ts","state/Puzzles/hooks.ts","views/puzzle/SendModal.tsx","utils/tran.ts","views/puzzle/ImgInfoModel.tsx","views/puzzle/hooks/useBox.ts","views/puzzle/ListTable.tsx","component/TipModael.tsx","hooks/useApprove.ts","views/puzzle/PuzzleGame.tsx","views/OwerPage/Puzzle/Puzzle.tsx","views/OwerPage/Puzzle/ResValids.tsx","views/OwerPage/Puzzle/PuzzleMangent.tsx","state/Ice/actions.ts","state/Ice/hooks.ts","component/SelectInput/SelectInput.tsx","views/IceWater/IceWater.tsx","views/IceWater/hooks/useIce.tsx","state/DrawBox/actions.ts","state/DrawBox/hooks.ts","views/DrawLots/hooks/useDraw.tsx","views/DrawLots/DrawLots.tsx","views/OwerPage/Liquidity/Liquidity.tsx","utils/robo.ts","state/Exchange/actions.ts","views/Swap/hooks/useSwap.tsx","state/Exchange/hooks.ts","utils/getPrecision.ts","views/Swap/swap.tsx","views/OwerPage/DrawManagement/CreateBox.tsx","views/OwerPage/DrawManagement/hooks/useDraw.tsx","views/OwerPage/DrawManagement/GetBack.tsx","views/OwerPage/DrawManagement/SearchPage.tsx","views/OwerPage/DrawManagement/DrawMangement.tsx","App.tsx","state/Puzzles/reducer.ts","state/Ice/reducer.ts","state/Exchange/reducer.ts","state/DrawBox/reducer.ts","state/index.ts","Providers.tsx","index.tsx"],"names":["breakpointMap","xs","sm","md","lg","xl","xxl","useIsomorphicEffect","window","useEffect","useLayoutEffect","mediaQueries","prevMinWidth","Object","keys","reduce","accum","size","index","length","minWidth","breakpoint","getKey","charAt","toUpperCase","slice","getState","key","mql","matchMedia","matches","useMatchBreakpoints","useState","state","setState","handlers","map","handler","matchMediaQuery","prevState","addEventListener","removeEventListener","forEach","unsubscribe","isXl","isXs","isSm","isMd","isLg","isMobile","isTablet","isDesktop","isXxl","StyleBox","styled","Box","StyleBoxBtn","Select","useStyles","makeStyles","theme","createStyles","typography","padding","spacing","StylePopover","Popover","I18nPopover","React","anchorEl","setAnchorEl","handleClose","open","Boolean","id","undefined","useTranslation","i18n","t","i18nVal","setI18nVal","lngs","en","nativeName","zh","pt","pb","onClick","event","currentTarget","className","onClose","anchorOrigin","vertical","horizontal","transformOrigin","flex","lng","style","changeLanguage","setupNetwork","a","provider","ethereum","chainId","toString","request","method","params","code","chainName","nativeCurrency","name","symbol","decimals","rpcUrls","blockExplorerUrls","console","error","ConnectBtn","ConnectWallt","str","wallet","useWallet","connWall","status","reset","connect","src","alt","width","height","ml","account","MenuLink","Link","MnueBox","Menu","menu","label","route","address","ownerObj","setOwnerObj","fetch","then","response","json","data","log","navigate","useNavigate","display","item","to","address1","liquidityAddress","StyleHeader","img","props","BoxImage","StyleWalltBtn","LogBox","Header","alignItems","pr","justifyContent","ConnectWall","StylePanel","Flex","VersionTitle","FootPanel","Footer","flexDirection","pl","component","fontFamily","color","fontSize","mt","mr","href","backgroundColor","marginRight","marginLeft","Container","Layout","resources","use","initReactI18next","init","interpolation","escapeValue","LoginBtn","LoginButton","HeaderContainer","BoxMenu","WhatshotIcon","owner","setOwner","setLiquidity","Login","OwerPage","nodes","process","RPC_URL","getRpcUrl","httpProvider","Web3","providers","HttpProvider","timeout","useWeb3","refEth","useRef","web3","setweb3","current","FlexPanel","BeenDeploy","pedding","setPedding","setAddress","deploy","myContract","eth","Contract","BeeTokenAbi","BeeTokenByteCode","object","send","from","gas","res","options","Button","variant","CircularProgress","MintPanel","contractAddr","setContractAddr","targetAddress","targetNum","setNum","hash","setHash","mintHand","targetAmount","BigNumber","times","pow","toFixed","methods","mint","blockHash","TextField","onChange","e","target","value","Contractcertification","isOpen","setIsOpen","speedAddress","setSpeedAddress","note","setNote","setQualifiedSpender","Switch","checked","inputProps","CertificationHistory","list","setList","getPastEvents","fromBlock","toBlock","SetQualified","blockNumber","spender","returnValues","UnsetQualified","rest","arrt","concat","sort","b","TableContainer","Paper","Table","TableHead","TableRow","TableCell","TableBody","row","idx","scope","TabPanel","children","other","role","hidden","p","BeenManagement","setValue","square","Tabs","indicatorColor","textColor","newValue","Tab","getDrawAddress","addresses","getIceOrWaterAddress","getJigsawPuzzleAbiAddress","getBeeTokenAddress","getimptAddress","getfactorytAddress","getBchAddress","NewBox","greenwayTime","setGreenwayTime","zhTitle","zhConent","introObj","setIntroObj","setTimes","urlId","setUrlId","createHand","introStr","join","IceOrWaterAbi","createBox","getBoxCount","call","resLen","parseInt","type","defaultValue","stime","Date","getTime","currentDate","difference","getTimezoneOffset","GreenwichMillminutes","GreenwichDate","moment","format","InputLabelProps","shrink","disabled","rows","multiline","pre","useContract","abi","contractOptions","contract","setContract","useBeeContract","useJigsawPuzzle","JigsawPuzzleAbi","useIceContract","useIceContract_static","IceOrWatersStaticAbi","useDrawContract","LucyDrawAbi","useDrawContract_static","LucyDrawstaticAbi","SearchPage","createAddres","setCreateAddres","hrefList","sethrefList","prizes","price","totalCount","soldCount","IceContract","getBlockNumber","bolck","historyBlock","filter","creator","resStartLuckyDraw","tranId","lotId","labelId","placeholder","MenuItem","whiteSpace","dueTime","SetBoxres","boxId","setBoxId","result","setResult","iceContract","BlindBoxManagement","overflow","ListTableBox","StyleTotalText","StyleTotalTips","StyleBtn","StyeleTable","StyleTh","StyleTr","ListTable","IcehistoryList","setIceHistoryList","DepositList","amount","minus","toNumber","useIcehistoryList","btnData","m","title","depositor","priceOfBox","div","BnnerPanel","windowSize","ShowImg","ConentFlex","Banpanl","Banner","setWindowSize","initState","setInitState","initState2","setInitState2","dome","document","getElementById","dome1","innerHTML","AniTimerScroll","setTimeout","scrollLeft","clientWidth","AniTimerScrolls","offsetWidth","BoxPointer","FontPanel","MoreBtn","Home","showDes","setShowDes","mb","autoplay","wrapAround","adaptiveHeight","defaultControlsConfig","pagingDotsContainerClassName","pagingDotsClassName","nextButtonText","prevButtonText","prevButtonStyle","nextButtonStyle","add0","formatDate","timeStamp","time","y","getFullYear","getMonth","d","getDate","h","getHours","mm","getMinutes","s","getSeconds","roladPage","createAction","usePuzzleState","useSelector","puzzles","usePuzzleHandlers","dispatch","useDispatch","onIsRefresh","useCallback","isRefresh","SendBtn","StyleModal","StyleTextField","input","ModalConent","modal","paper","position","border","boxShadow","shadows","outline","SendModal","url","isopen","setOpens","lotIdAndIdx","PuzzleContract","classes","targetAddr","setTargetAddr","erro","setErro","hangSend","transfer","spId","message","Modal","closeAfterTransition","BackdropProps","Fade","in","cursor","tranPrice","substring","RightLog","RightLogText","ImgInfoModel","lotTimeHistory","historyList","setHistoryList","plus","lotIdAndPieceIndex","Promise","all","getBlock","history","useBoxTime","setOpen","fontWeight","timestamp","StyleImg","table","ownerList","setOwnerList","pageRefreshState","restus","originals","getLotCount","cont","nums","i","lotInfoList","lots","getOwnerList","entries","push","addrs","Array","Set","flat","addrObj","attr","unshift","useOwenerList","setLotIdAndIdx","showModal","TipModael","successDes","gasPriceInObj","useTokenApprove","tokenContract","spenderAddress","approve","ethers","constants","MaxUint256","tx","StylePuzzleList","StyleShopImg","StyleRightList","BoxPanel","BoxTitel","ShopBtn","ShopHasBtn","TimeBox","StylePagination","Pagination","BoxImgStyle","BeeImg","PuzzleGame","palette","background","page","setPage","shopOpen","setShopOpen","shopErro","setShopErro","timeData","setTimeData","inter","hour","min","second","dateSplit","setDateSplit","isApprove","setAllowanceState","beeContract","allowance","tokenAllowedStatus","isLessThan","useOwnerApprove","onTokenApprove","roladList","handleApprove","boxList","setBoxList","x","shenyu","totalBoxCount","jigsawPieceCountInEachBox","useBox","totalBox","useMemo","num","residue","showBox","start","end","handShop","buyBlindbox","getBtn","mysteryBox","second_Time","seconds","Number","Math","floor","setInterval","formatTime","split","clearInterval","flexWrap","ceil","count","hidePrevButton","hideNextButton","Puzzle","setData","intro","setIntro","createLot","priceAmount","ResValid","setlotId","imgId","setImgId","events","indexId","find","newOwer","PuzzleMangent","useIceState","Ice","DropDownHeader","DropDownListContainer","Boxs","DropDownContainer","css","DropDownList","ul","ListItem","li","Image","onOptionChange","selectIndex","placeHolderText","dropdownRef","optionSelected","setOptionSelected","selectedOptionIndex","setSelectedOptionIndex","handleClickOutside","stopPropagation","ref","option","textAlign","selectedIndex","IceTop","IceCenter","StyleIcon","BoxImg","DesPanel","DesVale","STyleTitle","StyleBtnEnaring","SelectConent","SelectBox","StyleResSpan","IceWater","useParams","setInterState","useIceHandlers","useIceApprove","onApprove","IceBoxlist","setIceBoxlist","fetchs","CreateBoxList","newArr","boxShielding","boxNum","opt","boxIds","owenrArray","k","elseArray","newArray","listObj","attrs","zhTitle_s","zhConet_s","useBoxList","selectBoxIndex","findIndex","selectBox","setSelectBox","selectWater","setSelect","ownerState","setOwnerState","boxInfo","setBoxInfo","totalAddr","setTotalAddr","boxitem","getEntryLists","iceIdx","iceList","waterIdx","waterList","resItem","waterItem","JSON","parse","stringify","iceOwner","waterOwner","totalArray","useOwnerExists","ownerWaterIdx","ownerIceIdx","water","ice","enaring","setEnaring","withdraw","resAmount","resIce","useWithdraw","handlePour","Ifadditional","isWater","utils","toHex","deposit","handleRecaption","ownerIdex","useHandFuc","setAmount","setSuccessDes","handBeton","respon","handRecaptionFuc","ownerIdx","waterAmount","iceAmount","gt","getResWater","getResIce","useDrawBoxState","DrawBox","useDrawBoxHandlers","useGetBetaAndPI","Servers","fetchWithTimeout","resource","abortController","AbortController","abort","signal","clearTimeout","getBetaAndPI","hashHex","random","j","PI","VrfGovABI","Web3Provider","vrfgovContract","pubKey","onchainKey","resp0","text","key0","StyletotoalDes","StyleTop","StyleNUmber","StyleCenterBox","PeddingBtn","DrawLots","parameterId","setLotId","deadline","setDeadline","DrawContract","LotIdObj","lotIdValue","lotIdTime","hexToNumberString","mod","useDrawId","drawData","setDraw","buyerMap","setBuyerMap","listMoney","setListMoney","DrawContractStatic","luckyDrawMap","resDraw","getBuyersAndHeights","ret","g","retData","retObj","sender","block","msgsender","senderInfo","B","catch","err","listBetaAndPI","BetaAndPI","finditem","getPrize","Beta","money","listMoney_s","useDrawAndBuyersHeights","handleBuy","buyBox","msgenderIdx","rdm","pi","listMoneys","testData","settestData","drawDatas","fill","useDrawApprove","handBuy","handRecaption","dataRes","dataLen","showMoney","isAward","dateEnd","setDateEnd","Liquidity","dellist","setDelList","task","setTask","exists","setExists","SEP20ABI","ImplAddr","FactoryAddr","CCABI","FactoryABI","packPrice","effBits","mask","eq","twoPow24","shift","shiftBN","low24","sub","add","mul","unpackPrice","packed","isZero","signer","getSigner","getAddress","myAddr","innerText","URL","location","moneyAddr","moneyContract","moneySymbol","moneyDecimals","moneyURL","balanceOf","moneyAmt","formatUnits","alert","stockAddr","stockContract","stockSymbol","stockDecimals","stockURL","stockAmt","factoryContract","MarketAddress","getCode","allowanceBN","setIsApprove_1","listMyRobots","listRobotsForBuying","listRobotsForSelling","isApprove_1","setIsApprove_2","checkAllowanceAndBalance","balanceBN","balance","checkAllowanceAndBalance2","approve1Fnc","parseUnits","stockAddrContract","BeeTokentAbi","CreateRobot","stockAmount","moneyAmount","stockAmountBN","moneyAmountBN","highPrice","lowPrice","robotInfo","marketContract","val","createRobot","getAllRobots","onlyForAddr","allRobotsArr","allRobots","twoPow32","twoPow96","RobotsMap","fullId","robot","toHexString","shortId","ownerAddr","info","robots","htmlStr","Sell","robotId","stockDelta","stockDeltaBN","sellToRobot","deleteRobot","handjiaoyiCreate","create","FormControl","FormLabel","RadioGroup","FormControlLabel","control","Radio","step","DeleteRobot","useBeeApprove","markAddress","Exchange","toFormatPrice","validnum","fixNum","BN","clone","config","EXPONENTIAL_AT","sd","ROUND_DOWN","StyleSpan","StyleExchange","Swap","setMarkAddress","feth","factoryContractAbi","useAllRobots","useExchangeHandlers","bchAmount","setBchAmount","RobotAbi","CreateBox","LuckyDraw","setLuckyDraw","prizesRes","LuckyDraws","startLuckyDraw","accountStr","GetBack","withdrawl","DrawMangement","Font","html","App","path","element","createReducer","builder","addCase","payload","store","configureStore","reducer","Providers","ReactDOM","render","connectors","bsc","walletconnect","rpcUrl"],"mappings":"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","file":"static/js/main.beb160cf.chunk.js","sourcesContent":["import { useEffect, useLayoutEffect, useState } from \"react\";\r\n\r\ntype State = {\r\n    [key: string]: boolean;\r\n};\r\n\r\ntype BreakpointChecks = {\r\n    isMobile: boolean;\r\n    isTablet: boolean;\r\n    isDesktop: boolean;\r\n} & State;\r\n\r\ntype MediaQueries = {\r\n    [key: string]: string;\r\n};\r\n\r\nconst breakpointMap: { [key: string]: number } = {\r\n    xs: 370,\r\n    sm: 576,\r\n    md: 749,\r\n    lg: 750,\r\n    xl: 1080,\r\n    xxl: 1200,\r\n};\r\n\r\nexport const useIsomorphicEffect = typeof window === \"undefined\" ? useEffect : useLayoutEffect;\r\n\r\n/**\r\n * Can't use the media queries from \"base.mediaQueries\" because of how matchMedia works\r\n * In order for the listener to trigger we need have have the media query with a range, e.g.\r\n * (min-width: 370px) and (max-width: 576px)\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/MediaQueryList\r\n */\r\nconst mediaQueries: MediaQueries = (() => {\r\n    let prevMinWidth = 0;\r\n\r\n    return Object.keys(breakpointMap).reduce((accum, size, index) => {\r\n        // Largest size is just a min-width of second highest max-width\r\n        if (index === Object.keys(breakpointMap).length - 1) {\r\n            return { ...accum, [size]: `(min-width: ${prevMinWidth}px)` };\r\n        }\r\n\r\n        const minWidth = prevMinWidth;\r\n        const breakpoint = breakpointMap[size];\r\n\r\n        // Min width for next iteration\r\n        prevMinWidth = breakpoint + 1;\r\n\r\n        return { ...accum, [size]: `(min-width: ${minWidth}px) and (max-width: ${breakpoint}px)` };\r\n    }, {});\r\n})();\r\n\r\nconst getKey = (size: string) => `is${size.charAt(0).toUpperCase()}${size.slice(1)}`;\r\n\r\nconst getState = () => {\r\n    const s = Object.keys(mediaQueries).reduce((accum, size) => {\r\n        const key = getKey(size);\r\n        if (typeof window === \"undefined\") {\r\n            return {\r\n                ...accum,\r\n                [key]: false,\r\n            };\r\n        }\r\n\r\n        const mql = typeof window?.matchMedia === \"function\" ? window.matchMedia(mediaQueries[size]) : null;\r\n        return { ...accum, [key]: mql?.matches ?? false };\r\n    }, {});\r\n    return s;\r\n};\r\n\r\nconst useMatchBreakpoints = (): BreakpointChecks => {\r\n    const [state, setState] = useState<State>(() => getState());\r\n\r\n    useIsomorphicEffect(() => {\r\n        // Create listeners for each media query returning a function to unsubscribe\r\n        const handlers = Object.keys(mediaQueries).map((size) => {\r\n            let mql: MediaQueryList;\r\n            let handler: (matchMediaQuery: MediaQueryListEvent) => void;\r\n\r\n            if (typeof window?.matchMedia === \"function\") {\r\n                mql = window.matchMedia(mediaQueries[size]);\r\n\r\n                handler = (matchMediaQuery: MediaQueryListEvent) => {\r\n                    const key = getKey(size);\r\n                    setState((prevState) => ({\r\n                        ...prevState,\r\n                        [key]: matchMediaQuery.matches,\r\n                    }));\r\n                };\r\n\r\n                // Safari < 14 fix\r\n                if (mql.addEventListener) {\r\n                    mql.addEventListener(\"change\", handler);\r\n                }\r\n            }\r\n\r\n            return () => {\r\n                // Safari < 14 fix\r\n                if (mql?.removeEventListener) {\r\n                    mql.removeEventListener(\"change\", handler);\r\n                }\r\n            };\r\n        });\r\n\r\n        setState(getState());\r\n\r\n        return () => {\r\n            handlers.forEach((unsubscribe) => {\r\n                unsubscribe();\r\n            });\r\n        };\r\n    }, []);\r\n    const isisTablets=state.isXl || state.isXs || state.isSm || state.isMd || state.isLg || state.isSm\r\n    return {\r\n        ...state,\r\n        isMobile: state.isXs || state.isSm,\r\n        isTablet: state.isMd || state.isLg,\r\n        isDesktop: state.isLg ||state.isXl || state.isXxl,\r\n        // isDesktop: !isisTablets,\r\n    };\r\n};\r\n\r\nexport default useMatchBreakpoints;\r\n","import React, { useState } from 'react';\r\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Box, Divider, MenuItem, Select, TextField } from '@material-ui/core';\r\nimport { useTranslation } from 'react-i18next';\r\nimport styled from 'styled-components';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\n\r\n\r\nconst StyleBox = styled(Box)`\r\n    padding: 2px 40px 2px 20px;\r\n    color: #fefefe;\r\n    /* border: 1px solid #0a4ca1; */\r\n    background: black;\r\n`;\r\nconst StyleSelect = styled(Select)`\r\n    color: #ffffff !important;\r\n    border: 1px solid rgb(100 200 50);\r\n    input{\r\n      color: #ffffff !important;\r\n    }\r\n`;\r\n\r\nconst StyleBoxBtn = styled(Box)`\r\n    @media (max-width: 750px) {\r\n       height: 0.48rem;\r\n       width: 1.2rem ;\r\n       font-size: 0.21rem;\r\n       .icon{\r\n        font-size: 0.4rem;\r\n       }\r\n    }\r\n\r\n    @media (min-width:750px){\r\n      width:64px;\r\n      height:28px;\r\n    }\r\n   \r\n    background: #00204B;\r\n    color: #ffffff !important;\r\n    display:flex;\r\n    justify-content:center;\r\n    align-items:center ;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    typography: {\r\n      padding: theme.spacing(2),\r\n    },\r\n  }),\r\n);\r\n\r\nconst StylePopover = styled(Popover)`\r\n  .MuiPopover-root{\r\n   background-color: black;\r\n  }\r\n  .MuiPopover-paper{\r\n    background-color: black;\r\n  }\r\n  :focus-visible{\r\n    outline:none !important;\r\n    border:0px !important;\r\n  }\r\n`;\r\nconst I18nPopover: React.FC =()=> {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null);\r\n\r\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popover' : undefined;\r\n  const { t, i18n } = useTranslation();\r\n  const [i18nVal,setI18nVal]=useState('En');\r\n  const lngs:{\r\n      en:{nativeName:string},\r\n      zh:{nativeName:string}\r\n  } = {\r\n    en: { nativeName: \"En\" },\r\n    zh: { nativeName: \"Zh\" },\r\n  };\r\n  const handleChange=()=>{\r\n\r\n  }\r\n  return (\r\n    <Box pt={2} pb={2}>\r\n       {/* <StyleSelect\r\n          value={\"\"}\r\n          onChange={handleChange}\r\n          displayEmpty\r\n          // className={classes.selectEmpty}\r\n          inputProps={{ 'aria-label': 'Without label' }}\r\n        >\r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n          <MenuItem value={10}>Ten</MenuItem>\r\n          <MenuItem value={20}>Twenty</MenuItem>\r\n          <MenuItem value={30}>Thirty</MenuItem>\r\n\r\n      </StyleSelect> */}\r\n\r\n\r\n      <StyleBoxBtn  onClick={handleClick}>\r\n        <span>{i18nVal}</span>\r\n        <ArrowDropDownIcon className='icon'></ArrowDropDownIcon>\r\n      </StyleBoxBtn>\r\n\r\n      {/* <Button \r\n      aria-describedby={id} \r\n      variant=\"outlined\" \r\n      color=\"secondary\" \r\n      onClick={handleClick}>\r\n        {i18nVal}\r\n        <ArrowDropDownIcon></ArrowDropDownIcon>\r\n      </Button> */}\r\n      <StylePopover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'left',\r\n        }}\r\n        transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n          }}\r\n      >\r\n       <Box flex={1}>\r\n         {Object.keys(lngs).map((lng:string,index) => (<>\r\n         <StyleBox \r\n        \r\n         style={{'cursor':'pointer','fontSize': '18px'}}\r\n         flex={1} \r\n         onClick={() => {\r\n            setI18nVal((lngs as any)[lng].nativeName);\r\n            i18n.changeLanguage(lng);\r\n            handleClose()\r\n         }}>\r\n           {(lngs as any)[lng].nativeName}\r\n            {/* <button\r\n                key={lng}\r\n                style={{\r\n                    fontWeight: i18n.resolvedLanguage === lng ? \"bold\" : \"normal\",\r\n                }}\r\n                type=\"submit\"\r\n                onClick={() => {\r\n                    setI18nVal(lng);\r\n                    i18n.changeLanguage(lng);\r\n                }}\r\n                >\r\n                {(lngs as any)[lng].nativeName}\r\n                </button> */}\r\n        </StyleBox>\r\n        </>\r\n    \r\n        \r\n       \r\n         \r\n        ))}\r\n       </Box>\r\n       \r\n      </StylePopover>\r\n    </Box>\r\n  );\r\n}\r\nexport default I18nPopover;"," const   setupNetwork = async () => {\r\n    const provider = window.ethereum;\r\n    if (provider) {\r\n      // bch chainId 10000 转 16进制\r\n      const chainId = (10000).toString(16);\r\n      try {\r\n          await provider.request({\r\n            method: 'wallet_switchEthereumChain',\r\n            params: [{ chainId: `0x${chainId}` }],\r\n          });\r\n          return true;\r\n      }catch (switchError:any) {\r\n\r\n        if (switchError.code === 4902) {\r\n          try {\r\n            await provider.request({\r\n              method: 'wallet_addEthereumChain',\r\n              params: [\r\n                {\r\n                  chainId: `0x${chainId}`,\r\n                  chainName: 'Smart Bitcoin Cash',\r\n                  nativeCurrency: {\r\n                    name: 'BCH',\r\n                    symbol: 'bch',\r\n                    decimals: 18,\r\n                  },\r\n                  rpcUrls: [\"https://global.uat.cash/\"],\r\n                  blockExplorerUrls: [`https://www.smartscan.cash/`],\r\n                },\r\n              ],\r\n            })\r\n            return true\r\n          } catch (error) {\r\n            console.error('Failed to setup the network in Metamask:', error)\r\n            return false\r\n          }\r\n        }\r\n\r\n\r\n      }\r\n\r\n   \r\n     \r\n    } else {\r\n      console.error(\"Can't setup the BSC network on metamask because window.ethereum is undefined\")\r\n      return false\r\n    }\r\n  }\r\n\r\nexport default setupNetwork;","import { Box, Button } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useMatchBreakpoints from \"../../hooks/useMatchBreakpoints\";\r\nimport I18nPopover from \"./i18nPopover\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport FeaturedPlayListIcon from '@material-ui/icons/FeaturedPlayList';\r\nimport { useWallet } from \"@binance-chain/bsc-use-wallet\";\r\nimport setupNetwork from \"../../utils/wallt\";\r\n\r\nconst Center = styled(Box)<any>`\r\n  background-image: url(/image/新建项目.svg);\r\n  background-repeat: no-repeat;\r\n  background-size: 100% 100%;\r\n  background-attachment: fixed;\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst StylePanel=styled(Box)`\r\n     height: 80px;\r\n     background-color: #001634;\r\n`\r\n\r\nconst ConnectBtn=styled(Box)`\r\n\r\n    @media (max-width: 750px) {\r\n       height: 0.48rem;\r\n       font-size: 0.21rem;\r\n       padding:0.03rem 0.13rem 0.03rem 0.13rem;\r\n    }\r\n\r\n    @media (min-width:750px){\r\n       padding:0px 8px 0px 8px;\r\n       height: 32px;\r\n    }\r\n\r\n    background: #235ba6;\r\n    border-radius: 4px;\r\n    display: flex;\r\n    justify-content:center;\r\n    align-items:center ;\r\n    color:#fff ;\r\n    cursor: pointer;\r\n    :hover{\r\n      background-color: #1c4aa3;\r\n    }\r\n`\r\n\r\n\r\n\r\nconst ConnectWallt: React.FC = () => {\r\n  const { isDesktop, isMobile } = useMatchBreakpoints();\r\n  const { t } = useTranslation();\r\n  const wallet = useWallet();\r\n  const [connState,setConnState] = useState(false);\r\n\r\n  const connWall=async ()=>{\r\n      if(wallet.status === 'connected'){\r\n          wallet.reset();\r\n      }else{\r\n         try {\r\n           const res=await setupNetwork();\r\n           if(res){wallet.connect('injected')};\r\n         } catch (error) {\r\n           await wallet.connect('injected');\r\n         }\r\n      }\r\n  }\r\n\r\n\r\n\r\n  const addrTran= (str:string|null):string=>{\r\n    return `${str?.slice(0,6)}****${str?.slice(str.length-4,str.length)}`\r\n  } \r\n  return (\r\n     <ConnectBtn onClick={connWall}>\r\n        <img src=\"./image/qianbao.png\" alt=\"\" width={'14px'} height={'14px'}></img>\r\n        <Box ml={1}>{wallet.status === 'connected'?addrTran(wallet.account):t(\"Wallet\")}</Box>\r\n     </ConnectBtn>\r\n  );\r\n};\r\n\r\nexport default ConnectWallt;\r\n","import { Box, Button, Collapse, Popover } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useMatchBreakpoints from \"../../hooks/useMatchBreakpoints\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link,useNavigate  } from \"react-router-dom\";\r\n\r\n// import ownerList from \"../../../public/owner.json\";\r\nimport { useWallet } from \"@binance-chain/bsc-use-wallet\";\r\nconst StyleBox = styled(Box)`\r\n    padding: 10px 140px 10px 20px;\r\n    color: #fefefe; \r\n    border: 1px solid #061528 !important;\r\n    background: black;\r\n    cursor: pointer;\r\n    :hover{\r\n        background-color: #0a2547;\r\n    }\r\n    :focus-visible{\r\n        outline:none !important;\r\n    }\r\n`;\r\n\r\nconst MenuLink = styled(Link)`\r\n     @media (max-width: 750px) {\r\n        font-size: 12px;\r\n     }\r\n\r\n     @media (min-width:750px){\r\n      font-size: 18px;\r\n     }\r\n\r\n  display: flex;\r\n  margin-left: 20px;\r\n\r\n  font-weight: 600;\r\n  color: #fff;\r\n  text-decoration: none;\r\n  margin-right: 20px;\r\n\r\n\r\n  list-style:none ;\r\n  outline:none !important;\r\n  border:0px !important;\r\n  :hover{\r\n    border:0px !important;\r\n  }\r\n  :focus-visible{\r\n    outline:none !important;\r\n    border:0px !important;\r\n  }\r\n`;\r\n\r\nconst StylePopover = styled(Popover)`\r\n  .MuiPopover-root{\r\n   background-color: black;\r\n  }\r\n  .MuiPopover-paper{\r\n    background-color: black;\r\n  }\r\n  :focus-visible{\r\n    outline:none !important;\r\n    border:0px !important;\r\n  }\r\n`;\r\nconst MnueBox=styled(Box)<{ isMobile?: boolean }>`\r\n     cursor: pointer;\r\n     @media (max-width: 750px) {\r\n       img{\r\n        height: 0.27rem;\r\n        width: 0.32rem;\r\n       \r\n       }\r\n       padding:0rem 0.31rem 0rem 0.28rem;\r\n     }\r\n\r\n     @media (min-width:750px){\r\n      img{\r\n        width: 24px;\r\n        height: 24px;\r\n       }\r\n       padding:18px 24px 18px 24px;\r\n     }\r\n`\r\n\r\nconst Menu: React.FC = () => {\r\n  const { isDesktop, isMobile } = useMatchBreakpoints();\r\n  const { t } = useTranslation();\r\n\r\n  const menu=[{\r\n   label:t(\"home\"),\r\n   route:\"/\"\r\n  },{\r\n    label:t(\"puzzle\"),\r\n    route:\"/puzzle\"\r\n  }\r\n  ,\r\n  {\r\n    label:t(\"IceWater\"),\r\n    route:\"/IceWater\"\r\n  },\r\n  {\r\n    label:t(\"Swap\"),\r\n    route:\"/Swap\"\r\n  },\r\n  {\r\n    label:t(\"DrawLots\"),\r\n    route:\"/DrawLots\"\r\n  }\r\n]\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null);\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popover' : undefined;\r\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const [ownerObj,setOwnerObj]=useState<any>({address:\"\"});\r\n  const {account} = useWallet();\r\n  useEffect(()=>{\r\n    fetch('./owner.json')\r\n    .then((response) => response.json())\r\n    .then((data) => {console.log(data);setOwnerObj(data)})\r\n  },[setOwnerObj,account])\r\n\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const navigate = useNavigate();\r\n \r\n  return (\r\n    <Box display=\"flex\">\r\n           <MnueBox display=\"flex\" onClick={handleClick}>\r\n             <img  src=\"./image/menu.png\" alt=\"\"   />\r\n           </MnueBox>\r\n           \r\n          \r\n           <StylePopover\r\n                id={id}\r\n                open={open}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                  vertical: 'bottom',\r\n                  horizontal: 'left',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                  }}\r\n              >\r\n              <Box flex={1}>\r\n                {menu.map((item:{label:string,route:string},index) => (<>\r\n             \r\n                <StyleBox \r\n                  onClick={()=>{\r\n                    navigate(item.route);\r\n                    handleClose();\r\n                  }}\r\n                  style={{'cursor':'pointer','fontSize': isDesktop?'18px':\"12px\"}} flex={1}>\r\n                  <MenuLink to={item.route}>{item.label}</MenuLink>\r\n                </StyleBox>\r\n               \r\n                \r\n                </>\r\n                ))}\r\n                 {\r\n                  account===ownerObj.address||\r\n                  account===ownerObj.address1||\r\n                  account===ownerObj.liquidityAddress\r\n                  ? <StyleBox \r\n                  onClick={()=>{navigate(\"/owner\");handleClose();}}\r\n                  style={{'cursor':'pointer','fontSize': '18px'}} flex={1}>\r\n                   <MenuLink to=\"/owner\">{t(\"owner Management\")}</MenuLink>\r\n                  </StyleBox>:\"\"\r\n                }\r\n              </Box>\r\n       \r\n           </StylePopover>\r\n            \r\n          \r\n    </Box>\r\n    \r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import { Box, Button } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport LoginButton from \"../Login/Login\";\r\nimport WhatshotIcon from \"@material-ui/icons/Whatshot\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ButtonAppBar from \"./ButtonAppBar\";\r\nimport useMatchBreakpoints from \"../../hooks/useMatchBreakpoints\";\r\nimport I18nPopover from \"./i18nPopover\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport ConnectWallt from \"./ConnectWall\";\r\nimport Menu from \"./Menu\";\r\n\r\nconst Center = styled(Box)<any>`\r\n  background-image: url(/image/新建项目.svg);\r\n  background-repeat: no-repeat;\r\n  background-size: 100% 100%;\r\n  background-attachment: fixed;\r\n  border-radius: 10px;\r\n`;\r\nconst ImgCenter = styled.img`\r\n  width: 130px;\r\n  height: 130px;\r\n`;\r\nconst ImgMint = styled.img`\r\n  padding: 15px;\r\n`;\r\nconst HeaderContainer = styled(Box)`\r\n  height: 100px;\r\n  color: #fff;\r\n  background: black;\r\n  border-bottom: 1px solid #3c3c3c;\r\n  margin-bottom: 2px;\r\n  position: fixed;\r\n  width: 100%;\r\n`;\r\nconst BoxMenu = styled(Box)``;\r\nconst MenuLink = styled(Link)`\r\n  display: flex;\r\n  margin-left: 20px;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #fff;\r\n  text-decoration: none;\r\n  margin-right: 20px;\r\n`;\r\n\r\nconst StyleHeader=styled(Box)<{ isMobile?: boolean }>`\r\n     height:${(props) => (props.isMobile ? \"60px\" : \"60px\")} ;\r\n     background-color: #001634;\r\n`\r\n\r\nconst BoxImage=styled(Box)<{ isMobile?: boolean }>`\r\n  /* width: ${(props) => (props.isMobile?\"0.32rem\":\"24px\")};\r\n  height: ${(props) => (props.isMobile?\"0.27rem\":\"24px\")};\r\n  padding:${(props) => (props.isMobile ? \"0rem 0.31rem 0rem 0.28rem\" : \"18px 24px 18px 24px\")} ; */\r\n`\r\nconst StyleWalltBtn=styled(Box)`\r\n   /* padding:14px 28px 14px 36px; */\r\n   /* margin-right: 28px; */\r\n`\r\n\r\nconst LogBox=styled(Box)`\r\n  @media (max-width: 750px) {\r\n       height: 0.54rem;\r\n       width: 1.62rem;\r\n  }\r\n\r\n  @media (min-width:750px){\r\n      height: 36px;\r\n      width:  108px;\r\n  }\r\n`\r\nconst StyleBox = styled.img`\r\n\r\n\r\n  /* width: 32px;\r\n  height: 32px; */\r\n`;\r\n\r\nconst Header: React.FC = () => {\r\n  const { isDesktop, isMobile } = useMatchBreakpoints();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <StyleHeader alignItems='center' isMobile={!isDesktop} pr={3} display=\"flex\">\r\n         <BoxImage isMobile={!isDesktop} display=\"flex\">\r\n           <Menu></Menu>\r\n         </BoxImage>\r\n         <Box display=\"flex\" flex={1} alignItems=\"center\" justifyContent=\"space-between\">\r\n             <LogBox display=\"flex\" >\r\n                <img src=\"./image/log.png\" alt=\"\" width='100%' />\r\n             </LogBox>\r\n             <Box display=\"flex\" alignItems='center'>\r\n                 <I18nPopover></I18nPopover>\r\n             </Box>\r\n         </Box>\r\n         <StyleWalltBtn ml={2} display=\"flex\"  alignItems='center'>\r\n            <ConnectWallt></ConnectWallt>\r\n         </StyleWalltBtn>\r\n    </StyleHeader>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { Box, Button } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useMatchBreakpoints from \"../../hooks/useMatchBreakpoints\";\r\nimport I18nPopover from \"./i18nPopover\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n\r\nconst StylePanel=styled(Box)<{ isDesktop?: boolean }>`\r\n     background-color:${(props) => (props.isDesktop?'#021734':'#061E3E ')};\r\n     /* height:${(props) => (props.isDesktop?'80px':'auto')};\r\n     flex-shrink:0;\r\n     align-items: center;\r\n     padding-bottom:0.5rem ; */\r\n\r\n     @media (max-width: 750px) {\r\n        padding:0.2rem 0 0.2rem 0;\r\n      }\r\n\r\n      @media (min-width:750px){\r\n         padding:28px 0 28px 0;\r\n      }\r\n`\r\n\r\nconst RightPanel=styled(Box)<{ isMobile?: boolean }>`\r\n    /* margin-left:243px; */\r\n    /* padding-right:${(props) => (props.isMobile?'30px':'0px')}; */\r\n    /* position:${(props) => (props.isMobile?'none':'absolute')};\r\n    right: ${(props) => (props.isMobile?'24px':'3rem')}; */\r\n`\r\nconst Flex=styled(Box)`\r\n     display: flex;\r\n`\r\nconst RelationText=styled(Flex)`\r\n     display: flex;\r\n     font-size: 12px;\r\n     color:#fff;\r\n     margin-top: 2px;\r\n`\r\nconst RelationImg=styled.img`\r\n     width: 29px;\r\n     height: 29px;\r\n     cursor: pointer;\r\n`\r\nconst VersionTitle=styled(Flex)`\r\n      @media (max-width: 750px) {\r\n          width:  2.72rem;\r\n          /* height: 0.62rem; */\r\n      }\r\n\r\n      @media (min-width:750px){\r\n          width:  326px;\r\n          /* height: 74px; */\r\n      }\r\n`\r\nconst FootPanel=styled(Flex)`\r\n      @media (max-width: 750px) {\r\n          img{\r\n            width:  0.53rem;\r\n            height: 0.62rem;\r\n          }\r\n      }\r\n\r\n      @media (min-width:750px){\r\n          img{\r\n            width:  63px;\r\n            height: 74px;\r\n          }\r\n      }\r\n`\r\n\r\n\r\n\r\nconst Footer: React.FC = () => {\r\n  const { isDesktop, isMobile } = useMatchBreakpoints();\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <>\r\n      {\r\n        !isDesktop?<>\r\n            <Flex pt=\"0.4rem\" pb=\"0.12rem\" justifyContent=\"center\" style={{backgroundColor:\"#021734\"}}>\r\n    \r\n\r\n              <Flex  alignItems=\"center\" flexDirection=\"column\" justifyContent=\"center\">\r\n                <Flex>\r\n                  <Flex >\r\n                    <img src=\"./image/home/bchSwarm.png\" alt=\"\" style={{width:\"1.88rem\",height:\"0.36rem\"}} />\r\n                  </Flex>\r\n                  <Flex ml={'14px'} mt={\"-0.11rem\"}>\r\n                    <img src=\"./image/home/bchHome.png\" alt=\"\" style={{width:\"1.41rem\",height:\"0.56rem\"}}/>\r\n                  </Flex>\r\n                </Flex>\r\n\r\n                <Flex mt='0.24rem'>\r\n                  <img src=\"./image/home/smartbch.png\" alt=\"\" style={{width:\"1.28rem\",height:\"0.34rem\"}}/>\r\n                  <Flex ml={'21px'}  pt={'0.04rem'}>\r\n                    <img src=\"./image/home/greenlog.png\" alt=\"\" style={{width:\"1.55rem\",height:\"0.18rem\"}}/>\r\n                  </Flex>\r\n                </Flex>\r\n                <Flex component=\"span\" fontSize=\"0.16rem\" color=\"#bcbcbc\" mt={\"0.15rem\"}>\r\n                  <img src=\"./image/home/18+.png\" alt=\"\" style={{width:\"0.2rem\",height:\"0.2rem\",marginRight:\"0.16rem\"}}/>\r\n                  {t(\"Warning: Gambling can be addictive\")}\r\n              \r\n                </Flex>\r\n\r\n                <Flex mt='0.18rem' justifyContent=\"space-between\">\r\n\r\n                  {/* <a style={{\"display\":\"flex\"}} >\r\n                    <img src=\"./image/home/wx.png\" alt=\"\"   style={{marginLeft:\"0.29rem\",width:\"0.36rem\",height:\"0.36rem\"}}/>\r\n                  </a> */}\r\n                  <a style={{\"display\":\"flex\"}}   href=\"https://discord.gg/Y6JhcDVdeg\"  >\r\n                    <img src=\"./image/home/dis.png\" alt=\"\"  style={{marginLeft:\"0.29rem\",width:\"0.36rem\",height:\"0.36rem\"}} />\r\n                  </a>\r\n                  <a style={{\"display\":\"flex\"}}  href=\"https://twitter.com/bch_sun?t=fJv3tHeJfQ7e2MDJOFC1nw&s=09\">\r\n                   <img src=\"./image/home/tuite.png\" alt=\"\" style={{marginLeft:\"0.29rem\",width:\"0.36rem\",height:\"0.36rem\"}} />\r\n\r\n                  </a>\r\n                  <a style={{\"display\":\"flex\"}}  href=\"https://t.me/bchchinese\" >\r\n                   <img src=\"./image/home/tg.png\" alt=\"\"  style={{marginLeft:\"0.29rem\",width:\"0.36rem\",height:\"0.36rem\"}} />\r\n                   </a>\r\n                </Flex>\r\n              </Flex>\r\n            </Flex>\r\n             <StylePanel isDesktop={isDesktop}  display=\"flex\" alignItems=\"center\"  justifyContent={\"center\"} >\r\n     \r\n             <FootPanel\r\n                     \r\n                     ml={isDesktop?0:2}\r\n                     mr={isDesktop?0:2}\r\n                     flexDirection={\"row\"} \r\n                     alignItems={\"center\"}>\r\n                 <img src=\"./image/bouttumLog.png\" alt=\"\" width=\"108px\"  height=\"36px\"/>\r\n                 <VersionTitle\r\n                   mt={\"0.2rem\"} \r\n                   style={{width:\"auto\"}}\r\n                   pl=\"25px\"\r\n                   fontSize={\"0.14rem\"}\r\n                   component={'span'} \r\n                   fontFamily=\"SourceHanSansCN, SourceHanSansCN-Light\"\r\n                   color=\"#bcbcbc\" >\r\n                     <Flex component={\"span\"}>\r\n                     {t(\"Allcopyright\")} &#169 2016-2022 Smein Hosting N.V. Abraham de Veerstraat 9\r\n                     </Flex>\r\n                   </VersionTitle>\r\n             </FootPanel>\r\n             \r\n             </StylePanel>\r\n        </>\r\n      \r\n        :\r\n        <StylePanel isDesktop={isDesktop}  display=\"flex\" alignItems=\"center\"  justifyContent={!isDesktop?\"center\":\"space-evenly\"} >\r\n        \r\n        <FootPanel\r\n                ml={isDesktop?0:4}\r\n                flexDirection={isDesktop?\"row\":\"column\"} \r\n                alignItems={isDesktop?\"center\":\"left\"}>\r\n            <img src=\"./image/bouttumLog.png\" alt=\"\" width=\"108px\"  height=\"36px\"/>\r\n            <VersionTitle \r\n              pl=\"25px\"\r\n              component={'span'} \r\n              fontFamily=\"SourceHanSansCN, SourceHanSansCN-Light\"\r\n              color=\"#bcbcbc\" >\r\n                <Flex component={\"span\"}>\r\n                {t(\"Allcopyright\")} &#169 2016-2022 Smein Hosting N.V. Abraham de Veerstraat 9\r\n                </Flex>\r\n              </VersionTitle>\r\n        </FootPanel>\r\n        \r\n        {\r\n          isDesktop?\r\n          <>\r\n                     <Flex>\r\n            <Flex flexDirection=\"column\">\r\n              <img src=\"./image/home/bchSwarm.png\" alt=\"\" width=\"188px\"  height=\"36px\"/>\r\n              <Flex fontSize=\"12px\" color=\"#bcbcbc\" mt={\"28px\"}>\r\n                <Flex mr={2}>\r\n                  <img src=\"./image/home/18+.png\" alt=\"\"  width=\"20px\"  height=\"20px\"/>\r\n\r\n                </Flex>\r\n                {t(\"Warning: Gambling can be addictive\")}\r\n              </Flex>\r\n            </Flex>\r\n            <Flex ml={'14px'} mt={\"-13px\"}>\r\n             <img src=\"./image/home/bchHome.png\" alt=\"\" width=\"140px\"  height=\"56px\"/>\r\n            </Flex>\r\n         </Flex>\r\n\r\n         <Flex flexDirection=\"column\">\r\n            <Flex >\r\n              <img src=\"./image/home/smartbch.png\" alt=\"\" width=\"128px\"  height=\"34px\"/>\r\n              <Flex ml={'21px'}  pt={'5px'}>\r\n               <img src=\"./image/home/greenlog.png\" alt=\"\" width=\"155px\"  height=\"17px\"/>\r\n              </Flex>\r\n            </Flex>\r\n            <Flex mt={'22px'} justifyContent=\"space-evenly\">\r\n            \r\n             {/* <img src=\"./image/home/wx.png\" alt=\"\" width=\"36px\"  height=\"36px\"/> */}\r\n             <a href=\"https://discord.gg/Y6JhcDVdeg\">\r\n               <img src=\"./image/home/dis.png\" alt=\"\" width=\"36px\"  height=\"36px\"/>\r\n             </a>\r\n             <a href=\"https://twitter.com/bch_sun?t=fJv3tHeJfQ7e2MDJOFC1nw&s=09\">\r\n              <img src=\"./image/home/tuite.png\" alt=\"\" width=\"36px\"  height=\"36px\"/>\r\n             </a>\r\n             <a href=\"https://t.me/bchchinese\">\r\n               <img src=\"./image/home/tg.png\" alt=\"\" width=\"36px\"  height=\"36px\"/>\r\n             </a>\r\n            \r\n\r\n            </Flex>\r\n         </Flex>\r\n          </>\r\n          :\"\"\r\n        }\r\n\r\n        </StylePanel>\r\n      }\r\n     \r\n       \r\n   \r\n    </>\r\n  \r\n    \r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import {\r\n  BottomNavigation,\r\n  BottomNavigationAction,\r\n  Box,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport TwitterIcon from \"@material-ui/icons/Twitter\";\r\nimport TelegramIcon from \"@material-ui/icons/Telegram\";\r\nimport EmailIcon from \"@material-ui/icons/Email\";\r\nimport useMatchBreakpoints from \"../../hooks/useMatchBreakpoints\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Header from \"./header\";\r\nimport Footer from \"./Footer\";\r\nimport Main from \"./Main\";\r\nimport { Outlet } from \"react-router-dom\";\r\n\r\nconst GameImg = styled(Box)<any>`\r\n  background-image: url(/image/完整.png);\r\n  background-repeat: no-repeat;\r\n  background-size: 100% 100%;\r\n  background-attachment: fixed;\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst BoxFont = styled(Box)`\r\n  span {\r\n    font-size: 52px;\r\n    font-weight: bold;\r\n  }\r\n`;\r\nconst BoxImg = styled(Box)`\r\n  min-width: 312px;\r\n  min-height: 200px;\r\n`;\r\nconst BoxTwoImg = styled(Box)<{ isMobile?: boolean }>`\r\n  // height: 385px;\r\n  min-width: 312px;\r\n  margin-left: ${(props) => (props.isMobile ? \"0px\" : \"75px\")};\r\n  margin-top: -75px;\r\n`;\r\nconst BoxTop = styled(Box)`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex: 1;\r\n  border-bottom: 1px solid #4d4a4a;\r\n`;\r\nconst BoxGame = styled(Box)`\r\n  background: #2a2a2a;\r\n  padding: 80px 0;\r\n`;\r\n\r\nconst BoxButton = styled(Box)`\r\n  height: 50px;\r\n  background: #64c832;\r\n  color: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0px 50px 0px 50px;\r\n  border-radius: 10px;\r\n  margin-left: 20px;\r\n  margin-right: 20px;\r\n  white-space: nowrap;\r\n  justify-content: center;\r\n`;\r\nconst RoleBox = styled(Box)`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  min-width: 200px;\r\n  padding-bottom: 20px;\r\n`;\r\n\r\nconst Container = styled(Box)<{ isMobile?: boolean }>`\r\n      @media (max-width: 750px) {\r\n        padding:0.24rem 0.4rem 0.24rem 0.4rem\r\n      }\r\n\r\n      @media (min-width:750px){\r\n        padding:15px 103px 0px 103px;;\r\n      }\r\n     background-color: #061E3E;\r\n     /* padding:${(props) => (props.isMobile ? \"1rem 1.67rem 0px 1.67rem;\" : \"24px 160px 0px 160px;\")}; */\r\n`;\r\n\r\n// const BoxTwoImg = styled(Box)<{ isMobile?: boolean }>`\r\n//   // height: 385px;\r\n//   min-width: 312px;\r\n//   margin-left: ${(props) => (props.isMobile ? \"0px\" : \"75px\")};\r\n//   margin-top: -75px;\r\n// `;\r\n// const Footer=styled(Box)`\r\n//      height: 80px;\r\n//      background-color: #001634;\r\n// `\r\n\r\nconst Layout: React.FC = () => {\r\n  const { isDesktop, isMobile } = useMatchBreakpoints();\r\n  const { t, i18n } = useTranslation();\r\n  return (\r\n    <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n     {/* <Box display=\"flex\" style={{width:\"100%\"}}>\r\n       <Header></Header>\r\n     </Box> */}\r\n     <Header></Header>\r\n     {/* <Main></Main> */}\r\n     <Container pb={2} isMobile={!isDesktop}   display=\"flex\" flex={1} flexDirection=\"column\">\r\n      <Outlet />\r\n     </Container>\r\n\r\n    \r\n     <Footer></Footer>\r\n      \r\n     \r\n     \r\n    \r\n      {/* <BoxTop display=\"flex\" flexWrap=\"wrap\" flex={1}>\r\n        <BoxImg display=\"flex\" flex={1} flexDirection=\"column\">\r\n          <img src=\"./image/火.png\" alt=\"\" width=\"100%\" height=\"100%\" />\r\n        </BoxImg>\r\n        <BoxFont\r\n          display=\"flex\"\r\n          flex={1}\r\n          justifyContent=\"center\"\r\n          flexDirection=\"column\"\r\n        >\r\n          <span>\r\n            {t(\"Explore the future direction of chain GAME GECKO GAME era\")}\r\n          </span>\r\n          <Box display=\"flex\" mt={10}>\r\n            <TwitterIcon />\r\n            <Box ml={2}>\r\n              <TelegramIcon />\r\n            </Box>\r\n            <Box ml={2}>\r\n              <EmailIcon />\r\n            </Box>\r\n          </Box>\r\n        </BoxFont>\r\n      </BoxTop>\r\n\r\n      <Box display=\"flex\" flex={1} flexWrap=\"wrap\">\r\n        <Box minWidth=\"300px\" display=\"flex\" flex={1} flexDirection=\"column\">\r\n          <h1>{t(\"About GECKO\")}</h1>\r\n          <p>{t(\"DNAxCAT 1\")} </p>\r\n          <p>{t(\"DNAxCAT 2\")}</p>\r\n        </Box>\r\n        <BoxTwoImg isMobile={isMobile} display=\"flex\" flex={1}>\r\n          <img src=\"./image/木.png\" alt=\"\" width=\"100%\" height=\"100%\" />\r\n        </BoxTwoImg>\r\n      </Box>\r\n\r\n      <BoxGame\r\n        display=\"flex\"\r\n        flex={1}\r\n        flexWrap=\"wrap\"\r\n        alignItems=\"center\"\r\n        flexDirection=\"column\"\r\n      >\r\n        <h1>{t(\"Game characters\")}</h1>\r\n\r\n        <Box display=\"flex\" flex={1} flexWrap=\"wrap\">\r\n          <RoleBox>\r\n            <BoxButton alignItems=\"center\">{t(\"Game characters 1\")}</BoxButton>\r\n            <img src=\"./image/雷.png\" width=\"100%\" alt=\"\" />\r\n            <Box display=\"flex\" justifyContent=\"center\">\r\n              {t(\"Game characters 2\")}\r\n            </Box>\r\n            <Box display=\"flex\" justifyContent=\"center\">\r\n              {t(\"Game characters 3\")}\r\n            </Box>\r\n          </RoleBox>\r\n\r\n          <RoleBox>\r\n            <BoxButton alignItems=\"center\">{t(\"Fire single attack\")}</BoxButton>\r\n            <img src=\"./image/火.png\" width=\"100%\" alt=\"\" />\r\n            <Box display=\"flex\" justifyContent=\"center\">\r\n              {t(\"Fire single attack 1\")}\r\n            </Box>\r\n            <Box display=\"flex\" justifyContent=\"center\">\r\n              {t(\"Fire single attack 2\")}\r\n            </Box>\r\n          </RoleBox>\r\n\r\n          <RoleBox>\r\n            <BoxButton alignItems=\"center\">{t(\"Woody treatment\")}</BoxButton>\r\n            <img src=\"./image/木.png\" width=\"100%\" alt=\"\" />\r\n            <Box display=\"flex\" justifyContent=\"center\">\r\n              {t(\"Woody treatment 1\")}\r\n            </Box>\r\n            <Box display=\"flex\" justifyContent=\"center\">\r\n              {t(\"Woody treatment 2\")}\r\n            </Box>\r\n          </RoleBox>\r\n\r\n          <RoleBox>\r\n            <BoxButton alignItems=\"center\">\r\n              {t(\"Water system assistance\")}\r\n            </BoxButton>\r\n            <img src=\"./image/水.png\" width=\"100%\" alt=\"\" />\r\n            <Box display=\"flex\" justifyContent=\"center\">\r\n              {t(\"Water system assistance 1\")}\r\n            </Box>\r\n            <Box display=\"flex\" justifyContent=\"center\">\r\n              {t(\"Water system assistance 2\")}\r\n            </Box>\r\n          </RoleBox>\r\n        </Box>\r\n      </BoxGame> */}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\nimport en from \"./i18n/en.json\"\r\nimport zh from \"./i18n/zh.json\";\r\n\r\n// the translations\r\n// (tip move them in a JSON file and import them,\r\n// or even better, manage them separated from your code: https://react.i18next.com/guides/multiple-translation-files)\r\nconst resources = {\r\n  en,\r\n  zh\r\n};\r\n\r\ni18n\r\n  .use(initReactI18next) // passes i18n down to react-i18next\r\n  .init({\r\n    resources,\r\n    lng: \"en\", // language to use, more information here: https://www.i18next.com/overview/configuration-options#languages-namespaces-resources\r\n    // you can use the i18n.changeLanguage function to change the language manually: https://www.i18next.com/overview/api#changelanguage\r\n    // if you're using a language detector, do not define the lng option\r\n\r\n    interpolation: {\r\n      escapeValue: false // react already safes from xss\r\n    }\r\n  });\r\n\r\n  export default i18n;","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { BottomNavigation, BottomNavigationAction, Box, Button } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport Web3 from 'web3';\r\nimport { AbiItem } from 'web3-utils'\r\nimport nftAbi from './../../config/abi/nft.json';\r\nimport addresses from './../../config/contract/nft';\r\n\r\nconst ImgCenter = styled.img`\r\n    width:130px;\r\n    height:130px;\r\n`\r\nconst ImgMint = styled.img`\r\n    padding:15px;\r\n`\r\nconst LoginBtn = styled(Box)`\r\n    /* background: #64c832; */\r\n    background: #d30052;\r\n    padding:0 18px;\r\n    height: 38px;\r\n    border-radius: 20px;\r\n    font-weight: bold;\r\n    cursor: pointer;\r\n`\r\n\r\nconst LoginButton: React.FC =()=>{\r\n\r\n    const wallet = useWallet()\r\n    // const nftAddress = addresses.nftAddress\r\n    // const web3 = new Web3(new Web3.providers.HttpProvider('https://moeing.tech:9545'));\r\n    const [addr,setAddres] = useState('')\r\n    // useEffect(()=>{\r\n    //     web3.eth.net.isListening().\r\n    //      then(async (res)=>{\r\n    //       const myContract=new web3.eth.Contract((nftAbi as unknown) as AbiItem,nftAddress)\r\n    //       console.log('myContract',myContract) \r\n    //       const nftName=await myContract.methods.name().call()\r\n    //       console.log('nftName:',nftName) \r\n    //      })\r\n    //     console.log('web3============',web3)\r\n    //   },[])\r\n    useEffect(()=>{\r\n        if(wallet.status === 'connected'){\r\n            wallet.reset()\r\n         }else{\r\n            wallet.connect('injected')\r\n         }\r\n        return ()=>{wallet.reset()}\r\n    },[])\r\n    const connWall=()=>{\r\n            if(wallet.status === 'connected'){\r\n               wallet.reset()\r\n            }else{\r\n               wallet.connect('injected')\r\n            }\r\n    }\r\n    const addrTran= (str:string|null):string=>{\r\n            return `${str?.slice(0,6)}****${str?.slice(str.length-4,str.length)}`\r\n    }\r\n\r\n  return <LoginBtn display='flex' alignItems='center' onClick={connWall}>\r\n           {wallet.status === 'connected'?addrTran(wallet.account):'Connection wallet'}\r\n         </LoginBtn>\r\n\r\n\r\n}\r\n\r\nexport default LoginButton;","import { Box, Button } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport LoginButton from \"../Login/Login\";\r\nimport WhatshotIcon from \"@material-ui/icons/Whatshot\";\r\nimport useMatchBreakpoints from \"../../hooks/useMatchBreakpoints\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport I18nPopover from \"../home/i18nPopover\";\r\nimport { useWallet } from \"@binance-chain/bsc-use-wallet\";\r\n\r\n\r\nconst HeaderContainer = styled(Box)`\r\n  height: 100px;\r\n  color: #fff;\r\n  background: black;\r\n  border-bottom: 1px solid #3c3c3c;\r\n  margin-bottom: 2px;\r\n  position: fixed;\r\n  width: 100%;\r\n`;\r\nconst BoxMenu = styled(Box)``;\r\nconst MenuLink = styled(Link)`\r\n  display: flex;\r\n  margin-left: 20px;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #fff;\r\n  text-decoration: none;\r\n  margin-right: 20px;\r\n`;\r\nconst Fireimg = styled(WhatshotIcon)`\r\n  color: #ff3618;\r\n  margin-top: -3px;\r\n  margin-left: 5px;\r\n`;\r\n\r\nconst Header: React.FC = () => {\r\n  const { isDesktop, isMobile } = useMatchBreakpoints();\r\n  const { t } = useTranslation();\r\n  const {account} = useWallet();\r\n  const [owner,setOwner] = useState();\r\n  const [liquidityAddress,setLiquidity] = useState();\r\n  useEffect(()=>{\r\n    fetch('./owner.json')\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      setLiquidity(data.liquidityAddress);\r\n      setOwner(data.address1)\r\n    })\r\n  },[])\r\n  \r\n  return (\r\n    <HeaderContainer\r\n      display=\"flex\"\r\n      flex={1}\r\n      alignItems=\"center\"\r\n      justifyContent=\"space-between\"\r\n    >\r\n     \r\n        <>\r\n          <Box display=\"flex\" alignItems=\"center\">\r\n            <BoxMenu display=\"flex\" ml={5}>\r\n              {\r\n                   (owner&&owner==account) || (liquidityAddress && account==liquidityAddress)?<>\r\n                   <MenuLink to=\"/owner/\">BeenToken管理</MenuLink>\r\n                   <MenuLink to=\"/owner/PuzzleMangent\">拼图盲盒</MenuLink>\r\n                   <MenuLink to=\"/owner/Liquidity\">添加流动性</MenuLink>\r\n                </>:\"\"\r\n              }\r\n              <MenuLink to=\"/owner/BlindBoxManagement\">冰水盲盒/Ice water box</MenuLink>\r\n              <MenuLink to=\"/owner/DrawMangement\">抽奖盲盒/Draw blind box</MenuLink>\r\n              {/* <MenuLink to=\"/owner/DrawMangement\">幸运盲盒</MenuLink> */}\r\n            </BoxMenu>\r\n          </Box>\r\n          <Box display=\"flex\" pr={3}>\r\n            <Box display=\"flex\" pr={3}>\r\n              <LoginButton   />\r\n            </Box>\r\n            {/* <I18nPopover /> */}\r\n          </Box>\r\n        </>\r\n      \r\n    </HeaderContainer>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { BottomNavigation, BottomNavigationAction, Box, Button } from '@material-ui/core';\r\nimport BigNumber from 'bignumber.js';\r\nimport { ethers } from 'ethers';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Web3 from 'web3';\r\nimport { AbiItem } from 'web3-utils'\r\nimport nftAbi from './../../config/abi/nft.json';\r\nimport addresses from './../../config/contract/nft';\r\nimport Header from './header';\r\n\r\nconst ImgCenter = styled.img`\r\n    width:130px;\r\n    height:130px;\r\n`\r\nconst ImgMint = styled.img`\r\n    padding:15px;\r\n`\r\nconst LoginBtn = styled(Box)`\r\n    /* background: #64c832; */\r\n    background: #d30052;\r\n    padding:0 18px;\r\n    height: 38px;\r\n    border-radius: 20px;\r\n    font-weight: bold;\r\n    cursor: pointer;\r\n`\r\nconst Container = styled(Box)`\r\n  /* background: black; */\r\n  padding: 20px;\r\n  /* color: #fff; */\r\n`;\r\n\r\nconst OwerPage: React.FC =()=>{\r\n//   useEffect(()=>{\r\n//     //地址类型address 16进制=》10进制整数类型 转换\r\n//     address==uint    address 16进制hex => 到uint  就是10进制整数\r\n//     let test1=new BigNumber(\"41260920106969412157321674113669319076297763250177730552014715551905833025592\");\r\n//     console.log(\"取模,取出低位区块号\",new BigNumber(\"31600036898245031257345518938338575071610785427121447961177338488262487965729\")\r\n//     .mod(new BigNumber(2).pow(96)).toFixed())\r\n\r\n//     const address=test1.div((new BigNumber(2).pow(96))).toFixed();\r\n//     console.log(\"address\",address)\r\n//     console.log(\"16进制unit地址==》 adress类型toHex\",Web3.utils.hexToNumberString(\"0x5B38Da6a701c568545dCfcB03FcB875f56beddC4\"))\r\n//     console.log(\"16进制unit地址==》 adress类型\",Web3.utils.numberToHex(address))\r\n\r\n\r\n\r\n//     //数据源 (uint(uint160(0x5B38Da6a701c568545dCfcB03FcB875f56beddC4))<<160)|56;\r\n//     const res=ethers.BigNumber.from(\"41260920106969412157321674113669319076297763250177730552014715551905833025592\").div(ethers.BigNumber.from(2).pow(96))\r\n//     console.log(\"ethers=======\",res.toHexString())\r\n    \r\n  \r\n//     // console.log(\"右移160位\",test1.div((new BigNumber(2).pow(160))).toFixed())\r\n//     // console.log(\"adress类型==》unit16进制\",Web3.utils.hexToNumberString('0x5B38Da6a701c568545dCfcB03FcB875f56beddC4'))\r\n//     // console.log(account)\r\n//     // console.log(\"16进制unit地址==》 adress类型toHex\",Web3.utils.toHex(address))\r\n//     //地址转成16进制字符串，对应者，合约里面 address类型转成 unit类型\r\n//   },[])\r\n\r\n  return  <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n            <Box display=\"flex\" height=\"100px\">\r\n                <Header />\r\n            </Box>\r\n            {/* <Container pt=\"100px\" display=\"flex\" flex={1} flexDirection=\"column\"> */}\r\n            <Container display=\"flex\" flex={1} flexDirection=\"column\">\r\n                <Outlet />\r\n            </Container>\r\n          </Box>\r\n\r\n}\r\n\r\nexport default OwerPage;","// import random from 'lodash/random'\r\n\r\n// Array of available nodes to connect to\r\nconst nodes = [process.env.REACT_APP_NODE_1, process.env.REACT_APP_NODE_2, process.env.REACT_APP_NODE_3]\r\n\r\nconst backups = {\r\n  '1': process.env.REACT_APP_NODE_BACKUP1,\r\n  '2': process.env.REACT_APP_NODE_BACKUP2,\r\n  '3': process.env.REACT_APP_NODE_BACKUP3,\r\n  '4': process.env.REACT_APP_NODE_BACKUP4\r\n}\r\n\r\nconst getNodeUrl = () => {\r\n  // const q = getOverride();\r\n  // if (q && backups[q]) return backups[q];\r\n\r\n  // const randomIndex = random(0, nodes.length - 1);\r\n  return nodes[0];\r\n}\r\n\r\nconst getOverride = () => {\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  return urlParams.get('rpcnode');\r\n}\r\n\r\nexport default getNodeUrl\r\n","import { useEffect, useState, useRef } from 'react'\r\nimport Web3 from 'web3'\r\nimport { HttpProviderOptions } from 'web3-core-helpers'\r\nimport { provider as ProviderType } from 'web3-core'\r\nimport { useWallet } from '@binance-chain/bsc-use-wallet'\r\nimport getRpcUrl from '../utils/getRpcUrl'\r\n\r\n\r\nconst RPC_URL = getRpcUrl()\r\nconst httpProvider = new Web3.providers.HttpProvider(RPC_URL as any, { timeout: 10000 } as HttpProviderOptions)\r\n\r\n/**\r\n * Provides a web3 instance using the provider provided by useWallet\r\n * with a fallback of an httpProver\r\n * Recreate web3 instance only if the ethereum provider change\r\n */\r\nconst useWeb3 = () => {\r\n  const { ethereum }: { ethereum: ProviderType } = useWallet()\r\n  const refEth = useRef(ethereum)\r\n  const [web3, setweb3] = useState(new Web3(ethereum || httpProvider))\r\n\r\n  useEffect(() => {\r\n    if (ethereum !== refEth.current) {\r\n      setweb3(new Web3(ethereum || httpProvider))\r\n      refEth.current = ethereum\r\n    }\r\n  }, [ethereum])\r\n\r\n  return web3\r\n}\r\n\r\nexport default useWeb3\r\n","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { BottomNavigation, BottomNavigationAction, Box, Button, CircularProgress, Paper, Tab, Tabs, Typography } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Web3 from 'web3';\r\nimport { AbiItem } from 'web3-utils'\r\nimport BeeTokenAbi from '../../../config/abi/BeeToken.json';\r\nimport BeeTokenByteCode from '../../../config/bytecode/BeeTokenByteCode.json';\r\n\r\nimport nftAbi from '../../../config/abi/nft.json';\r\nimport addresses from '../../../config/contract/nft';\r\nimport Header from '../header';\r\nimport DoneAllSharpIcon from '@material-ui/icons/DoneAllSharp';\r\nimport useWeb3 from '../../../hooks/useWeb3';\r\n\r\n\r\n\r\nconst FlexPanel = styled(Box)`\r\n  display:flex;\r\n`\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: any;\r\n    value: any;\r\n}\r\n\r\n\r\nconst BeenDeploy: React.FC =()=>{\r\n    // const nftAddress = addresses.nftAddress\r\n    // const web3 = new Web3(new Web3.providers.HttpProvider('https://moeing.tech:9545'));\r\n    const {account} = useWallet();\r\n    const web3 = useWeb3();\r\n    \r\n    const [pedding,setPedding] = useState(false);\r\n    const [address,setAddress] = useState(\"\");\r\n    // useEffect(()=>{\r\n    //     web3.eth.net.isListening().\r\n    //      then(async (res)=>{\r\n    //       const myContract=new web3.eth.Contract((nftAbi as unknown) as AbiItem,nftAddress)\r\n    //       console.log('myContract',myContract) \r\n    //       const nftName=await myContract.methods.name().call()\r\n    //       console.log('nftName:',nftName) \r\n    //      })\r\n    //     console.log('web3============',web3)\r\n    // },[])\r\n \r\n  \r\n    const deploy=async ()=>{\r\n          setPedding(true)\r\n          try {\r\n            const myContract=new web3.eth.Contract((BeeTokenAbi as unknown) as AbiItem);\r\n            const res=await myContract.deploy({data:BeeTokenByteCode.object}).send({\r\n              from:account||\"\",\r\n              gas: 2000000});\r\n            console.log(\"结果\",res?.options?.address)\r\n            setAddress(res?.options?.address)\r\n            setPedding(false)\r\n          } catch (error) {\r\n          }\r\n       \r\n         \r\n    }\r\n\r\n  return <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n                 <FlexPanel>\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={deploy}>\r\n                            部署BeenToken\r\n                    </Button>\r\n                    <FlexPanel ml={2} alignItems=\"center\">\r\n                        {pedding?<CircularProgress />:\"\"}\r\n                        {address!==\"\"?<DoneAllSharpIcon  style={{color:'#14b714'}}></DoneAllSharpIcon>:\"\"}\r\n                    </FlexPanel>\r\n\r\n                  </FlexPanel>\r\n                  <FlexPanel flexDirection=\"column\">\r\n                    <h3 style={{\"marginBlockEnd\":0}}>合约地址:</h3>\r\n                    <h4 style={{\"marginBlockStart\":0}}>{address}</h4>\r\n                  </FlexPanel>\r\n          </Box>\r\n\r\n}\r\n\r\nexport default BeenDeploy;","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { BottomNavigation, BottomNavigationAction, Box, Button, CircularProgress, Paper, Tab, Tabs, TextField, Typography } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Web3 from 'web3';\r\nimport { AbiItem } from 'web3-utils'\r\nimport BeeTokenAbi from '../../../config/abi/BeeToken.json';\r\nimport BeeTokenByteCode from '../../../config/bytecode/BeeTokenByteCode.json';\r\n\r\nimport nftAbi from '../../../config/abi/nft.json';\r\nimport addresses from '../../../config/contract/nft';\r\nimport Header from '../header';\r\nimport DoneAllSharpIcon from '@material-ui/icons/DoneAllSharp';\r\nimport useWeb3 from '../../../hooks/useWeb3';\r\nimport BigNumber from 'bignumber.js';\r\n\r\n\r\n\r\nconst FlexPanel = styled(Box)`\r\n  display:flex;\r\n`\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: any;\r\n    value: any;\r\n}\r\n\r\n\r\nconst MintPanel: React.FC =()=>{\r\n    const {account} = useWallet();\r\n    const web3 = useWeb3();\r\n    \r\n    const [pedding,setPedding] = useState(false);\r\n    const [contractAddr,setContractAddr] = useState(\"\");\r\n    const [targetAddress,setAddress] = useState(\"\");\r\n    const [targetNum,setNum] = useState(\"\");\r\n    const [hash,setHash] = useState(\"\");\r\n \r\n  \r\n    const mintHand=async ()=>{\r\n          setPedding(true)\r\n          try {\r\n            const targetAmount=new BigNumber(targetNum).times(new BigNumber(10).pow(18)).toFixed(0)\r\n            const myContract=new web3.eth.Contract((BeeTokenAbi as unknown) as AbiItem,contractAddr);\r\n            const res=await myContract.methods.mint(targetAddress,targetAmount).send({from:account||\"\"});\r\n            console.log(\"结果\",res)\r\n            setHash(res.blockHash)\r\n            setPedding(false)\r\n          }catch(e){}\r\n          \r\n    }\r\n\r\n  return <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n                 <FlexPanel flexDirection=\"column\" style={{width:'50%'}}>\r\n                    <TextField \r\n                    id=\"standard-basic\" \r\n                    label=\"BEENTOKEN 合约地址\"\r\n                    onChange={(e)=>{setContractAddr(e.target.value)}}\r\n                    />\r\n\r\n                   <TextField \r\n                    id=\"standard-basic\" \r\n                    label=\"目标地址\"\r\n                    onChange={(e)=>{setAddress(e.target.value)}}\r\n                    />\r\n\r\n                    <TextField \r\n                    id=\"standard-basic\" \r\n                    label=\"数量\"\r\n                    onChange={(e)=>{setNum(e.target.value)}}\r\n                    />\r\n\r\n                    <FlexPanel mt={2} alignItems=\"center\">\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={mintHand}>\r\n                                铸造\r\n                        </Button>\r\n                        <Box ml={2} mt={2}></Box>\r\n                        {pedding?<CircularProgress />:\"\"}\r\n                        {hash!==\"\"?<DoneAllSharpIcon  style={{color:'#14b714'}}></DoneAllSharpIcon>:\"\"}\r\n                    </FlexPanel>\r\n                    \r\n                    <FlexPanel flexDirection=\"column\">\r\n                        <h3 style={{\"marginBlockEnd\":0}}>交易hash:</h3>\r\n                        <h4 style={{\"marginBlockStart\":0}}>{hash}</h4>\r\n                    </FlexPanel>\r\n                  </FlexPanel>\r\n          </Box>\r\n\r\n}\r\n\r\nexport default MintPanel;","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { BottomNavigation, BottomNavigationAction, Box, Button, CircularProgress, Paper, Switch, Tab, Tabs, TextField, Typography } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Web3 from 'web3';\r\nimport { AbiItem } from 'web3-utils'\r\nimport BeeTokenAbi from '../../../config/abi/BeeToken.json';\r\nimport DoneAllSharpIcon from '@material-ui/icons/DoneAllSharp';\r\nimport useWeb3 from '../../../hooks/useWeb3';\r\nimport BigNumber from 'bignumber.js';\r\n\r\n\r\n\r\nconst FlexPanel = styled(Box)`\r\n  display:flex;\r\n`\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: any;\r\n    value: any;\r\n}\r\n\r\n\r\nconst Contractcertification: React.FC =()=>{\r\n    const {account} = useWallet();\r\n    const web3 = useWeb3();\r\n    const [isOpen,setIsOpen] = useState(false);\r\n    \r\n\r\n    const [pedding,setPedding] = useState(false);\r\n    const [contractAddr,setContractAddr] = useState(\"\");\r\n\r\n    const [speedAddress,setSpeedAddress] = useState(\"\");\r\n    const [note,setNote] = useState(\"\");\r\n    const [hash,setHash] = useState(\"\");\r\n \r\n  \r\n    const mintHand=async ()=>{\r\n          setPedding(true)\r\n          const myContract=new web3.eth.Contract((BeeTokenAbi as unknown) as AbiItem,contractAddr);\r\n          const res=await myContract.methods.setQualifiedSpender(speedAddress,isOpen,note).send({from:account||\"\"});\r\n          console.log(\"结果\",res)\r\n          setHash(res.blockHash)\r\n          setPedding(false)\r\n    }\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setIsOpen(event.target.checked);\r\n  };\r\n  return <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n                 <FlexPanel flexDirection=\"column\" style={{width:'50%'}}>\r\n\r\n                    <TextField \r\n                    id=\"standard-basic\" \r\n                    label=\"BEENTOKEN 合约地址\"\r\n                    onChange={(e)=>{setContractAddr(e.target.value)}}\r\n                    />\r\n\r\n\r\n                    <TextField \r\n                    id=\"standard-basic\" \r\n                    label=\"认证合约地址\"\r\n                    onChange={(e)=>{setSpeedAddress(e.target.value)}}\r\n                    />\r\n\r\n                    <TextField \r\n                    id=\"standard-basic\" \r\n                    label=\"备注\"\r\n                    onChange={(e)=>{setNote(e.target.value)}}\r\n                    />\r\n                    <FlexPanel mt={2} alignItems=\"center\">\r\n                            <h3 style={{\"marginBlockStart\":0,\"marginBlockEnd\":0}}>是否认证：</h3>\r\n                            <Switch checked={isOpen}\r\n                                    onChange={handleChange}\r\n                                    name=\"checkedA\"\r\n                                    inputProps={{ 'aria-label': 'secondary checkbox' }}\r\n                            />\r\n                    </FlexPanel>      \r\n        \r\n                    <FlexPanel mt={2} alignItems=\"center\">\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={mintHand}>\r\n                                确定\r\n                        </Button>\r\n                        <Box ml={2} mt={2}></Box>\r\n                        {pedding?<CircularProgress />:\"\"}\r\n                        {hash!==\"\"?<DoneAllSharpIcon  style={{color:'#14b714'}}></DoneAllSharpIcon>:\"\"}\r\n                    </FlexPanel>\r\n                    \r\n                    <FlexPanel flexDirection=\"column\">\r\n                        <h3 style={{\"marginBlockEnd\":0}}>交易hash:</h3>\r\n                        <h4 style={{\"marginBlockStart\":0}}>{hash}</h4>\r\n                    </FlexPanel>\r\n                  </FlexPanel>\r\n          </Box>\r\n\r\n}\r\n\r\nexport default Contractcertification;","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { BottomNavigation, BottomNavigationAction, Box, Button, CircularProgress, Paper, Switch, Tab, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Tabs, TextField, Typography } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Web3 from 'web3';\r\nimport { AbiItem } from 'web3-utils'\r\nimport BeeTokenAbi from '../../../config/abi/BeeToken.json';\r\nimport DoneAllSharpIcon from '@material-ui/icons/DoneAllSharp';\r\nimport useWeb3 from '../../../hooks/useWeb3';\r\nimport BigNumber from 'bignumber.js';\r\n\r\n\r\n\r\nconst FlexPanel = styled(Box)`\r\n  display:flex;\r\n`\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: any;\r\n    value: any;\r\n}\r\n\r\n\r\nconst CertificationHistory: React.FC =()=>{\r\n  const {account} = useWallet();\r\n  const web3 = useWeb3();\r\n //   const [isOpen,setIsOpen] = useState(false);\r\n //   const [pedding,setPedding] = useState(false);\r\n \r\n const [contractAddr,setContractAddr] = useState(\"\");\r\n const [list,setList]=useState<Array<any>>([]);\r\n\r\n \r\n  \r\n\r\n  const mintHand=async ()=>{\r\n        const myContract=new web3.eth.Contract((BeeTokenAbi as unknown) as AbiItem,contractAddr);\r\n        const SetQualified= await myContract.getPastEvents('SetQualified', {\r\n             fromBlock: 0,\r\n             toBlock: 'latest'\r\n        })\r\n        const res:Array<any>= SetQualified.map(t=>({blockNumber:t.blockNumber,spender:t?.returnValues?.spender,note:t?.returnValues?.note,state:\"是\"}));\r\n        const UnsetQualified= await myContract.getPastEvents('UnsetQualified', {\r\n            fromBlock: 0,\r\n            toBlock: 'latest'\r\n        })\r\n        \r\n        const rest:Array<any>= UnsetQualified.map(t=>({blockNumber:t.blockNumber,spender:t?.returnValues?.spender,note:t?.returnValues?.note,state:\"否\"}));\r\n        let  arrt=res.concat(rest);\r\n        arrt.sort(function(a,b){ // 这是比较函数\r\n            return b.blockNumber - a.blockNumber;    // 降序\r\n        })\r\n        setList(arrt);\r\n      \r\n   }\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        // setIsOpen(event.target.checked);\r\n  };\r\n  return <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n                 <FlexPanel flexDirection=\"column\" style={{width:'50%'}}>\r\n\r\n                    <TextField \r\n                    id=\"standard-basic\" \r\n                    label=\"BEENTOKEN 合约地址\"\r\n                    onChange={(e)=>{setContractAddr(e.target.value)}}\r\n                    />\r\n\r\n   \r\n                    <FlexPanel mt={2} alignItems=\"center\">\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={mintHand}>\r\n                                查询\r\n                        </Button>\r\n                    </FlexPanel>\r\n\r\n\r\n\r\n\r\n\r\n                    <TableContainer component={Paper}>\r\n                    <Table  aria-label=\"simple table\">\r\n                        <TableHead>\r\n                        <TableRow>\r\n                            <TableCell>地址</TableCell>\r\n                            <TableCell >认证状态</TableCell>\r\n                            <TableCell >备注</TableCell>\r\n                        </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                        {list.map((row,idx) => (\r\n                            <TableRow key={idx}>\r\n                            <TableCell component=\"th\" scope=\"row\">{row.spender}</TableCell>\r\n                            <TableCell component=\"th\" scope=\"row\">{row.state}</TableCell>\r\n                            <TableCell component=\"th\" scope=\"row\">{row.note}</TableCell>\r\n                          \r\n                            {/* <TableCell align=\"right\">{row.fat}</TableCell>\r\n                            <TableCell align=\"right\">{row.carbs}</TableCell>\r\n                            <TableCell align=\"right\">{row.protein}</TableCell> */}\r\n                            </TableRow>\r\n                        ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                    </TableContainer>\r\n\r\n                  </FlexPanel>\r\n          </Box>\r\n\r\n}\r\n\r\nexport default CertificationHistory;","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { BottomNavigation, BottomNavigationAction, Box, Button, CircularProgress, Paper, Tab, Tabs, Typography } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Web3 from 'web3';\r\nimport { AbiItem } from 'web3-utils'\r\nimport nftAbi from '../../../config/abi/nft.json';\r\nimport addresses from '../../../config/contract/nft';\r\nimport Header from '../header';\r\nimport DoneAllSharpIcon from '@material-ui/icons/DoneAllSharp';\r\nimport BeenDeploy from './BeenDeploy';\r\nimport MintPanel from './MintPanel';\r\nimport Contractcertification from './Contractcertification';\r\nimport CertificationHistory from './CertificationHistory';\r\n\r\nconst FlexPanel = styled(Box)`\r\n  display:flex;\r\n`\r\nconst Container = styled(Box)`\r\n  background: black;\r\n  padding: 20px;\r\n  color: #fff;\r\n`;\r\n\r\n\r\n\r\n\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: any;\r\n    value: any;\r\n  }\r\nfunction TabPanel(props: TabPanelProps) {\r\n    const { children, value, index, ...other } = props;\r\n  \r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`wrapped-tabpanel-${index}`}\r\n        aria-labelledby={`wrapped-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n          <Box p={3} display='flex'>\r\n            {children}\r\n          </Box>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\nconst BeenManagement: React.FC =()=>{\r\n    const [value,setValue] = useState(0)\r\n    const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n            setValue(newValue);\r\n    };\r\n\r\n  return <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n        <Paper square>\r\n              <Tabs\r\n                value={value}\r\n                indicatorColor=\"primary\"\r\n                textColor=\"primary\"\r\n                onChange={handleChange}\r\n                aria-label=\"disabled tabs example\"\r\n            >\r\n                <Tab label=\"部署BeenToken\" />\r\n                <Tab label=\"铸造TOKEN\" />\r\n                <Tab label=\"合约认证\" />\r\n                <Tab label=\"历史记录\" />\r\n              </Tabs>\r\n        </Paper>\r\n      \r\n            <TabPanel value={value} index={0}>\r\n                <BeenDeploy></BeenDeploy>\r\n            </TabPanel>\r\n            <TabPanel value={value} index={1}>\r\n              <MintPanel></MintPanel>\r\n            </TabPanel>\r\n            <TabPanel value={value} index={2}>\r\n              <Contractcertification></Contractcertification>\r\n            </TabPanel>\r\n            <TabPanel value={value} index={3}>\r\n              <CertificationHistory></CertificationHistory>\r\n            </TabPanel>\r\n\r\n            \r\n\r\n\r\n            {/* <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n                <Alert onClose={handleClose} severity=\"success\">\r\n                 This is a success message!\r\n                </Alert>\r\n            </Snackbar> */}\r\n          </Box>\r\n\r\n}\r\n\r\nexport default BeenManagement;","export default {\r\n  bchAddress:{\r\n    10000: \"0x0000000000000000000000000000000000002711\"\r\n  },\r\n  // 部署地址发布\r\n  beeToken:{\r\n      10000: \"0x4f979fEdC9053E61928E1f14c6Ec42414DB472dd\"\r\n  },\r\n  factoryAddress:{\r\n    10000: \"0xbF1da084F6EAf8DF8B89279FDc21a6cb1Ee9C7Fb\"\r\n  },\r\n  imptAddress:{\r\n    10000: \"0xA79606B91C0D83Bf512c423cDfde878EB956829A\"\r\n  },\r\n  JigsawPuzzle:{\r\n    10000: \"0x475601c969562E1aF9073e576e2a0159FF4485eC\"\r\n  },\r\n  IceOrWater:{\r\n    10000: \"0x9fB9FDe7956A0B9Cf51F9098E20fA7E851cd208c\"\r\n  },\r\n  drawAddress:{\r\n    10000: \"0xa3aBBbEF9ab2B2671314018EddF3206f934E86cd\"\r\n  }\r\n\r\n\r\n  //测试地址\r\n  // beeToken:{\r\n  //     10000: \"0x0AAa14C40E2caFC8729DdC292536086c9c2eb244\"\r\n  // },\r\n  // JigsawPuzzle:{\r\n  //   10000: \"0x475601c969562E1aF9073e576e2a0159FF4485eC\"\r\n  // },\r\n  // IceOrWater:{\r\n  //   10000: \"0x0e94e5093a2A731F105385feD6fDbebb62753b14\"\r\n  // },\r\n  // factoryAddress:{\r\n  //   10000: \"0x26049Fa70b1CA31f95c050D737A9a91f68F86106\"\r\n  // },\r\n  // imptAddress:{\r\n  //   10000: \"0x3656c28278FDB154081531C89A17FBcC18F64c73\"\r\n  // },\r\n  // drawAddress:{\r\n  //   10000: \"0x2bD04349feb61022e17b908A60e75A2A466dB43a\"\r\n  // }\r\n}\r\n","import addresses from '../config/contract/contracts'\r\n\r\n// const chainId = process.env.REACT_APP_CHAIN_ID\r\nexport const getDrawAddress = () => {\r\n  return addresses.drawAddress[10000]\r\n}\r\nexport const getIceOrWaterAddress = () => {\r\n  return addresses.IceOrWater[10000]\r\n}\r\n\r\nexport const getJigsawPuzzleAbiAddress = () => {\r\n  return addresses.JigsawPuzzle[10000]\r\n}\r\n\r\nexport const getBeeTokenAddress = () => {\r\n  return addresses.beeToken[10000]\r\n}\r\n\r\nexport const getimptAddress = () => {\r\n  return addresses.imptAddress[10000]\r\n}\r\nexport const getfactorytAddress = () => {\r\n  return addresses.factoryAddress[10000]\r\n}\r\nexport const getBchAddress = () => {\r\n  return addresses.bchAddress[10000]\r\n}","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { Box, Button, CircularProgress, Paper, Tab, Tabs, TextField, Typography } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport Web3 from 'web3';\r\nimport { AbiItem } from 'web3-utils'\r\nimport IceOrWaterAbi from '../../../config/abi/IceOrWater.json';\r\nimport DoneAllSharpIcon from '@material-ui/icons/DoneAllSharp';\r\nimport useWeb3 from '../../../hooks/useWeb3';\r\nimport { getIceOrWaterAddress } from '../../../utils/addressHelpers';\r\nimport moment from \"moment\";\r\n\r\n\r\nconst FlexPanel = styled(Box)`\r\n  display:flex;\r\n`\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: any;\r\n    value: any;\r\n}\r\n\r\n\r\nconst NewBox: React.FC =()=>{\r\n    const {account} = useWallet();\r\n    const web3 = useWeb3();\r\n    const [greenwayTime,setGreenwayTime] = useState(\"\");\r\n    const [pedding,setPedding] = useState(false);\r\n    const [introObj,setIntroObj] = useState({\r\n      zhTitle:\"\",\r\n      zhConent:\"\"\r\n    });\r\n\r\n    const [times,setTimes] = useState(\"\");\r\n    const [hash,setHash] = useState(\"\");\r\n    const [urlId,setUrlId] = useState(\"\");\r\n  \r\n    const createHand=async ()=>{\r\n          const item=[introObj.zhTitle,introObj.zhConent];\r\n          // setIntro(item.join(\"||\"));\r\n          const introStr=item.join(\"||\");\r\n          \r\n          setPedding(true)\r\n          try {\r\n            const myContract=new web3.eth.Contract((IceOrWaterAbi as unknown) as AbiItem,getIceOrWaterAddress());\r\n            const res=await myContract.methods.createBox(times,introStr).send({from:account||\"\"});\r\n            console.log(\"结果\",res);\r\n            setHash(res.blockHash);\r\n            setPedding(false);\r\n            const resLen=await myContract.methods.getBoxCount().call();\r\n            setUrlId(`${parseInt(resLen)-1}`)\r\n            \r\n          }catch(e){}\r\n          \r\n    }\r\n    const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        var stime = new Date(event.target.value).getTime()\r\n        const second=stime/1000;\r\n        setTimes(`${second}`)\r\n        // 1. 获取北京时间\r\n        const currentDate = new Date(stime)\r\n        // 2.获取格林威治时间\r\n        // 先获取当前所在国家和格林威治时间之间的差值，默认是分钟数\r\n        // 使用Date对象的getTimezoneOffset() 就可以获取到\r\n        const difference = currentDate.getTimezoneOffset() * 60 * 1000 //将差异值转成毫秒值\r\n        // 获取格林威治时间的毫秒值,用+ 的原因是因为如果是比格林威治时间快的地区，这个方法返回值\r\n        //是一个负数，而慢的地区返回值是一个正数\r\n        const GreenwichMillminutes = currentDate.getTime() + difference \r\n        // 利用这个毫秒值获取格林威治地区的日期对象实例 \r\n        const GreenwichDate = new Date(GreenwichMillminutes)\r\n        // console.log(\"格林威时间\",moment(GreenwichDate).format('yyyy-MM-DD HH:mm:ss'));\r\n        setGreenwayTime(moment(GreenwichDate).format('yyyy-MM-DD HH:mm:ss'));\r\n    };\r\n  return <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n                 <FlexPanel flexDirection=\"column\" style={{width:'50%'}}>\r\n\r\n                     <TextField\r\n                        id=\"datetime-local\"\r\n                        label=\"截至时间/By the end of time(beijing time)\"\r\n                        type=\"datetime-local\"\r\n                        defaultValue=\"\"\r\n                        onChange={handleChange}\r\n                        InputLabelProps={{\r\n                        shrink: true,\r\n                        }}\r\n                    />\r\n                     <TextField\r\n                        id=\"date\"\r\n                        label=\"格林威时间/Greenway time\"\r\n                        type=\"text\"\r\n                        value={greenwayTime}\r\n                        disabled\r\n                        InputLabelProps={{\r\n                        shrink: true,\r\n                        }}\r\n                    />\r\n\r\n                   <TextField \r\n                        id=\"standard-basic\" \r\n                        label=\"盲盒名称/Name of Blind Box\"\r\n                        rows={4}\r\n                        multiline\r\n                        onChange={(e)=>{setIntroObj(pre=>({...pre,zhTitle:e.target.value}))}}\r\n                   />\r\n                   <TextField \r\n                        id=\"standard-basic\" \r\n                        label=\"盲盒介绍/Blind box is introduced\"\r\n                        rows={4}\r\n                        multiline\r\n                        onChange={(e)=>{setIntroObj(pre=>({...pre,zhConent:e.target.value}))}}\r\n                   />\r\n\r\n          \r\n\r\n          \r\n\r\n                    <FlexPanel mt={2} alignItems=\"center\">\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={createHand}>\r\n                                创建/Create\r\n                        </Button>\r\n                        <Box ml={2} mt={2}></Box>\r\n                        {pedding?<CircularProgress />:\"\"}\r\n                        {hash!==\"\"?<DoneAllSharpIcon  style={{color:'#14b714'}}></DoneAllSharpIcon>:\"\"}\r\n                    </FlexPanel>\r\n                    \r\n                    <FlexPanel flexDirection=\"column\">\r\n                        <h3 style={{\"marginBlockEnd\":0}}>transaction hash:</h3>\r\n                        <h4 style={{\"marginBlockStart\":0}}>{hash}</h4>\r\n                    </FlexPanel>\r\n\r\n                    {\r\n                        hash!==\"\"?\r\n                        <FlexPanel flexDirection=\"column\">\r\n                            <h3 style={{\"marginBlockEnd\":0}}>盲盒链接/Blind box of link:</h3>\r\n                            <h4 style={{\"marginBlockStart\":0,color:\"#21ae21\"}}>http://blindbox.cash/#/IceWater/{urlId}</h4>\r\n                            {/* <h4 style={{\"marginBlockStart\":0}}>http://localhost:3000/#/DrawLots/{urlId}</h4> */}\r\n                        </FlexPanel>\r\n                        :\"\"\r\n                    }\r\n                  </FlexPanel>\r\n          </Box>\r\n\r\n}\r\n\r\nexport default NewBox;","import { useEffect, useState } from 'react'\r\nimport { AbiItem } from 'web3-utils'\r\nimport { ContractOptions } from 'web3-eth-contract'\r\nimport useWeb3 from './useWeb3'\r\nimport BeeTokenAbi from '../config/abi/BeeToken.json';\r\nimport JigsawPuzzleAbi from '../config/abi/JigsawPuzzle.json';\r\nimport IceOrWaterAbi from '../config/abi/IceOrWater.json';\r\nimport IceOrWatersStaticAbi from '../config/abi/IceOrWaters.json';\r\nimport LucyDrawAbi from '../config/abi/LucyDraw.json';\r\nimport LucyDrawstaticAbi from '../config/abi/LucyDraw_static.json';\r\nimport RobotAbi from '../config/abi/Robot.json';\r\n\r\nimport { getJigsawPuzzleAbiAddress,getBeeTokenAddress, getIceOrWaterAddress, getDrawAddress } from '../utils/addressHelpers';\r\n\r\nconst useContract = (abi: AbiItem, address: string, contractOptions?: ContractOptions) => {\r\n  const web3 = useWeb3()\r\n  const [contract, setContract] = useState(new web3.eth.Contract(abi, address, contractOptions))\r\n\r\n  useEffect(() => {\r\n    setContract(new web3.eth.Contract(abi, address, contractOptions))\r\n  }, [abi, address, contractOptions, web3])\r\n\r\n  return contract\r\n}\r\n\r\nexport const useBeeContract = () => {\r\n  const abi = (BeeTokenAbi as unknown) as AbiItem\r\n  return useContract(abi, getBeeTokenAddress())\r\n}\r\n\r\nexport const useJigsawPuzzle = () => {\r\n  const abi = (JigsawPuzzleAbi as unknown) as AbiItem\r\n  return useContract(abi, getJigsawPuzzleAbiAddress())\r\n}\r\nexport const useIceContract = () => {\r\n  const abi = (IceOrWaterAbi as unknown) as AbiItem\r\n  return useContract(abi, getIceOrWaterAddress())\r\n}\r\n\r\nexport const useIceContract_static = () => {\r\n  const abi = (IceOrWatersStaticAbi as unknown) as AbiItem\r\n  return useContract(abi, getIceOrWaterAddress())\r\n}\r\n\r\nexport const useDrawContract = () => {\r\n  const abi = (LucyDrawAbi as unknown) as AbiItem\r\n  return useContract(abi, getDrawAddress())\r\n}\r\n\r\nexport const useDrawContract_static = () => {\r\n  const abi = (LucyDrawstaticAbi as unknown) as AbiItem\r\n  return useContract(abi, getDrawAddress())\r\n}\r\n// export const useMarkContract = () => {\r\n//   const abi = (RobotAbi as unknown) as AbiItem\r\n//   return useContract(abi, getMarkAddress())\r\n// }\r\n\r\nexport default useContract\r\n","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { BottomNavigation, BottomNavigationAction, Box, Button, CircularProgress, MenuItem, Paper, Select, Tab, Table, TableBody, TableCell, TableHead, TableRow, Tabs, TextField, Typography } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Web3 from 'web3';\r\nimport DoneAllSharpIcon from '@material-ui/icons/DoneAllSharp';\r\nimport useWeb3 from '../../../hooks/useWeb3';\r\nimport BigNumber from 'bignumber.js';\r\nimport { useDrawContract, useIceContract } from '../../../hooks/useContract';\r\nimport moment from \"moment\";\r\n\r\n\r\nconst FlexPanel = styled(Box)`\r\n  display:flex;\r\n`\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: any;\r\n    value: any;\r\n}\r\n\r\n\r\nconst SearchPage: React.FC =()=>{\r\n    const {account} = useWallet();\r\n    const web3 = useWeb3();\r\n    \r\n    const [pedding,setPedding] = useState(false);\r\n    const [createAddres,setCreateAddres] = useState(\"\");\r\n    const [hrefList,sethrefList] = useState<any>([]);\r\n\r\n    const [LuckyDraw,setLuckyDraw] = useState({\r\n        prizes:\"1\",\r\n        decimals:18,\r\n        price:\"\",\r\n        totalCount:\"\",\r\n        soldCount:0\r\n    });\r\n\r\n\r\n    const [hash,setHash] = useState(\"\");\r\n    const [urlId,setUrlId] = useState(\"\");\r\n    const IceContract= useIceContract();\r\n  \r\n    const createHand=async ()=>{\r\n          setPedding(true)\r\n          try {\r\n    \r\n            // const LuckyDraws={...LuckyDraw,prizes:prizesRes.toFixed()};\r\n            // 1,100|1,100|1,100|1,100|1,100|1,100|1,100|1,100|1,100|1,100\r\n            const bolck=await web3.eth.getBlockNumber();\r\n            const historyBlock=bolck-parseInt(`${(parseInt(times as any)*86400)/5}`)\r\n            \r\n\r\n            const resStartLuckyDraw= await IceContract.getPastEvents('CreateBox', {\r\n                fromBlock: historyBlock,\r\n                toBlock: 'latest',\r\n                filter:{creator:createAddres}\r\n            })\r\n\r\n            // (uint(uint160(msg.sender))<<96)|block.number\r\n            let tranId=resStartLuckyDraw.map(t=>{\r\n                // creator, uint deadline\r\n                return {...t,lotId:t.returnValues.id}\r\n            })\r\n            \r\n\r\n            sethrefList(tranId);\r\n            console.log(\"结果\",tranId)\r\n            // setHash(res.blockHash)\r\n            setPedding(false)\r\n\r\n\r\n\r\n          }catch(e){}\r\n\r\n\r\n    }\r\n\r\n\r\n    const [times,setTimes] = useState(\"3\");\r\n    const handleTimeChange = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n          setTimes(event.target.value as string);\r\n    };\r\n\r\n    const addZero = (num:any)=> {\r\n        if (parseInt(num) < 10) {\r\n            num = \"0\" + num\r\n        }\r\n        return num\r\n    }\r\n    return <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n                 <FlexPanel flexDirection=\"column\" style={{width:'50%'}}>\r\n                    <Select\r\n                        labelId=\"demo-simple-select-label\"\r\n                        id=\"demo-simple-select\"\r\n                        value={times}\r\n                        placeholder=\"日期范围/Time range\"\r\n                        onChange={handleTimeChange}\r\n                        >\r\n                        <MenuItem value={3}>近3天/Nearly 3 days</MenuItem>\r\n                        <MenuItem value={7}>近7天/Nearly 7 days</MenuItem>\r\n                        <MenuItem value={30}>近30天/Nearly 30 days</MenuItem>\r\n                    </Select>\r\n                    <TextField\r\n                        id=\"createAddres\"\r\n                        label=\"创建者地址/Address of Creator\"\r\n                        type=\"prizes\"\r\n                        defaultValue=\"\"\r\n                        onChange={(e)=>{setCreateAddres(e.target.value)}}\r\n                    />\r\n          \r\n\r\n                    <FlexPanel mt={2} alignItems=\"center\">\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={createHand}>\r\n                                查询/Query\r\n                        </Button>\r\n                        <Box ml={2} mt={2}></Box>\r\n                        {pedding?<CircularProgress />:\"\"}\r\n                        {hash!==\"\"?<DoneAllSharpIcon  style={{color:'#14b714'}}></DoneAllSharpIcon>:\"\"}\r\n                    </FlexPanel>\r\n                    \r\n\r\n                      <Table  aria-label=\"simple table\">\r\n                        <TableHead>\r\n                        <TableRow>\r\n                            <TableCell>截止时间/deadline</TableCell>\r\n                            <TableCell >url路径/url path</TableCell>\r\n                        </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                        {hrefList.map((row:any,idx:any) => (\r\n                            <TableRow key={idx}>\r\n                               \r\n                                <TableCell style={{whiteSpace: \"nowrap\"}} component=\"th\" scope=\"row\">{moment((row.returnValues.dueTime)*1000).format('yyyy-MM-DD HH:mm:ss')}</TableCell>\r\n                                <TableCell component=\"th\" scope=\"row\">http://blindbox.cash/#/IceWater/{row.lotId}</TableCell>\r\n                                {/* <TableCell component=\"th\" scope=\"row\">{row.note}</TableCell> */}\r\n                            </TableRow>\r\n                        ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                   \r\n\r\n                    </FlexPanel>\r\n          </Box>\r\n\r\n}\r\n\r\nexport default SearchPage;","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { BottomNavigation, BottomNavigationAction, Box, Button, CircularProgress, Paper, Tab, Tabs, TextField, Typography } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Web3 from 'web3';\r\nimport { AbiItem } from 'web3-utils'\r\nimport IceOrWaterAbi from '../../../config/abi/IceOrWater.json';\r\nimport BeeTokenByteCode from '../../../config/bytecode/BeeTokenByteCode.json';\r\n\r\nimport nftAbi from '../../../config/abi/nft.json';\r\nimport addresses from '../../../config/contract/nft';\r\nimport Header from '../header';\r\nimport DoneAllSharpIcon from '@material-ui/icons/DoneAllSharp';\r\nimport useWeb3 from '../../../hooks/useWeb3';\r\nimport BigNumber from 'bignumber.js';\r\nimport { getIceOrWaterAddress } from '../../../utils/addressHelpers';\r\nimport { useIceContract } from '../../../hooks/useContract';\r\n\r\n\r\n\r\nconst FlexPanel = styled(Box)`\r\n  display:flex;\r\n`\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: any;\r\n    value: any;\r\n}\r\n\r\n\r\nconst SetBoxres: React.FC =()=>{\r\n    const {account} = useWallet();\r\n    const web3 = useWeb3();\r\n    const [pedding,setPedding] = useState(false);\r\n    const [contractAddr,setContractAddr] = useState(\"\");\r\n    const [hash,setHash] = useState(\"\");\r\n\r\n    const [boxId,setBoxId] = useState(\"\");\r\n    const [result,setResult] = useState(\"\");\r\n    const iceContract=useIceContract();\r\n    useEffect(()=>{\r\n      const fetch=async ()=>{\r\n        const res=await iceContract.methods.getBoxCount().call();\r\n        setBoxId(`${parseInt(res)-1}`)\r\n      }\r\n      fetch();\r\n    },[setBoxId]) \r\n\r\n    const mintHand=async ()=>{\r\n          setPedding(true)\r\n          try {\r\n            // const targetAmount=new BigNumber(targetNum).times(new BigNumber(10).pow(18)).toFixed(0);\r\n            const myContract=new web3.eth.Contract((IceOrWaterAbi as unknown) as AbiItem,getIceOrWaterAddress());\r\n            const res=await myContract.methods.setResult(boxId,result).send({from:account||\"\"});\r\n            console.log(\"结果\",res)\r\n            setHash(res.blockHash)\r\n            setPedding(false)\r\n          }catch(e){}\r\n          \r\n    }\r\n\r\n  return <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n                 <FlexPanel flexDirection=\"column\" style={{width:'50%'}}>\r\n                    <TextField \r\n                    id=\"standard-basic\" \r\n                    label=\"盲盒ID\"\r\n                    value={boxId}\r\n                    onChange={(e)=>{setBoxId(e.target.value)}}\r\n                    />\r\n\r\n                   <TextField \r\n                    id=\"standard-basic\" \r\n                    label=\"结果(100%)\"\r\n                    placeholder='[0, 100]'\r\n                    onChange={(e)=>{setResult(`${parseInt(e.target.value)*100000}`)}}\r\n                    />\r\n\r\n          \r\n\r\n                    <FlexPanel mt={2} alignItems=\"center\">\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={mintHand}>\r\n                                开启\r\n                        </Button>\r\n                        <Box ml={2} mt={2}></Box>\r\n                        {pedding?<CircularProgress />:\"\"}\r\n                        {hash!==\"\"?<DoneAllSharpIcon  style={{color:'#14b714'}}></DoneAllSharpIcon>:\"\"}\r\n                    </FlexPanel>\r\n                    \r\n                    <FlexPanel flexDirection=\"column\">\r\n                        <h3 style={{\"marginBlockEnd\":0}}>交易hash:</h3>\r\n                        <h4 style={{\"marginBlockStart\":0}}>{hash}</h4>\r\n                    </FlexPanel>\r\n                  </FlexPanel>\r\n          </Box>\r\n\r\n}\r\n\r\nexport default SetBoxres;","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { BottomNavigation, BottomNavigationAction, Box, Button, CircularProgress, Paper, Tab, Tabs, Typography } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport NewBox from './NewBox';\r\nimport SearchPage from './SearchPage';\r\nimport SetBoxres from './SetBoxres';\r\n\r\nconst FlexPanel = styled(Box)`\r\n  display:flex;\r\n`\r\nconst Container = styled(Box)`\r\n  background: black;\r\n  padding: 20px;\r\n  color: #fff;\r\n`;\r\n\r\n\r\n\r\n\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: any;\r\n    value: any;\r\n  }\r\nfunction TabPanel(props: TabPanelProps) {\r\n    const { children, value, index, ...other } = props;\r\n  \r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`wrapped-tabpanel-${index}`}\r\n        aria-labelledby={`wrapped-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n          <Box p={3} display='flex'>\r\n            {children}\r\n          </Box>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\nconst BlindBoxManagement: React.FC =()=>{\r\n    const [value,setValue] = useState(0)\r\n\r\n    const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n            setValue(newValue);\r\n    };\r\n\r\n  return <Box display=\"flex\" flex={1} overflow=\"auto\"  flexDirection=\"column\">\r\n        <Paper square >\r\n              <Tabs\r\n                value={value}\r\n                indicatorColor=\"primary\"\r\n                textColor=\"primary\"\r\n                onChange={handleChange}\r\n                aria-label=\"disabled tabs example\"\r\n            >\r\n                <Tab label=\"创建新的盲盒/A new blind box\" />\r\n                <Tab label=\"设置盲盒的结果/box results\" />\r\n                <Tab label=\"查询盲盒地址/Query  box address\"/>\r\n                \r\n              </Tabs>\r\n        </Paper>\r\n      \r\n        <TabPanel value={value} index={0}>\r\n              {value==0?<NewBox></NewBox>:\"\"}\r\n        </TabPanel>\r\n        <TabPanel value={value} index={1}>\r\n              {value==1?<SetBoxres></SetBoxres>:\"\"}\r\n        </TabPanel>\r\n        <TabPanel value={value} index={2}>\r\n              {value==2?<SearchPage></SearchPage>:\"\"}\r\n        </TabPanel>\r\n\r\n            \r\n\r\n\r\n            {/* <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n                <Alert onClose={handleClose} severity=\"success\">\r\n                 This is a success message!\r\n                </Alert>\r\n            </Snackbar> */}\r\n          </Box>\r\n\r\n}\r\n\r\nexport default BlindBoxManagement;","import { Box, Button } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useMatchBreakpoints from \"../../hooks/useMatchBreakpoints\";\r\nimport I18nPopover from \"./i18nPopover\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useIcehistoryList } from \"./hooks/useHome\";\r\nimport BigNumber from \"bignumber.js\";\r\n\r\nconst Center = styled(Box)<any>`\r\n  background-image: url(/image/新建项目.svg);\r\n  background-repeat: no-repeat;\r\n  background-size: 100% 100%;\r\n  background-attachment: fixed;\r\n  border-radius: 10px;\r\n`;\r\n\r\n\r\nconst ListTableBox=styled(Box)`\r\n    @media (max-width: 750px) {\r\n       font-size: 0.18rem;\r\n    }\r\n    @media (min-width:750px){\r\n       /* padding:0px 8px 0px 8px;\r\n       height: 32px; */\r\n    }\r\n`\r\n\r\nconst StyleTotalText=styled(Box)`\r\n     font-size:18px;\r\n     color:#fff;\r\n`\r\nconst StyleTotalTips=styled(Box)`\r\n     font-size:18px;\r\n     color:#9CA5B2;\r\n`\r\n\r\nconst StyleBtn=styled(Box)<{ isMobile?: boolean }>`\r\n    width: ${(props) => (props.isMobile?\"1.4rem\":\"140px\")};\r\n    height:${(props) => (props.isMobile?\"0.48rem\":\"48px\")};\r\n    font-size: ${(props) => (props.isMobile?\"0.18rem\":\"16px\")};\r\n    background-color: #194c95;\r\n    color:#fff;\r\n    justify-content:center ;\r\n    align-items: center;\r\n`\r\n\r\nconst StyeleTable=styled(Box)`\r\n     /* height: 560px; */\r\n    \r\n     @media (max-width: 750px) {\r\n      max-height:3.36rem;\r\n     }\r\n     @media (min-width:750px){\r\n      max-height:560px;\r\n     }\r\n     \r\n     word-break: break-all;\r\n     overflow-y:scroll;\r\n     ::-webkit-scrollbar {\r\n      width: 2px;\r\n      height: 10px;\r\n     /* scrollbar-arrow-color:#f0f0f0; */\r\n    }\r\n  /*滚动条里面小方块*/\r\n  ::-webkit-scrollbar-thumb {\r\n    border-radius: 5px;\r\n    box-shadow: inset 0 0 2px #f0f0f0;\r\n    background: rgba(0,0,0,0.2);\r\n    /* scrollbar-arrow-color:#898989; */\r\n  }\r\n  /*滚动条里面轨道*/\r\n  ::-webkit-scrollbar-track {\r\n    /* -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2); */\r\n    border-radius: 0;\r\n    background: rgba(0,0,0,0.1);\r\n  }\r\n`\r\nconst StyleTh=styled(Box)`\r\n  font-weight:bold;\r\n  width:33%;\r\n  color: #fff;\r\n\r\n  text-align:left;\r\n  background-color:#00265C ;\r\n    @media (max-width: 750px) {\r\n      padding:0.15rem 0px 0.15rem  0px;\r\n    }\r\n    @media (min-width:750px){\r\n      padding:14px 0px 14px 0px;\r\n    }\r\n`\r\nconst StyleTr=styled(Box)`\r\n  @media (max-width: 750px) {\r\n      padding:0.15rem 0px 0.15rem  0px;\r\n   }\r\n  @media (min-width:750px){\r\n      padding:10px 0px 10px 0px;\r\n  }\r\n  color: #fff;\r\n\r\n  background-color:#011532;\r\n  text-align:left;\r\n  display:flex;\r\n  align-items:center ;\r\n  overflow: auto;\r\n  word-break: normal;\r\n\r\n  ::-webkit-scrollbar {\r\n    width: 2px;\r\n    height: 5px;\r\n    /* scrollbar-arrow-color:#f0f0f0; */\r\n  }\r\n  /*滚动条里面小方块*/\r\n  ::-webkit-scrollbar-thumb {\r\n    border-radius: 5px;\r\n    box-shadow: inset 0 0 2px #f0f0f0;\r\n    background: rgba(0,0,0,0.2);\r\n    /* scrollbar-arrow-color:#898989; */\r\n  }\r\n  /*滚动条里面轨道*/\r\n  ::-webkit-scrollbar-track {\r\n    /* -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2); */\r\n    border-radius: 0;\r\n    background: rgba(0,0,0,0.1);\r\n  }\r\n\r\n`\r\n\r\n\r\nconst ListTable: React.FC = () => {\r\n  const { isDesktop, isMobile } = useMatchBreakpoints();\r\n  const { t } = useTranslation();\r\n  const { IcehistoryList } = useIcehistoryList();\r\n  const tranPrice=(priceOfBox:string)=>{\r\n    return (new BigNumber(priceOfBox).div(new BigNumber(10).pow(18))).toFixed();\r\n  }\r\n  \r\n  const btnData=[t(\"Highestbet\")];\r\n  return (\r\n    <ListTableBox  display=\"flex\"   flexDirection='column'>\r\n            <Box \r\n             flexDirection={isDesktop?\"row\":\"column\"}\r\n             display=\"flex\"\r\n             flex={1}  \r\n          \r\n             justifyContent=\"space-between\">\r\n                <Box display=\"flex\">\r\n                    {\r\n                    btnData.map(t=>(\r\n                        <StyleBtn isMobile={!isDesktop} display=\"flex\">\r\n                        {t}\r\n                        </StyleBtn>\r\n                    ))\r\n                }\r\n                </Box>\r\n                <Box  \r\n                 mt={isDesktop?0:\"0.24rem\"}\r\n                 display=\"flex\"   \r\n                 alignItems=\"center\">\r\n                    <StyleTotalText fontSize={isDesktop?\"18px\":\"0.18rem\"}>\r\n                      {(IcehistoryList||[]).length}\r\n                    </StyleTotalText>\r\n                    <StyleTotalTips fontSize={isDesktop?\"18px\":\"0.18rem\"} ml={1}>\r\n                       {t(\"TotalBetting\")}\r\n                    </StyleTotalTips>\r\n                </Box>\r\n            </Box>\r\n         \r\n\r\n           <Box mt={3}>\r\n               <Box display='flex'>\r\n                        <StyleTh flex={1} pl={!isDesktop?1:5}>{t(\"address\")}</StyleTh>\r\n                        <StyleTh flex={1}>{t(\"blockNumber\")}</StyleTh>\r\n                        <StyleTh flex={1}>{t(\"token number\")}</StyleTh>\r\n                    </Box>\r\n                    <StyeleTable  display='flex' flexDirection=\"column\">\r\n\r\n                    {/* event Deposit(uint indexed id, address indexed depositor, bool isWater, uint amount); */}\r\n                        {(IcehistoryList||[]).map((m)=>(\r\n                            <Box key={m.address} display='flex' flex={1}>\r\n                                    <StyleTr flex={1} pl={!isDesktop?1:5} style={{'width':'0'}}>\r\n                                        <a title={m.depositor}> {m.depositor}</a>\r\n                                       \r\n                                    </StyleTr>\r\n                                    <StyleTr flex={1} pl={1}>{m.blockNumber}</StyleTr>\r\n                                    <StyleTr flex={1} >{tranPrice(m?.amount)}</StyleTr>\r\n                           </Box>\r\n                        ))}\r\n                    </StyeleTable>\r\n           </Box>\r\n          \r\n    </ListTableBox>\r\n    \r\n  );\r\n};\r\n\r\nexport default ListTable;\r\n","\r\nimport BigNumber from 'bignumber.js';\r\nimport { useEffect, useState } from 'react'\r\nimport { useIceContract} from '../../../hooks/useContract'\r\n\r\n\r\nexport  function useIcehistoryList():{IcehistoryList:Array<any>}{\r\n    const [IcehistoryList, setIceHistoryList] = useState<any[]>([])\r\n    const IceContract=useIceContract();\r\n    \r\n    useEffect(() => {\r\n      const fetch = async () => {\r\n        try {\r\n            const res=await IceContract.methods.getBoxCount().call();\r\n            let DepositList= await IceContract.getPastEvents('Deposit', {\r\n                fromBlock: 0,\r\n                toBlock: 'latest',\r\n                filter:{id:parseInt(res)-1}\r\n            })\r\n            console.log(DepositList)\r\n            DepositList=DepositList.sort((a,b)=>{ \r\n              return (new BigNumber(b.returnValues.amount).minus(new BigNumber(a.returnValues.amount))).toNumber()\r\n            })\r\n            setIceHistoryList(DepositList.map(t=>({...t.returnValues,blockNumber:t.blockNumber})))\r\n        } catch (error) {\r\n          \r\n        }\r\n\r\n      }\r\n  \r\n      if (!IcehistoryList || !IcehistoryList.length) fetch()\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [setIceHistoryList])\r\n\r\n    return {IcehistoryList}\r\n}\r\n","import { Box, Button } from \"@material-ui/core\";\r\nimport React, { useEffect, useLayoutEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useMatchBreakpoints from \"../../hooks/useMatchBreakpoints\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n\r\nconst Flex=styled(Box)`\r\n     display: flex;\r\n`\r\n\r\nconst BnnerPanel=styled(Flex)<{windowSize:number}>`\r\n      *{\r\n        margin: 0;\r\n        padding:0;\r\n      }\r\n      @media (max-width: 750px) {\r\n            ul{\r\n            margin: 0;\r\n            padding:0;\r\n            display: flex;\r\n            flex:1;\r\n            height: 0.7rem;\r\n          }\r\n\r\n          li{\r\n              list-style: none;\r\n              width: 2.4rem;\r\n              height: 0.7rem;\r\n              float: left;\r\n              display:flex ;\r\n          }\r\n          .content{\r\n              overflow-x: auto;\r\n              max-width: ${(props) => (`${props.windowSize}px`)};\r\n              display: flex;\r\n          }\r\n          .app-content::-webkit-scrollbar {\r\n            height: 5px;\r\n            display: none;\r\n          }\r\n      }\r\n\r\n      @media (min-width:750px){\r\n          ul{\r\n          margin: 0;\r\n          padding:0;\r\n          display: flex;\r\n          flex:1;\r\n          height: 70px;\r\n        }\r\n\r\n        li{\r\n            list-style: none;\r\n            width: 240px;\r\n            height: 70px;\r\n            float: left;\r\n        }\r\n        .content{\r\n            overflow-x: auto;\r\n            max-width: ${(props) => (`${props.windowSize}px`)};\r\n            /* flex:1; */\r\n            display: flex;\r\n        }\r\n        .app-content::-webkit-scrollbar {\r\n        height: 5px;\r\n        display: none;\r\n        }\r\n      }\r\n\r\n\r\n    \r\n\r\n\r\n`\r\n\r\nconst ShowImg = styled.img<{isMobile:boolean}>`\r\n  /* height:${(props) => (props.isMobile?'3.08rem':'320px')} ; */\r\n`;\r\n\r\n\r\n\r\nconst ConentFlex = styled(Flex)`\r\n\r\n    ::before{\r\n      background: linear-gradient(to right,rgb(6 30 62) 0%,rgba(35,44,49,0) 100%);\r\n      content: \"\";\r\n      height: 72px;\r\n      position: absolute;\r\n      width: 200px;\r\n      z-index: 2;\r\n      margin-left: -1px;\r\n    }\r\n   ::after{\r\n      background: linear-gradient(to left,rgb(6 30 62) 0%,rgba(35,44,49,0) 100%);\r\n      content: \"\";\r\n      height: 72px;\r\n      position: absolute;\r\n      width: 200px;\r\n      right:0px;\r\n      z-index: 2;\r\n   }\r\n\r\n`;\r\nconst Banpanl = styled(Flex)`\r\n \r\n    /* height: 72px; */\r\n    margin: auto;\r\n    overflow: hidden;\r\n    position: relative;\r\n    width: 100%;\r\n\r\n`;\r\n\r\nconst Banner: React.FC = () => {\r\n  const { isDesktop, isMobile } = useMatchBreakpoints();\r\n  const { t } = useTranslation();\r\n  const imgId=[0,1,2,3,4,5,6,7,8];\r\n  const imgIdTwo=[9,10,11,12,13,14,15,16,17];\r\n  //获取当前窗口大小\r\n  const [windowSize, setWindowSize] = useState(0);\r\n\r\n  const [initState,setInitState]=useState(false);\r\n  const [initState2,setInitState2]=useState(false);\r\n  // const handleResize = () => {\r\n  //   setWindowSize(getWindowSize());\r\n  // };\r\n\r\n\r\n  useEffect(() => {\r\n    if(windowSize==0 || initState){return}\r\n    let timer;\r\n    let dome:any = document.getElementById(\"scroll\")\r\n    let dome1:any  = document.getElementById(\"scroll-1\")\r\n    let dome2:any = document.getElementById(\"scroll-2\")\r\n    dome2.innerHTML = dome1.innerHTML//复制dome1 为dome2\r\n    let AniTimerScroll = () => {\r\n        timer = setTimeout(function () {\r\n            if (dome.scrollLeft == dome1.clientWidth) {\r\n                dome.scrollLeft = 0;\r\n            } else {\r\n                dome.scrollLeft++;\r\n            }\r\n            AniTimerScroll()\r\n        }, 20);\r\n    }\r\n    AniTimerScroll();\r\n    setInitState(true)\r\n    \r\n  }, [windowSize])\r\n\r\n  useEffect(() => {\r\n    if(windowSize==0 || initState2){return}\r\n    \r\n    let timers;\r\n    let dome:any = document.getElementById(\"scroll_2\")\r\n    let dome1:any  = document.getElementById(\"scroll-1_2\")\r\n    let dome2:any = document.getElementById(\"scroll-2_2\")\r\n    dome2.innerHTML = dome1.innerHTML//复制dome1 为dome2\r\n    let AniTimerScrolls = () => {\r\n       timers = setTimeout(function () {\r\n \r\n            if (dome.scrollLeft == 0) {\r\n                dome.scrollLeft = dome1.clientWidth;\r\n            } else {\r\n                dome.scrollLeft--;\r\n            }\r\n            AniTimerScrolls()\r\n        }, 20);\r\n    }\r\n    AniTimerScrolls();\r\n    setInitState2(true)\r\n  }, [windowSize])\r\n\r\n\r\n\r\n\r\n \r\n  const changeDataList=()=>{\r\n    setWindowSize(0);\r\n    setTimeout(()=>{\r\n      let dome:any = document.getElementById(\"panel\")\r\n      console.log(\"dome\",dome.offsetWidth )\r\n      setWindowSize(dome.offsetWidth)\r\n    },1000)\r\n  }\r\n  useLayoutEffect(() => {\r\n    changeDataList();\r\n    // 监听\r\n    // window.addEventListener(\"resize\", changeDataList);\r\n    // // 销毁\r\n    // return () => window.removeEventListener(\"resize\", ()=>{});\r\n  },[]);\r\n\r\n\r\n\r\n  return (\r\n    <BnnerPanel windowSize={windowSize}  flex={1} flexDirection=\"column\" id=\"panel\">\r\n\r\n       \r\n       {windowSize!=0?\r\n\r\n        <>\r\n            <Banpanl >\r\n              <ConentFlex className='app-content content'  id=\"scroll\">\r\n                  <div id=\"scroll-1\">\r\n                      <ul >\r\n                        {imgId.map((t,idx)=>(\r\n                        <li key={idx+\"s\"} style={{\"marginRight\":\"8px\"}}>\r\n                          <ShowImg src={`./image/banner/0 (${t+1}).png`} isMobile={!isDesktop} width=\"100%\" alt=\"\"  />\r\n                        </li>\r\n\r\n                        ))}\r\n\r\n                      </ul>\r\n                  </div>\r\n                  <div id=\"scroll-2\"></div>\r\n              </ConentFlex>\r\n            </Banpanl>\r\n            \r\n            <Banpanl mt={isDesktop?2:\"0.16rem\"}>\r\n              <ConentFlex className='app-content content'  id=\"scroll_2\">\r\n                  <div id=\"scroll-1_2\">\r\n                      <ul >\r\n                        {imgIdTwo.map((t,idx)=>(\r\n                        <li key={idx} style={{\"marginRight\":\"8px\"}}>\r\n                          <ShowImg src={`./image/banner/0 (${t+1}).png`} isMobile={!isDesktop} width=\"100%\" alt=\"\"  />\r\n                        </li>\r\n\r\n                        ))}\r\n\r\n\r\n                      </ul>\r\n                  </div>\r\n                  <div id=\"scroll-2_2\"></div>\r\n              </ConentFlex>\r\n            </Banpanl>\r\n    \r\n        \r\n        </>:\"\"\r\n       }\r\n  \r\n    </BnnerPanel>\r\n      \r\n  \r\n    \r\n  );\r\n};\r\n\r\nexport default Banner;\r\n","import { Box, Button } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useMatchBreakpoints from \"../../hooks/useMatchBreakpoints\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport ListTable from \"./ListTable\";\r\nimport Carousel from \"nuka-carousel\";\r\nimport AwesomeSlider from \"react-awesome-slider\";\r\nimport 'react-awesome-slider/dist/styles.css';\r\nimport Footer from \"./Footer\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Banner from \"./Banners\";\r\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\n\r\nconst BoxPointer = styled(Box)<any>`\r\n cursor: pointer;\r\n`;\r\n\r\nconst StylePanel=styled(Box)`\r\n      height: 80px;\r\n      @media (max-width: 750px) {\r\n      .page{\r\n        svg{\r\n          margin-left: 0.05rem;\r\n          width:0.1rem;\r\n          height:0.1rem;\r\n        }\r\n       }\r\n      } \r\n\r\n      @media (min-width:750px){\r\n        .page{\r\n            svg{\r\n              margin-left: 5px;\r\n              width:10px;\r\n              height:10px;\r\n            }\r\n        }\r\n      }\r\n\r\n   \r\n\r\n\r\n`\r\n\r\nconst ShowImg = styled.img<{isMobile:boolean}>`\r\n  height:${(props) => (props.isMobile?'3.08rem':'320px')} ;\r\n`;\r\n\r\n\r\nconst FontPanel = styled(Box)<any>`\r\n      @media (max-width: 750px) {\r\n          font-size: 0.18rem;\r\n      }\r\n\r\n      /* @media (min-width:750px){\r\n          height: 0.36rem;\r\n          width: 1.08rem;\r\n      } */\r\n`;\r\n\r\nconst MoreBtn = styled(Box)<any>`\r\n      cursor: pointer;\r\n\r\n      /* @media (max-width: 500px) {\r\n        .iconSize{\r\n           font-size: 12px;\r\n        }\r\n      } */\r\n      @media (max-width: 750px) {\r\n        .iconSize{\r\n           font-size: 14px;\r\n        }\r\n      }\r\n\r\n     \r\n`;\r\n\r\n\r\nconst Home: React.FC = () => {\r\n  const { isDesktop, isMobile } = useMatchBreakpoints();\r\n  const { t } = useTranslation();\r\n  const navigate = useNavigate();\r\n  const [showDes,setShowDes] = useState(false);\r\n  return (\r\n    <StylePanel mb={5}  display=\"flex\" flex={1} flexDirection='column'>\r\n   \r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n        <Box    style={{height:isDesktop?\"20rem\":\"3.08rem\"}} flex={1}>\r\n          {\r\n            isDesktop?<Carousel \r\n            style={{height:isDesktop?\"20rem\":\"3.08rem\"}}\r\n            autoplay\r\n            wrapAround\r\n            adaptiveHeight\r\n            defaultControlsConfig={{\r\n              pagingDotsContainerClassName:\"page\",\r\n              pagingDotsClassName:\"page\",\r\n              nextButtonText:<></>,\r\n              prevButtonText:<></>,\r\n              prevButtonStyle:{\r\n                display: 'none'\r\n              },\r\n              nextButtonStyle: {\r\n                display: 'none'\r\n              }\r\n\r\n            }}>\r\n                <ShowImg src=\"./image/lubo1.png\" isMobile={!isDesktop} width=\"100%\" alt=\"\"  />\r\n                <ShowImg src=\"./image/lubo2.png\" isMobile={!isDesktop} width=\"100%\" alt=\"\"  />\r\n                <ShowImg src=\"./image/lubo3.png\" isMobile={!isDesktop} width=\"100%\" alt=\"\"  />\r\n                <ShowImg src=\"./image/lubo4.png\" isMobile={!isDesktop} width=\"100%\" alt=\"\"  />\r\n            </Carousel>\r\n            :\r\n            <Carousel \r\n            style={{height:isDesktop?\"20rem\":\"3.08rem\"}}\r\n            autoplay\r\n            wrapAround\r\n            adaptiveHeight\r\n            defaultControlsConfig={{\r\n              pagingDotsContainerClassName:\"page\",\r\n              pagingDotsClassName:\"page\",\r\n              nextButtonText:<></>,\r\n              prevButtonText:<></>,\r\n              prevButtonStyle:{\r\n                display: 'none'\r\n              },\r\n              nextButtonStyle: {\r\n                display: 'none'\r\n              }\r\n\r\n            }}>\r\n\r\n                      <ShowImg src=\"./image/750/lubo1.png\" isMobile={!isDesktop} width=\"100%\" alt=\"\"  />\r\n                      <ShowImg src=\"./image/750/lubo2.png\" isMobile={!isDesktop} width=\"100%\" alt=\"\"  />\r\n                      <ShowImg src=\"./image/750/lubo3.png\" isMobile={!isDesktop} width=\"100%\" alt=\"\"  />\r\n                      <ShowImg src=\"./image/750/lubo4.png\" isMobile={!isDesktop} width=\"100%\" alt=\"\"  />\r\n            </Carousel>\r\n          }\r\n             \r\n             \r\n\r\n\r\n        </Box>\r\n        <Box \r\n         display=\"flex\"\r\n         flexDirection='row' \r\n         style={{height:isDesktop?\"300px\":\"1.8rem\"}}>\r\n            <BoxPointer display=\"flex\" flex={1} onClick={()=>{\r\n              navigate(\"/puzzle\")\r\n            }}>\r\n                <img src={`./image/${!isDesktop?\"750/\":\"\"}pintu.png`} alt=\"\" width=\"100%\" height=\"100%\"  />\r\n             </BoxPointer>\r\n             <BoxPointer display=\"flex\" flex={1} ml={isDesktop?6:3} onClick={()=>{\r\n              navigate(\"/IceWater\")\r\n             }}>\r\n               <img src={`./image/${!isDesktop?\"750/\":\"\"}binshui.png`}  alt=\"\" width=\"100%\" height=\"100%\" />\r\n            </BoxPointer>\r\n            \r\n        </Box>\r\n        <Box \r\n          mt={isDesktop?3:'0.2rem'}\r\n          display=\"flex\"\r\n          flexDirection='row' \r\n          style={{height:isDesktop?\"300px\":\"1.8rem\"}}>\r\n          <BoxPointer display=\"flex\" flex={1} onClick={()=>{\r\n              navigate(\"/DrawLots\")\r\n             }}>\r\n               <img src={`./image/${!isDesktop?\"750/\":\"\"}Draw.png`}  alt=\"\" width=\"100%\" height=\"100%\" />\r\n           </BoxPointer>\r\n           <BoxPointer display=\"flex\" flex={1} ml={isDesktop?6:3}>\r\n           </BoxPointer>\r\n         </Box>\r\n        <Box mt={isDesktop?5:2}>\r\n          <ListTable></ListTable>\r\n        </Box>\r\n\r\n        <Box mt={isDesktop?\"100px\":\"0.5rem\"}>\r\n          <Banner></Banner>\r\n        </Box>\r\n       {/* 11111111111111111111\r\n        <MainBody></MainBody> */}\r\n\r\n        <FontPanel display='flex' mt={isDesktop?10:5} flexDirection=\"column\">\r\n          <Box display='flex' color='#fff' flexDirection=\"column\">\r\n              <Box component='h3'>{t(\"We are not just a game site, acommunity,but also a social experiment\")}</Box>\r\n              <Box component='span'>{t(\"Wepage_des\")}</Box>\r\n             \r\n           </Box>\r\n            \r\n            {\r\n              showDes?<>\r\n            <Box mt={1} display='flex' color='#fff' flexDirection=\"column\">\r\n              <Box component='h3'>{t(\"What is BEE\")}?</Box>\r\n              <Box component='span'>{t(\"BEE des\")}</Box>\r\n            </Box>\r\n         \r\n           <Box mt={1} display='flex' color='#fff' flexDirection=\"column\">\r\n              <Box component='h3'>{t(\"Jigsaw Blind Box\")}</Box>\r\n              <Box component='span'>{t(\"Jigsaw Blind Box des\")}</Box>\r\n           </Box>\r\n\r\n           <Box mt={1} display='flex' color='#fff' flexDirection=\"column\">\r\n              <Box component='h3'>{t(\"Ice Water Blind Box\")}</Box>\r\n              <Box component='span'>{t(\"Ice Water Blind Box des\")}</Box>\r\n           </Box>\r\n              </>\r\n              :\"\"\r\n            }\r\n            <MoreBtn color={\"#fff\"}  pt={1} display={'flex'} alignItems=\"center\" onClick={()=>{setShowDes(!showDes)}} component='span'>\r\n                {t(\"show more\")}\r\n                <Box display={'flex'}   component='span' >\r\n                  {showDes?<ArrowDropUpIcon className=\"iconSize\"></ArrowDropUpIcon >:<ArrowDropDownIcon className=\"iconSize\"></ArrowDropDownIcon>}\r\n                </Box>\r\n            </MoreBtn>\r\n        </FontPanel>\r\n    </StylePanel>\r\n    \r\n  );\r\n};\r\n\r\nexport default Home;\r\n","const add0 = (m:number) => {\r\n    return m < 10 ? '0' + m : m;\r\n}\r\n// 将时间戳转换成日期\r\nconst formatDate = (timeStamp:number) => {\r\n    let time = new Date(timeStamp),\r\n        y = time.getFullYear(),\r\n        m = time.getMonth() + 1,\r\n        d = time.getDate(),\r\n        h = time.getHours(),\r\n        mm = time.getMinutes(),\r\n        s = time.getSeconds();\r\n\r\n    return y + '-' + add0(m) + '-' + add0(d) + ' ' + add0(h) + ':' + add0(mm) + ':' + add0(s);\r\n}\r\nexport default formatDate","import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport const roladPage = createAction<{isRefresh:boolean}>('puzzle/roladPage')\r\nexport const selectDexs = createAction<{dexs:Array<string> }>('griDexSwap/selectDex')\r\n\r\n","import { useCallback } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport { roladPage } from './actions'\r\n\r\nexport function usePuzzleState(): AppState['puzzles'] {\r\n  return useSelector<AppState, AppState['puzzles']>((state) => state.puzzles)\r\n}\r\n\r\nexport function usePuzzleHandlers(): {\r\n  onIsRefresh:(isRefresh:boolean)=>void\r\n} {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const onIsRefresh = useCallback((isRefresh:boolean) => {\r\n    dispatch(roladPage({isRefresh}))\r\n  }, [dispatch])\r\n\r\n  return { onIsRefresh }\r\n}\r\n","import { Box, Button, CircularProgress, createStyles, Fade, makeStyles, Modal, TextField, Theme } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useMatchBreakpoints from \"../../hooks/useMatchBreakpoints\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { useJigsawPuzzle } from \"../../hooks/useContract\";\r\nimport { useWallet } from \"@binance-chain/bsc-use-wallet\";\r\nimport DoneAllSharpIcon from '@material-ui/icons/DoneAllSharp';\r\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\r\nimport { usePuzzleHandlers } from \"../../state/Puzzles/hooks\";\r\n\r\n\r\nconst SendBtn=styled(Box)`\r\n    padding: 8px 30px 8px 30px;\r\n    background-color: #6DB90E;\r\n    border-radius: 20px;\r\n    font-weight: bold;\r\n    color: #fff;\r\n    cursor: pointer;\r\n    :hover{\r\n        background-color: #436e0f;\r\n    }\r\n`\r\n\r\nconst StyleModal=styled(Box)`\r\n  padding:0px 30px 0px 30px;\r\n`\r\nconst Flex=styled(Box)`\r\n  display: flex;\r\n`\r\n\r\n\r\nconst StyleTextField=styled.input`\r\n        padding: 10px;\r\n        border: 1px solid #b1b1b1;\r\n        border-radius: 10px;\r\n        margin-top: 20px;\r\n        :focus-visible{\r\n            border: 0;\r\n            outline:0;\r\n        }\r\n`\r\n\r\nconst ModalConent=styled(Flex)<{isMobile:boolean}>`\r\n      position: absolute;\r\n      min-width:300px;\r\n      width: ${(props) => (props.isMobile?\"89%\":\"\")};\r\n      border: '2px solid #000';\r\n      box-shadow: 5px;\r\n      outline:0;\r\n      background-color:#061E3E;\r\n      font-size: ${(props) => (props.isMobile?\"12px\":\"\")};\r\n      .closeImg{\r\n        width:${(props) => (props.isMobile?\"0.24rem\":\"24px\")};\r\n        height:${(props) => (props.isMobile?\"0.24rem\":\"24px\")};\r\n      }\r\n      .fontClose{\r\n        font-size:${(props) => (props.isMobile?\"0.24rem\":\"24px\")};\r\n      }\r\n\r\n\r\n`\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n     \r\n    },\r\n    paper: {\r\n      position: 'absolute',\r\n      minWidth:'375px',\r\n      // width: \"50%\",\r\n      // height:\"480px\",\r\n      // backgroundColor: theme.palette.background.paper,\r\n      border: '2px solid #000',\r\n      boxShadow: theme.shadows[5],\r\n      outline:0,\r\n      padding: theme.spacing(0, 0, 8),\r\n      // padding: theme.spacing(2, 4, 3),\r\n      backgroundColor: \"#061E3E\"\r\n    },\r\n  }),\r\n);\r\ninterface ImgInfoModel{\r\n  url?: number\r\n  isopen:boolean\r\n  setOpens:(e: any)=>void\r\n  lotIdAndIdx:{\r\n    lotId:number,\r\n    spId:number\r\n  }\r\n}\r\n\r\n\r\nconst SendModal: React.FC<ImgInfoModel> = ({url,isopen,setOpens,lotIdAndIdx}) => {\r\n  const { isDesktop, isMobile } = useMatchBreakpoints();\r\n  const { t } = useTranslation();\r\n  const PuzzleContract=useJigsawPuzzle();\r\n  const {account} = useWallet();\r\n\r\n\r\n  const {onIsRefresh}=usePuzzleHandlers();\r\n  const classes = useStyles();\r\n  const [targetAddr,setTargetAddr]=useState(\"\");\r\n  const [pedding,setPedding] = useState(false);\r\n  const [hash,setHash] = useState(\"\");\r\n  const [erro,setErro] = useState<any>(\"\");\r\n  \r\n  const roladList=()=>{\r\n    onIsRefresh(true)\r\n    setTimeout(()=>{\r\n        onIsRefresh(false)\r\n    },1000)\r\n  }\r\n\r\n  const hangSend=async ()=>{\r\n    try {\r\n        setErro(\"\");\r\n        setPedding(true)\r\n        const res=await PuzzleContract.methods.transfer(lotIdAndIdx.lotId,lotIdAndIdx.spId,targetAddr).send({from:account});\r\n        console.log(\"res:\",res)\r\n        setHash(res.blockHash)\r\n        roladList();\r\n    } catch (e:any) {\r\n        console.log(\"success:\",e)\r\n        setErro(e.message?e.message:e.toString())\r\n    }\r\n    setPedding(false)\r\n  };\r\n  \r\n  const statesIcon=()=>{\r\n    if(pedding===true){\r\n       return <CircularProgress />\r\n    }\r\n    if(hash!==\"\"){\r\n      return <DoneAllSharpIcon  style={{color:'#14b714'}}></DoneAllSharpIcon>\r\n    }\r\n\r\n    if(erro!=\"\"){\r\n        return <Box display='flex' justifyContent='center' color='#fff'><ErrorOutlineIcon  style={{color:'red'}}/>Tranfer Erro</Box>\r\n    }\r\n  }\r\n\r\n  return (<Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={isopen}\r\n        onClose={()=>{setOpens(false)}}\r\n        closeAfterTransition\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={isopen}>\r\n        <ModalConent  isMobile={!isDesktop}>\r\n            <Box display='flex' flex={1} flexDirection=\"column\">\r\n              <Box style={{cursor: 'pointer'}} onClick={()=>setOpens(false)} mt={2} mr={2} display='flex' alignItems='center' justifyContent='right'>\r\n                {/* <CloseIcon style={{ color: '#fff' }}></CloseIcon> */}\r\n                <img  className=\"closeImg\" src=\"./image/close.png\"/>\r\n                <Box ml={1} className=\"fontClose\" component='span' color=\"#fff\"  flex={'display'}>{t(\"CLOSE\")}</Box>\r\n              </Box>\r\n              <StyleModal pt={4} display='flex' alignItems=\"center\" flexDirection=\"column\">\r\n                  <StyleTextField\r\n                   value={targetAddr} \r\n                   onChange={(e)=>{setTargetAddr(e.target.value)}} \r\n                   placeholder={t(\"target address\")}/>\r\n                  <Flex mt={3} justifyContent=\"center\" alignItems='center' flexDirection=\"column\">\r\n                        <SendBtn onClick={hangSend}>{t(\"confirm\")}</SendBtn>\r\n                        <Box mt={2}>{statesIcon()}</Box>\r\n                        \r\n                  </Flex>\r\n\r\n              </StyleModal>\r\n            </Box>\r\n         \r\n\r\n          </ModalConent>\r\n        </Fade>\r\n      </Modal>\r\n  \r\n  );\r\n};\r\n\r\nexport default SendModal;\r\n","import BigNumber from \"bignumber.js\";\r\n\r\nconst tranId=(str:any)=>{\r\n    str ='00'+str;   \r\n    return str.substring(str.length-3,str.length);\r\n}\r\nexport const tranIdDraw=(str:any)=>{\r\n    str ='0'+str;   \r\n    return str.substring(str.length-2,str.length);\r\n}\r\nexport const tranPrice=(priceOfBox:string)=>{\r\n    return (new BigNumber(priceOfBox?priceOfBox:0).div(new BigNumber(10).pow(18))).toFixed();\r\n}\r\nexport const tranTotalPrice=(a:string,b:string)=>{\r\n    const total=new BigNumber(a?a:0).plus(new BigNumber(b?b:0));\r\n    return (total.div(new BigNumber(10).pow(18))).toFixed();\r\n}\r\nexport default tranId","import { Box, Button, createStyles, makeStyles, Modal, Theme } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useMatchBreakpoints from \"../../hooks/useMatchBreakpoints\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport formatDate from \"../../utils/timeTran\";\r\nimport SendModal from \"./SendModal\";\r\nimport { useWallet } from \"@binance-chain/bsc-use-wallet\";\r\nimport { useBoxTime } from \"./hooks/useBox\";\r\nimport tranId from '../../utils/tran'\r\n\r\nconst SendBtn=styled(Box)`\r\n    padding: 8px 30px 8px 30px;\r\n    background-color: #6DB90E;\r\n    border-radius: 20px;\r\n    font-weight: bold;\r\n    color: #fff;\r\n    cursor: pointer;\r\n    :hover{\r\n        background-color: #436e0f;\r\n    }\r\n`\r\n\r\nconst StyleModal=styled(Box)<{isMobile:boolean}>`\r\n  padding:${(props) => (props.isMobile?\"0px 0px 0px 0.31rem\":\"0px 16px 0px 38px\")};\r\n`\r\nconst Flex=styled(Box)`\r\n  display: flex;\r\n`\r\n\r\nconst RightLog=styled(Flex)`\r\n  height: 20px;\r\n  width: 6px;\r\n  background: #0058cd;\r\n`\r\nconst RightLogText=styled(Flex)`\r\n    font-size: 24px;\r\n    font-family: SourceHanSansCN, SourceHanSansCN-Heavy;\r\n    font-weight: 800;\r\n    color: #fff;\r\n`\r\n\r\nconst ModalConent=styled(Flex)<{isMobile:boolean}>`\r\n      position: absolute;\r\n      width: ${(props) => (props.isMobile?\"89%\":\"\")};\r\n      /* height:480px; */\r\n      border: '2px solid #000';\r\n      box-shadow: 5px;\r\n      outline:0;\r\n      // padding: theme.spacing(2, 4, 3),\r\n      background-color:#061E3E;\r\n      font-size: ${(props) => (props.isMobile?\"12px\":\"\")};\r\n      .fontSizeMedal{\r\n        font-size: ${(props) => (props.isMobile?\"0.18rem\":\"18px\")};\r\n      }\r\n      .font24SizeMedal{\r\n        font-size: ${(props) => (props.isMobile?\"0.24rem\":\"24px\")};\r\n      }\r\n      .closeImg{\r\n        width:${(props) => (props.isMobile?\"0.24rem\":\"24px\")};\r\n        height:${(props) => (props.isMobile?\"0.24rem\":\"24px\")};\r\n      }\r\n`\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center'\r\n    },\r\n    paper: {\r\n      position: 'absolute',\r\n      width: \"50%\",\r\n      height:\"480px\",\r\n      // backgroundColor: theme.palette.background.paper,\r\n      border: '2px solid #000',\r\n      boxShadow: theme.shadows[5],\r\n      outline:0,\r\n      // padding: theme.spacing(2, 4, 3),\r\n      backgroundColor: \"#061E3E\"\r\n    },\r\n  }),\r\n);\r\ninterface ImgInfoModel{\r\n  url?: number\r\n  isopen:boolean\r\n  setOpens:(e: any)=>void\r\n  lotTimeHistory:Array<any>\r\n  lotIdAndIdx:{\r\n    address:string,\r\n    lotId:number,\r\n    spId:number,\r\n    dueTime:number\r\n  }\r\n}\r\n\r\n\r\nconst ImgInfoModel: React.FC<ImgInfoModel> = ({url,isopen,setOpens,lotIdAndIdx,lotTimeHistory}) => {\r\n  const { isDesktop, isMobile } = useMatchBreakpoints();\r\n  const { t } = useTranslation();\r\n  const classes = useStyles();\r\n  const {account} = useWallet();\r\n  const {historyList}=useBoxTime(lotIdAndIdx.lotId,lotIdAndIdx.spId);\r\n  // const handImg=()={}\r\n  const [open,setOpen]=useState(isopen);\r\n\r\n  \r\n\r\n  \r\n  return (<Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={isopen}\r\n        onClose={()=>{setOpens(false)}}\r\n        closeAfterTransition\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        {/* <Fade in={open}> */}\r\n          <ModalConent pb={5}  isMobile={!isDesktop}>\r\n            <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n              <Box style={{cursor: 'pointer'}} onClick={()=>setOpens(false)} mt={2} mr={2} display='flex' alignItems='center' justifyContent='right'>\r\n                <img  className=\"closeImg\" src=\"./image/close.png\"/>\r\n                <Box ml={1} className=\"font24SizeMedal\" component='span' color=\"#fff\"  flex={'display'}>{t(\"CLOSE\")}</Box>\r\n              </Box>\r\n              <StyleModal mt={1} isMobile={!isDesktop} display='flex'>\r\n                   <Flex \r\n                    width={!isDesktop?'2.92rem':'404px'}\r\n                    height={!isDesktop?'2.92rem':'404px'}>\r\n                      {lotIdAndIdx.dueTime>new Date().getTime()?\r\n                       <img src=\"./image/unkomn.png\" width=\"100%\" height=\"100%\" alt=\"\" />\r\n                       :\r\n                       <img src={`https://blindbox.cash/jigsaw/${lotIdAndIdx.lotId}/piece${tranId(lotIdAndIdx.spId)}.jpg`} width=\"100%\" height=\"100%\" alt=\"\" />\r\n                      }\r\n                    </Flex>\r\n                   \r\n                   <Flex \r\n                   ml={!isDesktop?1:4} \r\n                   mt={!isDesktop?\"\":'46px'} \r\n                   display='flex' \r\n                   flex={1} \r\n                   alignItems={!isDesktop?\"\":'baseline'} >\r\n                    <RightLog></RightLog>\r\n                    <Flex ml='10px' flex={1} justifyContent=\"space-between\" height=\"100%\"  flexDirection=\"column\">\r\n                      <Box>\r\n                        <RightLogText  fontSize={!isDesktop?\"0.24rem\":'24px'}  component='span'>{t(\"DETAILS OF THE BLOCK\")}</RightLogText>\r\n                        <Flex mt={5}   flexDirection=\"column\" >\r\n                            <Flex  component='span'>\r\n                              <Flex className=\"fontSizeMedal\" fontWeight='bold' color=\"#fff\"   component='span'>{t(\"PIECE ID:\")}</Flex>\r\n                              <Flex ml={2} color=\"#006DFF\" component='span' flexDirection=\"column\">{lotIdAndIdx.lotId+\"-\"+lotIdAndIdx.spId}</Flex>\r\n                            </Flex>\r\n                            <Flex  mt={4} component='span' flexDirection=\"column\">\r\n                              <Flex className=\"fontSizeMedal\" fontWeight='bold' color=\"#fff\"  component='span'>{t(\"GOT TIME:\")}</Flex>\r\n                              <Flex  color=\"#006DFF\" component='span' flexDirection=\"column\">\r\n                                {historyList.map((t:any)=>(\r\n                                  <Box key={t.timestamp} component=\"span\">\r\n                                    {formatDate(parseInt(t.timestamp)*1000)}\r\n                                  </Box>\r\n                                  \r\n                                  ))}\r\n                                </Flex>\r\n                            </Flex>\r\n                      \r\n                        </Flex>\r\n                      </Box>\r\n                    \r\n                      \r\n                      <Flex justifyContent=\"end\" pt={1} pr={1}>\r\n                        {\r\n                         lotIdAndIdx.address==account?<SendBtn onClick={()=>{setOpen(true)}}>{t(\"Send\")}</SendBtn>:\"\"\r\n                        }\r\n                      </Flex>\r\n                      \r\n                      <SendModal \r\n                       isopen={open} \r\n                       setOpens={setOpen}\r\n                       lotIdAndIdx={lotIdAndIdx}></SendModal>\r\n                    </Flex>\r\n                   </Flex>\r\n              </StyleModal>\r\n            </Box>\r\n          </ModalConent>\r\n        {/* </Fade> */}\r\n      </Modal>\r\n  \r\n  );\r\n};\r\n\r\nexport default ImgInfoModel;\r\n","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport BigNumber from 'bignumber.js';\r\nimport { useEffect, useState } from 'react'\r\nimport { useBeeContract, useJigsawPuzzle } from '../../../hooks/useContract'\r\nimport useWeb3 from '../../../hooks/useWeb3';\r\nimport { usePuzzleState } from '../../../state/Puzzles/hooks';\r\nimport { getJigsawPuzzleAbiAddress } from '../../../utils/addressHelpers';\r\n\r\nexport  function  useBox():{boxList:any[]}{\r\n  const [boxList, setBoxList] = useState<any[]>([])\r\n  const PuzzleContract=useJigsawPuzzle();\r\n  const {pageRefreshState}=usePuzzleState();\r\n  const {account}=useWallet();\r\n  useEffect(() => {\r\n    const fetch = async () => {\r\n        let list=[];\r\n        const cont=await PuzzleContract.methods.getLotCount().call();\r\n        if(cont!=0){\r\n            const nums=[...Array(parseInt(cont))].map((x,idx) => idx);\r\n\r\n            list = await Promise.all(\r\n                nums.map(i => PuzzleContract.methods.lotInfoList(i).call().then((data:any)=>data))\r\n            )\r\n            const ownerList = await Promise.all(\r\n                nums.map(i => PuzzleContract.methods.getOwnerList(i).call().then((data:any)=>data))\r\n            )\r\n\r\n            for(let [index,value] of  (list as any).entries()){\r\n                const  shenyu=(value.totalBoxCount*value.jigsawPieceCountInEachBox)-ownerList[index].length;\r\n                value['residue']=shenyu/value.jigsawPieceCountInEachBox;\r\n            }\r\n\r\n        }\r\n        setBoxList(list)\r\n    }\r\n\r\n    if ((pageRefreshState|| !boxList || !boxList.length) && (account!=undefined && account!=null)) fetch()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [setBoxList,pageRefreshState,account])\r\n\r\n  return {boxList}\r\n}\r\n\r\nexport  function  useOwenerList():{ownerList:any[]}{\r\n    const [ownerList, setOwnerList] = useState<any[]>([])\r\n    const PuzzleContract=useJigsawPuzzle();\r\n    const {account} = useWallet();\r\n    const {pageRefreshState}=usePuzzleState();\r\n    useEffect(() => {\r\n      const fetch = async () => {\r\n          let restus=[];\r\n          let list=[];\r\n          let originals=[];\r\n          try {\r\n            const cont=await PuzzleContract.methods.getLotCount().call();\r\n            if(cont!=0){\r\n              // const nums=[...Array(parseInt(cont))].map((x,idx) => idx);\r\n              const nums=[parseInt(cont)-1];\r\n              const lots = await Promise.all(\r\n                  nums.map(i => PuzzleContract.methods.lotInfoList(i).call().then((data:any)=>data))\r\n              )\r\n              const ownerList = await Promise.all(\r\n                  nums.map(i => PuzzleContract.methods.getOwnerList(i).call().then((data:any)=>data))\r\n              )\r\n            \r\n              for(let [index,value] of  (lots as any).entries()){\r\n                  // const  shenyu=(value.totalBoxCount*value.jigsawPieceCountInEachBox)-ownerList[index].length;\r\n                  // value['residue']=shenyu/value.jigsawPieceCountInEachBox;\r\n  \r\n                    originals.push(ownerList[index]);\r\n                    list.push(ownerList[index].map((t:any,idx:number)=>({\r\n                      dueTime:parseInt(value.dueTime)*1000,\r\n                      id:nums[0],\r\n                      index:idx,\r\n                      value:t\r\n                    })));\r\n              }\r\n  \r\n  \r\n                let addrs:Array<any>=Array.from(new Set(originals.flat()))\r\n                let addrObj:any={}\r\n                for(let s of addrs){\r\n                   addrObj[s]=[];\r\n                }\r\n                \r\n                for(let p of addrs){\r\n                   \r\n                   for(let [index,value] of (list as any).entries()){\r\n                       const items=value.filter((t:any)=>t.value==p);\r\n                       const attr=items.map((b:any)=>({\r\n                        lotId:b.id,\r\n                        spId:b.index,\r\n                        dueTime:b.dueTime\r\n                       }));\r\n                       addrObj[p]=addrObj[p].concat(attr)\r\n                   }\r\n                   \r\n                }\r\n                \r\n  \r\n               \r\n                for(let a of Object.keys(addrObj)){\r\n                    if(a==account){\r\n                      restus.unshift({address:a,lots:addrObj[a]})\r\n                      // restus.unshift({address:a,lots:addrObj[a].concat(addrObj[a])})\r\n                    }else{\r\n                      restus.push({address:a,lots:addrObj[a]})\r\n                    }\r\n                    \r\n                }\r\n  \r\n  \r\n                console.log(\"restus\",restus)\r\n               \r\n                  \r\n            }\r\n            setOwnerList(restus)\r\n          } catch (error) {}\r\n      }\r\n  \r\n      if (account || pageRefreshState || !ownerList || !ownerList.length) fetch()\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [setOwnerList,pageRefreshState,account])\r\n  \r\n    return {ownerList}\r\n}\r\n\r\n\r\nexport  function useBoxTime(lotId:number,spId:number):{historyList:Array<any>}{\r\n    const [historyList, setHistoryList] = useState<any[]>([])\r\n    const PuzzleContract=useJigsawPuzzle();\r\n    const web3 = useWeb3();\r\n    \r\n    useEffect(() => {\r\n      const fetch = async () => {\r\n        // const UnsetQualified= await \r\n        console.log(\"lotIdAndPieceIndex\",(new BigNumber(lotId).\r\n              times(new BigNumber(2).pow(64)).\r\n              plus(new BigNumber(spId)).toFixed()))\r\n        PuzzleContract.getPastEvents('Transfer', {\r\n            fromBlock: 0,\r\n            toBlock: 'latest',\r\n            filter:{lotIdAndPieceIndex:[(new BigNumber(lotId).times(new BigNumber(2).pow(64)).plus(new BigNumber(spId)).toFixed())]}\r\n        }).then(async (UnsetQualified)=>{\r\n          console.log(UnsetQualified)\r\n\r\n          // console.log(\"testst\",new BigNumber(\"18446744073709551616\").div(new BigNumber(2).pow(64)).toFixed())\r\n          \r\n\r\n          const history = await Promise.all(\r\n              UnsetQualified.map(p => web3.eth.getBlock(p.blockNumber).then((data:any)=>data))\r\n          )\r\n          setHistoryList(history)\r\n        })\r\n   \r\n      }\r\n  \r\n      if (lotId!==undefined&&lotId!==null && spId!=undefined && spId!=null) fetch()\r\n    }, [setHistoryList,lotId,spId])\r\n\r\n    return {historyList}\r\n}\r\n\r\n\r\nexport  function useOwnerApprove():{isApprove:boolean}{\r\n    const [isApprove, setAllowanceState] = useState<boolean>(false);\r\n    const beeContract=useBeeContract();\r\n    const {account} = useWallet();\r\n    const {pageRefreshState}=usePuzzleState();\r\n    useEffect(() => {\r\n      const fetch = async () => {\r\n        try {\r\n            const allowance= await beeContract.methods.allowance(account,getJigsawPuzzleAbiAddress()).call();\r\n            const tokenAllowedStatus = allowance && !new BigNumber(allowance).isLessThan(new BigNumber(10).pow(77))\r\n            setAllowanceState(tokenAllowedStatus)\r\n        } catch (error) {}\r\n\r\n      }\r\n  \r\n      if(account||pageRefreshState){\r\n         fetch()\r\n      } \r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [setAllowanceState,account,pageRefreshState])\r\n\r\n    return {isApprove}\r\n}","import { Box, Button } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useMatchBreakpoints from \"../../hooks/useMatchBreakpoints\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport ImgInfoModel from \"./ImgInfoModel\";\r\nimport { useBox, useOwenerList } from \"./hooks/useBox\";\r\nimport { useJigsawPuzzle } from \"../../hooks/useContract\";\r\nimport useWeb3 from \"../../hooks/useWeb3\";\r\nimport tranId from '../../utils/tran'\r\n\r\nconst Center = styled(Box)<any>`\r\n  background-image: url(/image/新建项目.svg);\r\n  background-repeat: no-repeat;\r\n  background-size: 100% 100%;\r\n  background-attachment: fixed;\r\n  border-radius: 10px;\r\n`;\r\n\r\n\r\n\r\nconst StyleTotalText=styled(Box)`\r\n     font-size:18px;\r\n     color:#fff;\r\n`\r\nconst StyeleTable=styled(Box)`\r\n     @media (max-width: 750px) {\r\n      max-height:6.4rem;\r\n     }\r\n     @media (min-width:750px){\r\n      max-height:560px;\r\n     }\r\n     overflow-y:auto;\r\n     word-break: break-all;\r\n     ::-webkit-scrollbar {\r\n    width: 2px;\r\n    height: 10px;\r\n    /* scrollbar-arrow-color:#f0f0f0; */\r\n  }\r\n  /*滚动条里面小方块*/\r\n  ::-webkit-scrollbar-thumb {\r\n    border-radius: 5px;\r\n    box-shadow: inset 0 0 2px #f0f0f0;\r\n    background: rgba(0,0,0,0.2);\r\n    /* scrollbar-arrow-color:#898989; */\r\n  }\r\n  /*滚动条里面轨道*/\r\n  ::-webkit-scrollbar-track {\r\n    /* -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2); */\r\n    border-radius: 0;\r\n    background: rgba(0,0,0,0.1);\r\n  }\r\n`\r\n\r\nconst StyleTh=styled(Box)`\r\n  font-weight:bold;\r\n  width:33%;\r\n  color: #fff;\r\n  text-align:left;\r\n  background-color:#00265C ;\r\n  @media (max-width: 750px) {\r\n      padding:0.15rem 0px 0.15rem  0px;\r\n  }\r\n  @media (min-width:750px){\r\n      padding:14px 0px 14px 0px;\r\n  }\r\n`\r\nconst StyleTr=styled(Box)`\r\n  @media (max-width: 750px) {\r\n      padding:0.15rem 0px 0.15rem  0px;\r\n  }\r\n  @media (min-width:750px){\r\n    padding:10px 0px 10px 0px;\r\n  }\r\n  color: #fff;\r\n  background-color:#011532;\r\n  text-align:left;\r\n  display:flex;\r\n  align-items:center ;\r\n  overflow: auto;\r\n  word-break: normal;\r\n\r\n  ::-webkit-scrollbar {\r\n    width: 2px;\r\n    height: 5px;\r\n    /* scrollbar-arrow-color:#f0f0f0; */\r\n  }\r\n  /*滚动条里面小方块*/\r\n  ::-webkit-scrollbar-thumb {\r\n    border-radius: 5px;\r\n    box-shadow: inset 0 0 2px #f0f0f0;\r\n    background: rgba(0,0,0,0.2);\r\n    /* scrollbar-arrow-color:#898989; */\r\n  }\r\n  /*滚动条里面轨道*/\r\n  ::-webkit-scrollbar-track {\r\n    /* -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2); */\r\n    border-radius: 0;\r\n    background: rgba(0,0,0,0.1);\r\n  }\r\n\r\n`\r\n\r\n\r\nconst StyleTable = styled.table`\r\n   border:none;\r\n   border-spacing: inherit;\r\n   width:100% ;\r\n   color:#fff ;\r\n   thead>th{\r\n    padding:14px 0px 14px 0px;\r\n    text-align:left;\r\n    background-color:#00265C ;\r\n   };\r\n   tbody>tr>td{\r\n    padding:10px 0px 10px 0px;\r\n    text-align:left;\r\n   };\r\n   .pl{\r\n    padding-left:40px ;\r\n   };\r\n\r\n   .color_1{\r\n    background-color:#011532;\r\n   }\r\n   .color_2{\r\n    background-color:#2C3645;\r\n   }\r\n`;\r\n\r\nconst StyleImg = styled.img`\r\n   \r\n    @media (max-width: 750px) {\r\n      width: 0.41rem;\r\n      height: 0.41rem;\r\n    }\r\n    @media (min-width:750px){\r\n      width: 41px;\r\n      height: 41px;\r\n    }\r\n    cursor: pointer;\r\n`;\r\n\r\nconst ListTableBox=styled(Box)`\r\n    @media (max-width: 750px) {\r\n       font-size: 0.18rem;\r\n    }\r\n    @media (min-width:750px){\r\n       /* padding:0px 8px 0px 8px;\r\n       height: 32px; */\r\n    }\r\n`\r\n\r\n\r\nconst ListTable: React.FC = () => {\r\n  const { isDesktop, isMobile } = useMatchBreakpoints();\r\n  const { t } = useTranslation();\r\n  const PuzzleContract=useJigsawPuzzle();\r\n  const web3 = useWeb3();\r\n  \r\n  const [open,setOpen]=useState(false);\r\n  // 获取boxlist\r\n  const {ownerList}=useOwenerList();\r\n  const [lotTimeHistory,setlotTimeHistory]=useState<any>([]);\r\n  const [lotIdAndIdx,setLotIdAndIdx]=useState<any>([]);\r\n\r\n  const showModal=async (t:any,address:string)=>{\r\n    setLotIdAndIdx({address:address,lotId:t.lotId,spId:t.spId,dueTime:t.dueTime});\r\n    setOpen(!open)\r\n  }\r\n\r\n \r\n  \r\n  return (\r\n    <ListTableBox  display=\"flex\" flex={1}  flexDirection='column'>\r\n    \r\n           <Box display='flex' flexDirection='column' mt={3}>\r\n\r\n                   <Box display='flex'>\r\n                        <StyleTh flex={1} pl={!isDesktop?1:5}>{t(\"address\")}</StyleTh>\r\n                        <StyleTh flex={1}>{t(\"Number\")}</StyleTh>\r\n                        <StyleTh flex={1}>{t(\"Detail\")}</StyleTh>\r\n                    </Box>\r\n                    <StyeleTable  display='flex' flexDirection=\"column\">\r\n                        {ownerList.map((m)=>(\r\n                            <Box key={m.address} display='flex' flex={1}>\r\n                                    <StyleTr flex={1} pl={!isDesktop?1:5} style={{'width':'0'}}>{m.address}</StyleTr>\r\n                                    <StyleTr flex={1} pl={1}>{m?.lots?.length}</StyleTr>\r\n                                    <StyleTr flex={1} style={{'width':'0'}}>\r\n                                    {m?.lots?.map((t: any,idx: number)=>{\r\n                                     \r\n                                      \r\n                                      return <>\r\n                                       {\r\n                                        t.dueTime>new Date().getTime()?\r\n                                        <StyleImg key={idx} onClick={()=>{showModal(t,m.address)}}\r\n                                        style={{\"marginLeft\":idx==0?'0px':isDesktop?\"55px\":\"0.55rem\"}}  \r\n                                        src={`./image/unkomn.png`} alt=\"\"/>\r\n                                        :<StyleImg key={idx} onClick={()=>{showModal(t,m.address)}}\r\n                                        style={{\"marginLeft\":idx==0?'0px':isDesktop?\"55px\":\"0.55rem\"}}  \r\n                                        // https://blindbox.cash/jigsaw/<lotid>/piece001.png\r\n                                        // t.lotId,spId:t.spId\r\n                                        src={`https://blindbox.cash/jigsaw/${t.lotId}/piece${tranId(t.spId)}.jpg`} alt=\"\"/>\r\n                                       }\r\n                                       {/* dueTime:{t.dueTime} */}\r\n                                      \r\n                                      </>\r\n                                        })}\r\n                                    </StyleTr>\r\n                           </Box>\r\n                        ))}\r\n                    </StyeleTable>\r\n                  \r\n                {/* <StyleTable width={0}>\r\n                   \r\n\r\n                    <thead>\r\n                        <th className=\"pl\">ADDRESS</th>\r\n                        <th>Number of the blocks</th>\r\n                        <th>Detail</th>\r\n                    </thead>\r\n                    <tbody>\r\n                        {ownerList.map((t:any)=>(\r\n                          <tr className=\"color_1\">\r\n                             <td className=\"pl\">{t.address}</td>\r\n                             <td>{t?.lots?.length}</td>\r\n                             <td>\r\n                                 {t?.lots?.map((t: any,idx: number)=>{\r\n                                     return <StyleImg onClick={()=>setOpen(!open)} style={{\"marginLeft\":idx==0?'0px':\"55px\"}}  src=\"./image/myFuzzle/suipian.png\" alt=\"\"/>\r\n                                 })}\r\n                             </td>\r\n                         </tr>\r\n                        ))}\r\n                       \r\n                    </tbody>\r\n                </StyleTable> */}\r\n           </Box>\r\n               <ImgInfoModel \r\n                        lotIdAndIdx={lotIdAndIdx}\r\n                        lotTimeHistory={lotTimeHistory} \r\n                        isopen={open} \r\n                        setOpens={setOpen}>\r\n               </ImgInfoModel>\r\n      \r\n    \r\n    </ListTableBox>\r\n    \r\n  );\r\n};\r\n\r\nexport default ListTable;\r\n","import { Box, Button, createStyles, Fade, makeStyles, Modal, Theme } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n// import useMatchBreakpoints from \"../hooks/useMatchBreakpoints\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport useMatchBreakpoints from \"../hooks/useMatchBreakpoints\";\r\n\r\nconst Center = styled(Box)<any>`\r\n  background-image: url(/image/新建项目.svg);\r\n  background-repeat: no-repeat;\r\n  background-size: 100% 100%;\r\n  background-attachment: fixed;\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst StylePanel=styled(Box)`\r\n     /* height: 80px; */\r\n     background-color: #001634;\r\n     background-image: url('/image/myFuzzle/myback.png');\r\n     background-size:100% 100%;\r\n     padding:37px 40px 37px 40px;\r\n`\r\n\r\nconst StyleModal=styled(Box)`\r\n  padding:0px 16px 0px 38px;\r\n`\r\nconst Flex=styled(Box)`\r\n  display: flex;\r\n`\r\n\r\nconst RightLog=styled(Flex)`\r\n  height: 20px;\r\n  width: 6px;\r\n  background: #0058cd;\r\n`\r\nconst RightLogText=styled(Flex)`\r\n    font-size: 24px;\r\n    font-family: SourceHanSansCN, SourceHanSansCN-Heavy;\r\n    font-weight: 800;\r\n    color: #fff;\r\n`\r\nconst ModalConent=styled(Flex)<{isMobile:boolean}>`\r\n      position: absolute;\r\n      width: ${(props) => (props.isMobile?\"89%\":\"50%\")};\r\n      /* height:480px; */\r\n      border: '2px solid #000';\r\n      box-shadow: 5px;\r\n      outline:0;\r\n      // padding: theme.spacing(2, 4, 3),\r\n      background-color:#061E3E;\r\n      font-size: ${(props) => (props.isMobile?\"12px\":\"\")};\r\n      .fontSizeMedal{\r\n        font-size: ${(props) => (props.isMobile?\"0.18rem\":\"18px\")};\r\n      }\r\n      .font24SizeMedal{\r\n        font-size: ${(props) => (props.isMobile?\"0.24rem\":\"24px\")};\r\n      }\r\n      .closeImg{\r\n        width:${(props) => (props.isMobile?\"0.24rem\":\"24px\")};\r\n        height:${(props) => (props.isMobile?\"0.24rem\":\"24px\")};\r\n      }\r\n`\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n     \r\n    },\r\n    paper: {\r\n      position: 'absolute',\r\n      minWidth:'375px',\r\n      // width: \"50%\",\r\n      // height:\"480px\",\r\n      // backgroundColor: theme.palette.background.paper,\r\n      border: '2px solid #000',\r\n      boxShadow: theme.shadows[5],\r\n      outline:0,\r\n      padding: theme.spacing(2, 4, 8),\r\n      backgroundColor: \"#061E3E\"\r\n    },\r\n  }),\r\n);\r\ninterface ImgInfoModel{\r\n  erro: string\r\n  isopen:boolean\r\n  setOpens:(e: any)=>void\r\n  successDes?:string\r\n}\r\n\r\n\r\nconst TipModael: React.FC<ImgInfoModel> = ({erro,isopen,setOpens,successDes}) => {\r\n  const { isDesktop, isMobile } = useMatchBreakpoints();\r\n  const { t } = useTranslation();\r\n  const classes = useStyles();\r\n  // const handImg=()={}\r\n  const [open,setOpen]=useState(isopen);\r\n\r\n\r\n\r\n  const handleOpen=()=>{\r\n       setOpen(!open)\r\n  }\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  \r\n  return (<Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={isopen}\r\n        onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={isopen}>\r\n          <ModalConent pb={5}  isMobile={!isDesktop}>\r\n            <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n              <Box style={{cursor: 'pointer'}} onClick={()=>setOpens(false)} mt={2} mr={2} display='flex' alignItems='center' justifyContent='right'>\r\n                <img  className=\"closeImg\" src=\"./image/close.png\"/>\r\n                <Box ml={1} className=\"font24SizeMedal\" component='span' color=\"#fff\"  flex={'display'}>{t(\"CLOSE\")}</Box>\r\n              </Box>\r\n              <StyleModal pt={5}  display='flex' flex={1} alignItems='center' justifyContent=\"center\">\r\n                <Box   display='flex' >\r\n                  <Box fontSize=\"18px\" fontWeight='bold' color={!erro?\"#3fdb3f\":\"red\"} display=\"flex\" >\r\n                     {successDes&&!erro?t(`${successDes}`):erro}\r\n                     {!successDes&&!erro?t('shop success'):erro}\r\n                  </Box>\r\n                </Box>\r\n              </StyleModal>\r\n          </Box>\r\n            \r\n          </ModalConent>\r\n        </Fade>\r\n      </Modal>\r\n  \r\n  );\r\n};\r\n\r\nexport default TipModael;\r\n","import { useCallback } from 'react'\r\nimport { Contract } from 'web3-eth-contract'\r\nimport { ethers } from 'ethers'\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport { useWallet } from '@binance-chain/bsc-use-wallet';\r\n\r\n// const gasPriceInObj = GAS_PRICE?{gasPrice:GAS_PRICE}:{};\r\nconst gasPriceInObj = {};\r\n// Approve token in general\r\nexport  const useTokenApprove = (tokenContract: Contract, spenderAddress: string) => {\r\n  const {account} = useWallet();\r\n  const onApprove = useCallback(async () => {\r\n    if (!(account && tokenContract && tokenContract.options.address && spenderAddress)) return false;\r\n\r\n    try {\r\n      const tx = await tokenContract.methods\r\n        .approve(spenderAddress, ethers.constants.MaxUint256)\r\n        .send({ ...gasPriceInObj, from: account })\r\n      return tx\r\n    } catch {\r\n      return false;\r\n    }\r\n  }, [account, spenderAddress, tokenContract])\r\n\r\n  return onApprove\r\n}\r\nexport default useTokenApprove","import { Box, Button, createStyles, makeStyles, Modal, Theme } from \"@material-ui/core\";\r\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useMatchBreakpoints from \"../../hooks/useMatchBreakpoints\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport ListTable from \"./ListTable\";\r\nimport { useBox, useOwnerApprove } from \"./hooks/useBox\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport TipModael from \"../../component/TipModael\";\r\nimport { useBeeContract, useJigsawPuzzle } from \"../../hooks/useContract\";\r\nimport { usePuzzleHandlers } from \"../../state/Puzzles/hooks\";\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport ConnectWallt from \"../home/ConnectWall\";\r\nimport { getBeeTokenAddress,getJigsawPuzzleAbiAddress } from \"../../utils/addressHelpers\";\r\nimport useTokenApprove from \"../../hooks/useApprove\";\r\n\r\n\r\nconst StylePanel=styled(Box)<{state:boolean}>`\r\n     height: 80px;\r\n     /* background-color: #001634; */\r\n     position:relative ;\r\n     .colorwhile{\r\n      color:#fff;\r\n     }\r\n     .green{\r\n      color:#00CD63;\r\n     }\r\n     .blue{\r\n      color:#00B3FF;\r\n     }\r\n     .orange{\r\n      color:#FFB700;\r\n     }\r\n     opacity: ${(props) => (props.state?1:0.2)};\r\n     pointer-events: ${(props) => (props.state ? \"initial\" : \"none\")};\r\n\r\n      @media (min-width: 100px) {\r\n        .testAfter{\r\n        ::after {\r\n          content: '';\r\n          padding:${(props) => (props.state?'20px 20px 20px 20px':'36px 20px 20px 20px')};\r\n          width:100%;   /* 或者flex: 1 */\r\n         }\r\n        } \r\n      }\r\n      @media (min-width: 750px) {\r\n        .testAfter{\r\n        ::after {\r\n          content: '';\r\n          padding:${(props) => (props.state?'20px 20px 20px 20px':'36px 20px 20px 20px')};\r\n          width:288px;   /* 或者flex: 1 */\r\n         }\r\n        } \r\n      }\r\n      @media (min-width: 960px) {\r\n        .testAfter{\r\n        ::after {\r\n          padding:${(props) => (props.state?'20px 20px 20px 20px':'36px 20px 20px 20px')};\r\n          content: '';\r\n          width:318px;   /* 或者flex: 1 */\r\n         }\r\n        } \r\n      }\r\n\r\n      @media (max-width: 750px) {\r\n       font-size: 0.18rem;\r\n      }\r\n\r\n   \r\n`\r\n\r\nconst StylePuzzleList=styled(Box)`\r\n      /* @media (max-width: 750px) {\r\n        height:6.88rem;\r\n      }\r\n      @media (min-width: 750px) {\r\n        height: 560px;\r\n      }\r\n     overflow-y:auto ; */\r\n`\r\nconst StyleShopImg=styled.img`\r\n      @media (max-width: 750px) {\r\n        width:0.73rem;\r\n        height:0.66rem;\r\n      }\r\n      @media (min-width: 750px) {\r\n        width:73px;\r\n        height:66px;\r\n      }\r\n\r\n`\r\n\r\nconst StyleRightList=styled(Box)<{isMobile:boolean}>`\r\n     position: ${(props) => (props.isMobile?'none':\"absolute\")};\r\n     right:0px;\r\n     justify-content: ${(props) => (props.isMobile?'center':\"none\")};\r\n     margin-top:${(props) => (props.isMobile?'23px':\"0\")} ;\r\n`\r\nconst Flex=styled(Box)`\r\n     display:flex;\r\n`\r\nconst StyleImg=styled(Flex)<{isMobile:boolean}>`\r\n      background-image: url('/image/myFuzzle/backBox.png');\r\n      background-size:100% 100% ;\r\n      padding:${(props) => (props.isMobile?'20px 20px 20px 20px':'32px 16px 20px 16px')};\r\n      align-items:center;\r\n      height:auto;\r\n      /* width:${(props) => (props.isMobile?\"100%\":\"310px\")}; */\r\n      \r\n\r\n      @media (max-width: 750px) {\r\n        width: 2.7rem;\r\n      }\r\n     \r\n      @media (min-width: 750px) {\r\n         width:380px;\r\n      }\r\n      @media (max-width: 600px) {\r\n        width: 100%;\r\n      }\r\n      /* @media (min-width: 960px) {\r\n        width:318px;\r\n      } */\r\n`\r\nconst BoxPanel=styled(Box)`\r\n    \r\n      \r\n   \r\n`\r\n\r\nconst BoxTitel=styled(Box)`\r\n    font-family: SourceHanSansCN, SourceHanSansCN-Heavy;\r\n    font-weight: 800;\r\n    text-align: left;\r\n    color: #ffb700;\r\n    line-height: 48px;\r\n`\r\nconst ShopBtn=styled(Box)<{isMobile:boolean}>`\r\n    width:${(props) => (props.isMobile?'112px':'160px')};\r\n    height: ${(props) => (props.isMobile?'33px':'48px')};\r\n    background-color: #0058CD;\r\n    font-size:18px;\r\n    font-weight: bold;\r\n    justify-content: center;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    :hover{\r\n      background-color: #033980;\r\n    }\r\n`\r\n\r\nconst ShopHasBtn=styled(Box)<{isMobile:boolean}>`\r\n    width:${(props) => (props.isMobile?'112px':'160px')};\r\n    height: ${(props) => (props.isMobile?'33px':'48px')};\r\n    background-color: #8c8c8d;\r\n    font-size:18px;\r\n    font-weight: bold;\r\n    justify-content: center;\r\n    border-radius: 5px;\r\n`\r\n\r\nconst TimeBox=styled(Box)<{isMobile:boolean}>`\r\n    background-color:black;\r\n    padding: ${(props) => (props.isMobile?'0.05rem 0.12rem 0.05rem 0.12rem':'6px 12px 6px 12px')} ;\r\n    font-size:${(props) => (props.isMobile?'0.32rem':'32px')};\r\n    color: #6FBA0F;\r\n    /* border:1px dashed #fff; */\r\n`\r\nconst StylePagination=styled(Pagination)`\r\n  ul>li>button{\r\n    color:#fff;\r\n    font-size: 24px;\r\n  }\r\n  ul>li>div{\r\n    color:#fff;\r\n    font-size: 24px;\r\n  }\r\n`\r\n\r\nconst BoxImgStyle=styled.img`\r\n     @media (max-width: 750px) {\r\n       /* width: 40%;\r\n       height:40%; */\r\n       width:  1.15rem;\r\n       height:1.05rem;\r\n     }\r\n\r\n     @media (min-width:750px){\r\n       width: 164px;\r\n       height:150px;\r\n     }\r\n\r\n     @media (max-width: 600px) {\r\n       width: 40%;\r\n       height:40%;\r\n     }\r\n`\r\nconst BeeImg=styled.img`\r\n     @media (max-width: 750px) {\r\n       width:0.24rem;\r\n       height:0.24rem;\r\n     }\r\n\r\n     @media (min-width:750px){\r\n      width: 27px;\r\n      height: 27px;\r\n     }\r\n`\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    paper: {\r\n      position: 'absolute',\r\n      width: 400,\r\n      backgroundColor: theme.palette.background.paper,\r\n      border: '2px solid #000',\r\n      boxShadow: theme.shadows[5],\r\n      padding: theme.spacing(2, 4, 3),\r\n    },\r\n  }),\r\n);\r\n\r\nconst PuzzleGame: React.FC = () => {\r\n\r\n  const { isDesktop, isMobile } = useMatchBreakpoints();\r\n  const { t } = useTranslation();\r\n  const {account} = useWallet();\r\n  const PuzzleContract=useJigsawPuzzle();\r\n\r\n  const [page,setPage]=useState(1);\r\n  const [shopOpen,setShopOpen]=useState(false);\r\n  const [shopErro,setShopErro]=useState<any>(\"\");\r\n  const [timeData,setTimeData]=useState(\"\");\r\n  const inter=useRef<any>(-1);\r\n  const [dateSplit,setDateSplit]=useState<any>({hour:[],min:[],second:[]}); \r\n  \r\n  const {onIsRefresh}=usePuzzleHandlers();\r\n\r\n  const tokenContract=useBeeContract();\r\n  const {isApprove}=useOwnerApprove();\r\n  const onTokenApprove = useTokenApprove(tokenContract, getJigsawPuzzleAbiAddress());\r\n  \r\n\r\n\r\n\r\n\r\n\r\n  const roladList=()=>{\r\n    onIsRefresh(true)\r\n    setTimeout(()=>{\r\n        onIsRefresh(false)\r\n    },1000)\r\n  }\r\n  // 授权\r\n  const handleApprove = useCallback(async () => {\r\n      try {\r\n          const txHash = await onTokenApprove();\r\n          roladList();\r\n      } catch (e) {\r\n          console.error(e)\r\n      }\r\n  }, [onTokenApprove])\r\n\r\n  // 获取boxlist 列表计算\r\n  const {boxList}=useBox();\r\n  const totalBox=useMemo(()=>{\r\n    let num=0;\r\n    let shenyu=0;\r\n    for(let p of boxList){\r\n      num+=parseInt(p.totalBoxCount)\r\n      shenyu+=parseInt(p.residue)\r\n    }\r\n    return [num,shenyu];\r\n  },[boxList])\r\n\r\n  const showBox=useMemo(()=>{\r\n    const start=(page-1)*6;\r\n    const end=start+6;\r\n    return boxList.slice(start,end);\r\n  },[boxList,page])\r\n\r\n \r\n  // 购买\r\n  const handShop=async(lotId:number)=>{\r\n    setShopErro(\"\")\r\n    try{\r\n      const res=await PuzzleContract.methods.buyBlindbox(lotId).send({ from: account });\r\n      console.log(\"success:\",res)\r\n      setShopOpen(true);\r\n      roladList();\r\n    }catch(e:any){\r\n      console.log(\"success:\",e)\r\n      setShopErro(e.message?e.message:e.toString())\r\n      setShopOpen(true);\r\n    }\r\n  }\r\n\r\n  \r\n\r\n\r\n  const getBtn=(index:number,dueTime:any)=>{\r\n    if(parseInt(dueTime)*1000<new Date().getTime()){\r\n        return <ShopHasBtn isMobile={!isDesktop} display='flex' alignItems='center'>\r\n        <Box color=\"#fff\" component='span'>{t(\"Has as\")}</Box>\r\n      </ShopHasBtn>\r\n    }\r\n\r\n    if(isApprove){\r\n       return <ShopBtn isMobile={!isDesktop} onClick={()=>{handShop(index)}} display='flex' alignItems='center'>\r\n       <Box color=\"#fff\" component='span'>{t(\"BUY IT\")}！</Box>\r\n     </ShopBtn>\r\n    }else{\r\n      return <ShopBtn isMobile={!isDesktop} onClick={handleApprove} display='flex' alignItems='center'>\r\n        <Box color=\"#fff\" component='span'>{t(\"approve\")}</Box>\r\n      </ShopBtn>\r\n    }\r\n   \r\n  }\r\n  //list\r\n  const tranPrice=(priceOfBox:string)=>{\r\n    return (new BigNumber(priceOfBox).div(new BigNumber(10).pow(18))).toFixed();\r\n  }\r\n  const mysteryBox=(item:any,index:number)=>{\r\n     return   <StyleImg \r\n              display=\"felx\"\r\n          \r\n              // ml={!isDesktop?0:4}\r\n              isMobile={!isDesktop}\r\n              className={\"list\"}\r\n              mt={5}>\r\n    \r\n     <Flex flexDirection=\"column\">\r\n        <Flex>\r\n          <BoxImgStyle src=\"./image/myFuzzle/box.png\" alt=\"\"/>\r\n          <Flex ml={'20px'} flexDirection=\"column\">\r\n            <BoxTitel fontWeight='bold' className=\"orange\"  fontSize={!isDesktop?'0.24rem':'32px'}  component=\"span\">BlindBox {index+1}</BoxTitel>\r\n            <Flex alignItems='center' className=\"colorwhile\" fontSize={!isDesktop?'0.18rem':'18px'} component=\"span\">\r\n                {t(\"total quantity\")}：\r\n                <Box className=\"green\"  fontSize={!isDesktop?'14px':'32px'}  component=\"span\">{item.residue}</Box>\r\n                <Box className=\"colorwhile\"  fontSize={!isDesktop?'14px':'18px'}  component=\"span\">&nbsp;/{item.totalBoxCount}</Box>\r\n            </Flex>\r\n\r\n            <Flex alignItems='center' className=\"colorwhile\" fontSize={!isDesktop?'0.18rem':'18px'} component=\"span\">\r\n                {t(\"Pieces of each box\")}：\r\n                <Box className=\"green\"  fontSize={!isDesktop?'14px':'32px'}  component=\"span\">{item.jigsawPieceCountInEachBox}</Box>\r\n            </Flex>\r\n\r\n            <Flex  flexDirection=\"column\" alignItems='start' mt={!isDesktop?1:3} >\r\n                <Flex alignItems='center' >\r\n                  <BeeImg src=\"./image/myFuzzle/beetoken.png\" alt=\"\"/>\r\n                  <Box ml={1} className=\"orange\"   fontSize={!isDesktop?\"0.32rem\":'32px'} component=\"span\">{tranPrice(item.priceOfBox)}</Box>\r\n                \r\n                </Flex>\r\n               \r\n                <Flex justifyContent=\"end\" mt={3}>\r\n                    {getBtn(index,item.dueTime)};\r\n                    {/* {isApprove?\r\n                    <ShopBtn isMobile={!isDesktop} onClick={()=>{handShop(index)}} display='flex' alignItems='center'>\r\n                      <Box color=\"#fff\" component='span'>{t(\"BUY IT\")}！</Box>\r\n                    </ShopBtn>\r\n                    :\r\n                    <ShopBtn isMobile={!isDesktop} onClick={handleApprove} display='flex' alignItems='center'>\r\n                      <Box color=\"#fff\" component='span'>{t(\"approve\")}</Box>\r\n                    </ShopBtn>\r\n                    } */}\r\n\r\n\r\n\r\n                </Flex>\r\n            </Flex>\r\n          </Flex>\r\n        </Flex>\r\n     \r\n     </Flex>\r\n     </StyleImg>\r\n  }\r\n  \r\n\r\n  const format=useCallback((second:string)=>{\r\n    let second_Time=(parseInt(second)*1000) - (new Date().getTime());\r\n    if(second_Time<0){\r\n      second_Time=0;\r\n    }\r\n    let seconds:number=Number((second_Time/1000).toFixed(0));\r\n    let hour:any= Math.floor(seconds / 3600) >= 10 ? Math.floor(seconds / 3600) : '0' + Math.floor(seconds / 3600);\r\n    seconds -= 3600 * hour;\r\n    let min:any = Math.floor(seconds / 60) >= 10 ? Math.floor(seconds / 60) : '0' + Math.floor(seconds / 60);\r\n    seconds -= 60 * min;\r\n    let sec = seconds >= 10 ? seconds : '0' + seconds;\r\n    return hour + ':' + min + ':' + sec;\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n     if(boxList.length>0 && inter.current==-1){\r\n        inter.current=setInterval(()=>{\r\n          const dueTime=boxList[boxList.length-1]?.dueTime;\r\n          const formatTime=format(dueTime)\r\n          setTimeData(formatTime)\r\n          const times=formatTime.split(\":\");\r\n          setDateSplit({\r\n            hour:times[0].split(\"\"),\r\n            min:times[1].split(\"\"),\r\n            second:times[2].split(\"\")\r\n          })\r\n          if(times[0]==\"00\"&&times[1]==\"00\"&&times[2]==\"00\"){\r\n            console.log(\"清除\")\r\n            clearInterval(inter.current)\r\n          }\r\n        })\r\n     }\r\n     \r\n     return ()=>{clearInterval(inter.current)}\r\n  },[format,boxList])\r\n  \r\n\r\n\r\n  const handleChange = (event: React.ChangeEvent<unknown>, value: number) => {\r\n       setPage(value);\r\n  };\r\n\r\n  return (<>\r\n     {!account?<Box display=\"flex\"  flex={1}>\r\n                   <Flex flex={1} alignItems=\"center\" justifyContent=\"center\">\r\n                      <Flex >\r\n                         <ConnectWallt></ConnectWallt>\r\n                      </Flex>\r\n                   </Flex>\r\n                 \r\n              </Box>\r\n           :\r\n         <StylePanel state={boxList.length>0?true:false}  display=\"flex\"  flexDirection=\"column\"   flex={1}  justifyContent=\"center\" >\r\n         <StylePuzzleList display=\"flex\" flex={1}>\r\n           <ListTable></ListTable>\r\n         </StylePuzzleList>\r\n  \r\n         <Box mt={isDesktop?12:\"0.74rem\"} display=\"flex\" flexDirection={!isDesktop?\"column\":\"row\"} justifyContent='center'>\r\n            <Box \r\n            flexDirection=\"column\" \r\n            display=\"flex\" \r\n            alignItems='center'>\r\n              <StyleShopImg src=\"./image/myFuzzle/shop.png\" alt=\"\" />\r\n              <Box  mt={2} className=\"colorwhile\">- {t(\"BlindBox Shop\")} -</Box>\r\n\r\n              <Flex mt={!isDesktop?2:0} justifyContent=\"center\">\r\n               <Box display=\"flex\" fontSize={isDesktop?\"24px\":\"0.24rem\"} fontWeight='800' alignItems='center'  className=\"colorwhile\" component=\"span\">\r\n               {t(\"ALL THE BOX\")}:\r\n                <Box ml='14px' className=\"green\"  fontSize={isDesktop?\"40px\":\"0.4rem\"}  component=\"span\">{totalBox[0]}</Box>\r\n                </Box>\r\n                <Box display=\"flex\" fontSize={isDesktop?\"24px\":\"0.24rem\"}  fontWeight='800' alignItems='center'  ml='64px' \r\n                className=\"colorwhile\" component=\"span\">\r\n                 {t(\"SURPLUS BOX\")} :\r\n                  <Box ml='14px' fontSize={isDesktop?\"40px\":\"0.4rem\"}  className=\"blue\"  component=\"span\">{totalBox[1]}</Box>\r\n                </Box>\r\n              </Flex>\r\n  \r\n            </Box>\r\n            <StyleRightList isMobile={!isDesktop} alignItems='center' display='flex' className=\"colorwhile\">\r\n\r\n              <Box mr={1} component='span'>{t(\"Close the shop\")}</Box>\r\n              {timeData?\r\n              \r\n              <>\r\n                 {dateSplit?.hour?.map((t:any)=>(\r\n                  <TimeBox mr={\"0.1rem\"} isMobile={!isDesktop}>{t}</TimeBox>\r\n                ))}：\r\n                {dateSplit?.min?.map((t:any)=>(\r\n                  <TimeBox mr={\"0.1rem\"} isMobile={!isDesktop}>{t}</TimeBox>\r\n                ))}：\r\n                {dateSplit?.second?.map((t:any)=>(\r\n                  <TimeBox mr={\"0.1rem\"} isMobile={!isDesktop}>{t}</TimeBox>\r\n                ))}\r\n              </>:\"\"\r\n              }\r\n            \r\n              \r\n  \r\n              {/* {format(boxList.length>0?boxList[boxList.length-1]?.dueTime:\"0\")} */}\r\n            </StyleRightList>\r\n         </Box>\r\n         \r\n         <Box mt={2}  flexDirection=\"column\" display=\"flex\" >\r\n\r\n  \r\n  \r\n           <BoxPanel \r\n            className={(showBox.length%2==0)?\"testAfter\":'testAfter'} \r\n            justifyContent=\"space-between\"\r\n            // justifyContent={isDesktop?\"left\":\"center\"} \r\n            display=\"flex\" \r\n            flexWrap=\"wrap\">\r\n            {\r\n              showBox.map((t,idx)=>(\r\n                <>{mysteryBox(t,idx)}</>\r\n              ))\r\n            }\r\n  \r\n           \r\n            \r\n\r\n           </BoxPanel>\r\n            <Box mt={5} display='flex' alignItems='center' justifyContent=\"center\">\r\n              {\r\n                Math.ceil(boxList.length/6)>1?\r\n                <StylePagination   onChange={handleChange} count={Math.ceil(boxList.length/6)} size=\"large\" hidePrevButton hideNextButton/>:\"\"\r\n              }\r\n            </Box>\r\n\r\n\r\n            <Box display='flex' color='#fff' flexDirection=\"column\">\r\n              <Box component='h3'>{t(\"Jigsaw Blind Box\")}</Box>\r\n              <Box component='span'>{t(\"Jigsaw Blind Box des\")}</Box>\r\n           </Box>\r\n         </Box>\r\n  \r\n         \r\n  \r\n        {/* //modal */}\r\n        <TipModael \r\n         erro={shopErro} \r\n         isopen={shopOpen}\r\n         setOpens={setShopOpen}></TipModael>\r\n         </StylePanel>\r\n    }\r\n  </>\r\n    \r\n  );\r\n};\r\n\r\nexport default PuzzleGame;\r\n","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { BottomNavigation, BottomNavigationAction, Box, Button, CircularProgress, Paper, Tab, Tabs, TextField, Typography } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Web3 from 'web3';\r\nimport { AbiItem } from 'web3-utils'\r\nimport JigsawPuzzleAbi from '../../../config/abi/JigsawPuzzle.json';\r\n\r\nimport DoneAllSharpIcon from '@material-ui/icons/DoneAllSharp';\r\nimport useWeb3 from '../../../hooks/useWeb3';\r\nimport {  getJigsawPuzzleAbiAddress } from '../../../utils/addressHelpers';\r\nimport { useJigsawPuzzle } from '../../../hooks/useContract';\r\nimport BigNumber from 'bignumber.js';\r\n\r\n\r\n\r\nconst FlexPanel = styled(Box)`\r\n  display:flex;\r\n`\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: any;\r\n    value: any;\r\n}\r\n\r\n\r\nconst Puzzle: React.FC =()=>{\r\n    const {account} = useWallet();\r\n    const [pedding,setPedding] = useState(false);\r\n    const PuzzleContract=useJigsawPuzzle();\r\n\r\n    const [data,setData] = useState({\r\n        priceOfBox:\"\",\r\n        dueTime:\"\",\r\n        totalBoxCount:\"\",\r\n        jigsawPieceCountInEachBox:\"\"\r\n    });\r\n    const [intro,setIntro] = useState(\"\");\r\n\r\n    const [hash,setHash] = useState(\"\");\r\n \r\n  \r\n    const createHand=async ()=>{\r\n          setPedding(true)\r\n          try {\r\n            const res=await PuzzleContract.methods.createLot(data,intro).send({from:account||\"\"});\r\n            console.log(\"结果\",res)\r\n            setHash(res.blockHash)\r\n            setPedding(false)\r\n          }catch(e){}\r\n          \r\n    }\r\n\r\n   const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        var stime = new Date(event.target.value).getTime()\r\n        const second=stime/1000;\r\n        setData(pre=>({...pre,dueTime:`${second}`}))\r\n   };\r\n\r\n   const handlePriceChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const priceAmount=new BigNumber(event.target.value).times(new BigNumber(10).pow(18)).toFixed(0)   \r\n    setData(pre=>({...pre,priceOfBox:priceAmount}))\r\n   };\r\n\r\n   return <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n                 <FlexPanel flexDirection=\"column\" style={{width:'50%'}}>\r\n\r\n                   <TextField \r\n                    id=\"standard-basic1\" \r\n                    label=\"盲盒价格(BEE)\"\r\n                    onChange={handlePriceChange}\r\n                    />\r\n\r\n                     <TextField\r\n                        id=\"datetime-local\"\r\n                        label=\"终止销售时间\"\r\n                        type=\"datetime-local\"\r\n                        defaultValue=\"\"\r\n                        onChange={handleChange}\r\n                        InputLabelProps={{\r\n                        shrink: true,\r\n                        }}\r\n                    />\r\n\r\n\r\n                   <TextField \r\n                    id=\"standard-basic2\" \r\n                    label=\"盲盒总量\"\r\n                    onChange={(e)=>{setData(pre=>({...pre,totalBoxCount:e.target.value}))}}\r\n                    />\r\n\r\n                    <TextField \r\n                    id=\"standard-basic3\" \r\n                    label=\"单个盲盒内碎片数量\"\r\n                    onChange={(e)=>{setData(pre=>({...pre,jigsawPieceCountInEachBox:e.target.value}))}}\r\n                    />\r\n\r\n                   <TextField \r\n                    id=\"standard-basic4\" \r\n                    label=\"介绍\"\r\n                    multiline\r\n                    rows={4}\r\n                    onChange={(e)=>{setIntro(e.target.value)}}\r\n                    />\r\n\r\n\r\n\r\n                    <FlexPanel mt={2} alignItems=\"center\">\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={createHand}>\r\n                                创建新批次盲盒\r\n                        </Button>\r\n                        <Box ml={2} mt={2}></Box>\r\n                        {pedding?<CircularProgress />:\"\"}\r\n                        {hash!==\"\"?<DoneAllSharpIcon  style={{color:'#14b714'}}></DoneAllSharpIcon>:\"\"}\r\n                    </FlexPanel>\r\n                    \r\n                    <FlexPanel flexDirection=\"column\">\r\n                        <h3 style={{\"marginBlockEnd\":0}}>交易hash:</h3>\r\n                        <h4 style={{\"marginBlockStart\":0}}>{hash}</h4>\r\n                    </FlexPanel>\r\n                  </FlexPanel>\r\n          </Box>\r\n\r\n}\r\n\r\nexport default Puzzle;","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { BottomNavigation, BottomNavigationAction, Box, Button, CircularProgress, Paper, Tab, Tabs, TextField, Typography } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Web3 from 'web3';\r\nimport { AbiItem } from 'web3-utils'\r\nimport JigsawPuzzleAbi from '../../../config/abi/JigsawPuzzle.json';\r\n\r\nimport DoneAllSharpIcon from '@material-ui/icons/DoneAllSharp';\r\nimport useWeb3 from '../../../hooks/useWeb3';\r\nimport {  getJigsawPuzzleAbiAddress } from '../../../utils/addressHelpers';\r\nimport { useJigsawPuzzle } from '../../../hooks/useContract';\r\nimport BigNumber from 'bignumber.js';\r\nimport tranId from '../../../utils/tran';\r\n\r\n\r\n\r\nconst FlexPanel = styled(Box)`\r\n  display:flex;\r\n`\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: any;\r\n    value: any;\r\n}\r\n\r\n\r\nconst ResValid: React.FC =()=>{\r\n    const {account} = useWallet();\r\n    const [pedding,setPedding] = useState(false);\r\n    const PuzzleContract=useJigsawPuzzle();\r\n\r\n    const [lotId,setlotId] = useState(\"\");\r\n    const [imgId,setImgId] = useState(\"\");\r\n    const [data,setData] = useState<any>({});\r\n \r\n  \r\n    const createHand=async ()=>{\r\n        setData({})\r\n        PuzzleContract.getPastEvents('Transfer', {\r\n            fromBlock: 0,\r\n             toBlock: 'latest'\r\n        }).then(function(events){\r\n            if(events.length>0){\r\n                console.log(events)\r\n                const indexId=parseInt(lotId)<<64|parseInt(imgId)\r\n                const res= events.find((t,idx)=>indexId==idx);\r\n                setData(res)\r\n                console.log(\"ressss\",res)\r\n            }\r\n            console.log(\"events\",events) // same results as the optional callback above\r\n        });\r\n\r\n        //   setPedding(true)\r\n        //   try {\r\n        //     const res=await PuzzleContract.methods.createLot(data,intro).send({from:account||\"\"});\r\n        //     console.log(\"结果\",res)\r\n        //     setHash(res.blockHash)\r\n        //     setPedding(false)\r\n        //   }catch(e){}\r\n          \r\n    }\r\n\r\n\r\n\r\n   return <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n                 <FlexPanel flexDirection=\"column\" style={{width:'50%'}}>\r\n                    <TextField \r\n                    id=\"standard-basic1\" \r\n                    label=\"批次ID\"\r\n                    onChange={(event)=>{setlotId(event.target.value)}}\r\n                    />\r\n\r\n                   <TextField \r\n                    id=\"standard-basic1\" \r\n                    label=\"碎片ID\"\r\n                    onChange={(event)=>{setImgId(event.target.value)}}\r\n                    />\r\n\r\n\r\n\r\n                    <FlexPanel mt={2} alignItems=\"center\">\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={createHand}>\r\n                                查询\r\n                        </Button>\r\n                        <Box ml={2} mt={2}></Box>\r\n                        {/* {pedding?<CircularProgress />:\"\"}\r\n                        {hash!==\"\"?<DoneAllSharpIcon  style={{color:'#14b714'}}></DoneAllSharpIcon>:\"\"} */}\r\n                    </FlexPanel>\r\n\r\n                     <Box>\r\n                        <Box>持有地址：{data?.returnValues?.newOwer}</Box>\r\n                        <Box>最后一次区块：{data?.blockNumber}</Box>\r\n                        <Box>图片：\r\n                             {\r\n                                data?.returnValues?.newOwer?\r\n                                <img src={`https://blindbox.cash/jigsaw/${lotId}/piece${tranId(imgId)}.jpg`} width='100px' height=\"100px\"/>\r\n                                :\"\"\r\n\r\n                             }\r\n                        </Box>\r\n                     </Box>\r\n\r\n                    \r\n                    {/* <FlexPanel flexDirection=\"column\">\r\n                        <h3 style={{\"marginBlockEnd\":0}}>交易hash:</h3>\r\n                        <h4 style={{\"marginBlockStart\":0}}>{hash}</h4>\r\n                    </FlexPanel> */}\r\n                  </FlexPanel>\r\n          </Box>\r\n\r\n}\r\n\r\nexport default ResValid;","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { BottomNavigation, BottomNavigationAction, Box, Button, CircularProgress, Paper, Tab, Tabs, Typography } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport Puzzle from './Puzzle';\r\nimport ResValid from './ResValids';\r\n\r\n\r\nconst FlexPanel = styled(Box)`\r\n  display:flex;\r\n`\r\nconst Container = styled(Box)`\r\n  background: black;\r\n  padding: 20px;\r\n  color: #fff;\r\n`;\r\n\r\n\r\n\r\n\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: any;\r\n    value: any;\r\n  }\r\nfunction TabPanel(props: TabPanelProps) {\r\n    const { children, value, index, ...other } = props;\r\n  \r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`wrapped-tabpanel-${index}`}\r\n        aria-labelledby={`wrapped-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n          <Box p={3} display='flex'>\r\n            {children}\r\n          </Box>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\nconst PuzzleMangent: React.FC =()=>{\r\n    const [value,setValue] = useState(0)\r\n\r\n    const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n            setValue(newValue);\r\n    };\r\n\r\n  return <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n\r\n        <Paper square>\r\n              <Tabs\r\n                value={value}\r\n                indicatorColor=\"primary\"\r\n                textColor=\"primary\"\r\n                onChange={handleChange}\r\n                aria-label=\"disabled tabs example\"\r\n            >\r\n                <Tab label=\"拼图盲盒创建\" />\r\n                <Tab label=\"结果验证\" />\r\n              </Tabs>\r\n        </Paper>\r\n      \r\n            <TabPanel value={value} index={0}>\r\n \r\n               <Puzzle></Puzzle>\r\n            </TabPanel>\r\n            <TabPanel value={value} index={1}>\r\n              <ResValid></ResValid>\r\n            </TabPanel>\r\n\r\n            \r\n\r\n\r\n            {/* <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n                <Alert onClose={handleClose} severity=\"success\">\r\n                 This is a success message!\r\n                </Alert>\r\n            </Snackbar> */}\r\n          </Box>\r\n\r\n}\r\n\r\nexport default PuzzleMangent;","import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport const roladPage = createAction<{isRefresh:boolean}>('Ice/roladPage')\r\nexport const selectDexs = createAction<{dexs:Array<string> }>('griDexSwap/selectDex')\r\n\r\n","import { useCallback } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport { roladPage } from './actions'\r\n\r\nexport function useIceState(): AppState['Ice'] {\r\n  return useSelector<AppState, AppState['Ice']>((state) => state.Ice)\r\n}\r\n\r\nexport function useIceHandlers(): {\r\n  onIsRefresh:(isRefresh:boolean)=>void\r\n} {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const onIsRefresh = useCallback((isRefresh:boolean) => {\r\n    dispatch(roladPage({isRefresh}))\r\n  }, [dispatch])\r\n\r\n  return { onIsRefresh }\r\n}\r\n","import React,  { useState, useRef, useEffect, useCallback } from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { Box } from '@material-ui/core'\r\n\r\nconst Flex=styled(Box)`\r\n     display: flex;\r\n`\r\nconst DropDownHeader = styled.div`\r\n  /* width: 100%; */\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  // justify-content: space-between;\r\n  /* padding: 16px; */\r\n  @media (max-width: 750px) {\r\n       padding: 0.08rem;\r\n  }\r\n  @media (min-width:750px){\r\n        padding: 16px;\r\n  }\r\n  \r\n  box-shadow: #dfd6d3;\r\n  border: 1px solid #dfd6d3;\r\n  border-radius: 10px;\r\n  background: #fff;\r\n  transition: border-radius 0.15s;\r\n`\r\n\r\nconst DropDownListContainer = styled.div`\r\n  min-width: 136px;\r\n  height: 0;\r\n  position: absolute;\r\n  overflow: hidden;\r\n  background: #f3f3f3;\r\n  z-index: 10000;\r\n  transition: transform 0.15s, opacity 0.15s;\r\n  transform: scaleY(0);\r\n  transform-origin: top;\r\n  opacity: 0;\r\n  width: 100%;\r\n  \r\n\r\n  box-shadow: 1px 10px 10px -12px;\r\n`\r\nconst Boxs= styled.div`\r\n`\r\nconst DropDownContainer = styled(Boxs)<{ isOpen: boolean }>`\r\n  cursor: pointer;\r\n  width: 100%;\r\n  position: relative;\r\n  background: #dfd6d3;\r\n  border-radius: 16px;\r\n  height: 100%;\r\n  min-width: 136px;\r\n  user-select: none;\r\n  // z-index: 20;\r\n\r\n\r\n\r\n  ${(props) =>\r\n    props.isOpen &&\r\n    css`\r\n      ${DropDownHeader} {\r\n        border-bottom: 1px solid #dfd6d3;\r\n        box-shadow: #dfd6d3;\r\n        border-radius: 16px 16px 0 0;\r\n      }\r\n\r\n      ${DropDownListContainer} {\r\n        height: auto;\r\n        transform: scaleY(1);\r\n        opacity: 1;\r\n        border-radius: 0 0 16px 16px;\r\n        box-shadow: #dfd6d3;\r\n        border-top:1px solid #dfd6d3;\r\n        /* border-style: dashed; */\r\n      }\r\n    `}\r\n\r\n  svg {\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n  }\r\n`\r\n\r\nconst DropDownList = styled.ul`\r\n  padding: 0;\r\n  margin: 0;\r\n  box-sizing: border-box;\r\n  z-index: 100;\r\n`\r\n\r\nconst ListItem = styled.li`\r\n  display:flex;\r\n  align-items: center;\r\n  list-style: none;\r\n  padding: 8px 16px;\r\n  &:hover {\r\n    background: '#dfd6d3';\r\n  }\r\n`\r\nconst Image = styled.img`\r\n    width: 24px;\r\n    height: 24px;\r\n    display: inline-block;\r\n    margin-right: 15px;\r\n    vertical-align: middle;\r\n`\r\n\r\nexport interface SelectProps {\r\n  options: OptionProps[]\r\n  onOptionChange?: (option: OptionProps) => void\r\n  placeHolderText?: string\r\n  selectIndex?: number\r\n}\r\n\r\nexport interface OptionProps{\r\n  img?:{\r\n    url:string,\r\n    name:string\r\n  }\r\n  label: string\r\n  value: any\r\n}\r\n\r\nconst Select: React.FunctionComponent<SelectProps> = ({\r\n  options,\r\n  onOptionChange,\r\n  selectIndex,\r\n  placeHolderText,\r\n  ...props\r\n}) => {\r\n  const { t,i18n } = useTranslation();\r\n  const dropdownRef = useRef(null)\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [optionSelected, setOptionSelected] = useState(false)\r\n  const [selectedOptionIndex, setSelectedOptionIndex] = useState(selectIndex||0)\r\n\r\n  \r\n  const toggling = (event: React.MouseEvent<HTMLDivElement>) => {\r\n    setIsOpen(!isOpen)\r\n    event.stopPropagation()\r\n  }\r\n\r\n  const onOptionClicked = (selectedIndex: number) => () => {\r\n    setSelectedOptionIndex(selectedIndex)\r\n    setIsOpen(false)\r\n    setOptionSelected(true)\r\n\r\n    if (onOptionChange) {\r\n      onOptionChange(options[selectedIndex])\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = () => {\r\n      setIsOpen(false)\r\n    }\r\n\r\n    document.addEventListener('click', handleClickOutside)\r\n    return () => {\r\n      document.removeEventListener('click', handleClickOutside)\r\n    }\r\n  }, [])\r\n\r\n\r\n  useEffect(()=>{\r\n    if(selectIndex!==undefined && selectIndex!==selectedOptionIndex){\r\n      setSelectedOptionIndex(selectIndex)\r\n      setIsOpen(false)\r\n      setOptionSelected(true)\r\n      // console.log('options',options)\r\n\r\n      if (onOptionChange) {\r\n          onOptionChange(options[selectIndex])\r\n      }\r\n    }\r\n\r\n  },\r\n  // eslint-disable-next-line\r\n  [selectIndex])\r\n\r\n  return (<>{options.length>0&&options[0].label?\r\n    <DropDownContainer isOpen={isOpen} {...props}>\r\n      <DropDownHeader onClick={toggling}>\r\n        {options[selectedOptionIndex] && options[selectedOptionIndex].img?<Image src={options[selectedOptionIndex]?.img?.url} alt={options[selectedOptionIndex]?.img?.name} />:''}\r\n        <Flex component=\"span\" color={!optionSelected && placeHolderText ? 'text' : undefined}>\r\n          {!optionSelected && placeHolderText ? placeHolderText :(options[selectedOptionIndex] && options[selectedOptionIndex].label)}\r\n        </Flex>\r\n      </DropDownHeader>\r\n      {/* <ArrowDropDownIcon color=\"text\" onClick={toggling} /> */}\r\n      <DropDownListContainer>\r\n        <DropDownList ref={dropdownRef}>\r\n          {options.map((option, index) =>\r\n            placeHolderText || index !== selectedOptionIndex ? (\r\n              <ListItem style={{textAlign:'left'}} onClick={onOptionClicked(index)} key={option.label}>\r\n                {option.img?<Image src={option.img.url} alt={option.img.name} />:''}\r\n                <Flex component=\"span\">{option.label}</Flex>\r\n              </ListItem>\r\n            ) : null,\r\n          )}\r\n        </DropDownList>\r\n      </DropDownListContainer>\r\n    </DropDownContainer>:''}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Select\r\n","import { Box, Button, unsupportedProp } from \"@material-ui/core\";\r\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useMatchBreakpoints from \"../../hooks/useMatchBreakpoints\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useBoxList, useHandFuc, useIceApprove, useOwnerExists, useWithdraw } from \"./hooks/useIce\";\r\nimport { useWallet } from \"@binance-chain/bsc-use-wallet\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport TipModael from \"../../component/TipModael\";\r\nimport { getBeeTokenAddress, getIceOrWaterAddress } from \"../../utils/addressHelpers\";\r\nimport useTokenApprove from \"../../hooks/useApprove\";\r\nimport { useBeeContract } from \"../../hooks/useContract\";\r\nimport { useIceHandlers, useIceState } from \"../../state/Ice/hooks\";\r\nimport ConnectWallt from \"../home/ConnectWall\";\r\nimport { tranPrice, tranTotalPrice } from \"../../utils/tran\";\r\nimport Select from \"../../component/SelectInput\";\r\nimport { OptionProps } from \"../../component/SelectInput/SelectInput\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\n\r\nconst StylePanel=styled(Box)<{state: boolean }>`\r\n     align-items: center;\r\n     @media (max-width: 750px) {\r\n       font-size: 0.16rem;\r\n     }\r\n     opacity: ${(props) => (props.state?1:0.2)};\r\n     pointer-events: ${(props) => (props.state ? \"initial\" : \"none\")};\r\n`\r\n\r\n\r\nconst Flex=styled(Box)`\r\n     display: flex;\r\n`\r\nconst IceTop=styled(Flex)`\r\n      background-image: url('/image/Ice/back1.png');\r\n      background-size: 100% 100%;\r\n      @media (max-width: 750px) {\r\n        /* height: 2.5rem; */\r\n      }\r\n      @media (min-width:750px){\r\n        /* height: 560px; */\r\n      }\r\n`\r\nconst IceCenter=styled(Flex)`\r\n        /* width: 1600px; */\r\n      /* height: 406px; */\r\n      background: linear-gradient(143deg,rgba(53,248,254,0.48) 5%, rgba(63,164,255,0.34) 99%);\r\n      border: 2px dashed #ffffff;\r\n      border-radius: 8px;\r\n      @media (max-width: 750px) {\r\n        margin-top: 0.22rem;\r\n        padding-bottom:0.16rem;\r\n      }\r\n      @media (min-width:750px){\r\n        margin-top: 30px;\r\n        padding-bottom:20px;\r\n      }\r\n`\r\n\r\n\r\nconst StyleIcon=styled.img`\r\n      @media (max-width: 750px) {\r\n        width: 0.18rem;\r\n        height: 0.18rem;\r\n      }\r\n      @media (min-width:750px){\r\n        width: 40px;\r\n        height: 40px;\r\n      }\r\n`\r\nconst BoxImg=styled.img`\r\n      @media (max-width: 750px) {\r\n        width: 1.85rem;\r\n        height: 1.6rem;\r\n        margin-top:0.28rem;\r\n      }\r\n      @media (min-width:750px){\r\n        width: 417px;\r\n        height: 350px;\r\n        margin-top:48px;\r\n      }\r\n`\r\n\r\nconst DesPanel=styled(Flex)`\r\n      @media (max-width: 750px) {\r\n        padding:0.18rem 0px 0px 0.18rem;\r\n        font-size: 0.18rem;\r\n      }\r\n      @media (min-width:750px){\r\n        padding:40px 0px 0px 40px;\r\n        font-size: 20px;\r\n      }\r\n`\r\nconst DesVale=styled(Flex)`\r\n      color: #74DD54;\r\n      @media (max-width: 750px) {\r\n        font-size: 0.13rem;\r\n        \r\n      }\r\n      @media (min-width:750px){\r\n        font-size: 40px;\r\n      }\r\n`\r\nconst StyleTextField=styled.input`\r\n        border: 1px solid #b1b1b1;\r\n        border-radius: 10px;\r\n        margin-top: 20px;\r\n        :focus-visible{\r\n            border: 0;\r\n            outline:0;\r\n        }\r\n        width: 100%;\r\n        @media (max-width: 750px) {\r\n          padding: 0.12rem;\r\n        }\r\n        @media (min-width:750px){\r\n          padding: 18px;\r\n        }\r\n`\r\n\r\n\r\n\r\n\r\n\r\nconst STyleTitle=styled(Flex)`\r\n      @media (max-width: 750px) {\r\n         padding: 0px 0.12rem 0.05rem 0.12rem;\r\n         font-size: 0.24rem;\r\n         /* height: 0.24rem; */\r\n         margin-top:-0.15rem;\r\n      }\r\n      @media (min-width:750px){\r\n         padding: 0px 24px 0px 24px;\r\n         height: 48px;\r\n         font-size: 32px;\r\n         margin-top:-15px;\r\n      }\r\n      white-space: nowrap;\r\n      color:#fff;\r\n      background: #2688a5;\r\n      border: 2px dashed #ffffff;\r\n      border-radius: 8px;\r\n      justify-content: 'center';\r\n      align-items: center;\r\n      \r\n`\r\n\r\nconst StyleBtnEnaring=styled(Flex)`\r\n      @media (max-width: 750px) {\r\n        padding:0.05rem 0.2rem 0.05rem 0.2rem;\r\n        font-size: 0.18rem;\r\n      }\r\n      @media (min-width:750px){\r\n        padding:5px 20px 5px 20px ;\r\n        font-size: 20px;\r\n      }\r\n      color:#fff;\r\n      border-radius: 4px;\r\n      background: linear-gradient(358deg,#FF720A 5%,#FFD040 99%);  \r\n      cursor: pointer;\r\n      :hover{\r\n        background: linear-gradient(358deg,#FFD040 5%,#FF720A 99%);\r\n      }\r\n`\r\nconst StyleBtn=styled(Flex)`\r\n      @media (max-width: 750px) {\r\n        padding:0.1rem 0.46rem 0.1rem 0.46rem;\r\n        font-size: 0.18rem;\r\n      }\r\n      @media (min-width:750px){\r\n        padding:10px 65px 10px 65px ;\r\n        font-size: 20px;\r\n      }\r\n      color:#fff;\r\n      border-radius: 4px;\r\n      background: linear-gradient(358deg,#FF720A 5%,#FFD040 99%);  \r\n      cursor: pointer;\r\n      :hover{\r\n        background: linear-gradient(358deg,#FFD040 5%,#FF720A 99%);\r\n      }\r\n`\r\n\r\nconst TimeBox=styled(Box)<{isMobile:boolean}>`\r\n        @media (max-width: 750px) {\r\n            padding:0.05rem 0.06rem 0.05rem 0.06rem;\r\n        }\r\n        @media (min-width:750px){\r\n           padding:6px 12px 6px 12px;\r\n        }\r\n    background-color:black;\r\n    /* padding: ${(props) => (props.isMobile?'0.05rem 0.06rem 0.05rem 0.06rem':'6px 12px 6px 12px')} ; */\r\n    font-size:${(props) => (props.isMobile?'0.18rem':'32px')};\r\n    color: #6FBA0F;\r\n    border-radius: 5px;\r\n    /* border:1px dashed #fff; */\r\n`\r\n\r\n\r\nconst SelectConent=styled(Flex)`\r\n   @media (max-width: 750px) {\r\n       .selectStyle{\r\n          border-radius: 4px;\r\n          border:0.04rem solid #00D4FF;\r\n        }\r\n        .switchStyle{\r\n          border-radius: 4px;\r\n          border:0.04rem solid rgb(255 255 255 / 0%);\r\n        }\r\n      }\r\n      @media (min-width:750px){\r\n        .selectStyle{\r\n          border-radius: 4px;\r\n          border:5px solid #00D4FF;\r\n        }\r\n        .switchStyle{\r\n          border-radius: 4px;\r\n          border:5px solid rgb(255 255 255 / 0%);\r\n        }\r\n      }\r\n\r\n  \r\n`\r\n\r\n\r\nconst SelectBox=styled(Flex)`\r\n      @media (max-width: 750px) {\r\n        img{\r\n          width:0.76rem;\r\n          height:0.54rem;\r\n        }\r\n        padding:0.04rem 0.05rem 0.04rem 0.05rem;\r\n      }\r\n      @media (min-width:750px){\r\n        img{\r\n          width:140px;\r\n          height:100px;\r\n        }\r\n        padding:10px 10px 10px 10px;\r\n      }\r\n      cursor: pointer;\r\n`\r\nconst StyleResSpan=styled(Flex)`\r\n      @media (max-width: 750px) {\r\n        font-size: 0.2rem;\r\n      }\r\n      @media (min-width:750px){\r\n        font-size: 18px;\r\n      }\r\n     \r\n`\r\n\r\n\r\n\r\nconst IceWater: React.FC = () => {\r\n  const {account} = useWallet();\r\n  const {id} = useParams<any>();\r\n  const { isDesktop } = useMatchBreakpoints();\r\n  const { t} = useTranslation();\r\n  const [timeData,setTimeData]=useState(\"\");\r\n  // const [dateSplit,setDateSplit]=useState<any>({hour:[],min:[],second:[]}); \r\n  const dateSplit=useRef<any>({hour:[],min:[],second:[]}); \r\n  const inter=useRef<any>(-1);\r\n  const [interState,setInterState]=useState(false);\r\n  const {onIsRefresh}=useIceHandlers();\r\n  // 授权\r\n  const tokenContract=useBeeContract();\r\n  const {isApprove}=useIceApprove();\r\n  const onApprove=useTokenApprove(tokenContract,getIceOrWaterAddress());\r\n  //数据获取\r\n  const {IceBoxlist}=useBoxList();\r\n  // box选择框默认选择值\r\n  const selectBoxIndex=useMemo(()=>{\r\n    if(id!=undefined && IceBoxlist.length>0){\r\n      return IceBoxlist.findIndex((t:any)=>t.id==id);\r\n    }\r\n    return 0;\r\n  },[id,IceBoxlist])\r\n  const [selectBox,setSelectBox]=useState<any>(null);\r\n  useEffect(()=>{\r\n    if(IceBoxlist.length>0){\r\n      setSelectBox(id!=undefined?parseInt(id):IceBoxlist[0].id)\r\n    }\r\n  },[IceBoxlist])\r\n\r\n  const [selectWater,setSelect]=useState(true);\r\n  const {ownerState,boxId,boxInfo,totalAddr}=useOwnerExists(selectBox);\r\n  const {enaring}=useWithdraw(totalAddr,boxId,ownerState?.waterOwner?.idx,ownerState?.iceOwner?.idx);\r\n  //提交操作\r\n  const {handlePour,handleRecaption}=useHandFuc();\r\n  const [amount,setAmount]=useState(\"\");\r\n  //hand state\r\n  const [shopOpen,setShopOpen]=useState(false);\r\n  const [shopErro,setShopErro]=useState<any>(\"\");\r\n  const [pedding,setPedding]=useState<any>(false);\r\n  const [successDes,setSuccessDes]=useState<any>(\"\");\r\n\r\n  //定时器\r\n  const format=useCallback((second:string)=>{\r\n    let second_Time=(parseInt(second)*1000) - (new Date().getTime());\r\n    if(second_Time<0){\r\n      second_Time=0;\r\n    }\r\n    let seconds:number=Number((second_Time/1000).toFixed(0));\r\n    let hour:any= Math.floor(seconds / 3600) >= 10 ? Math.floor(seconds / 3600) : '0' + Math.floor(seconds / 3600);\r\n    seconds -= 3600 * hour;\r\n    let min:any = Math.floor(seconds / 60) >= 10 ? Math.floor(seconds / 60) : '0' + Math.floor(seconds / 60);\r\n    seconds -= 60 * min;\r\n    let sec = seconds >= 10 ? seconds : '0' + seconds;\r\n    return hour + ':' + min + ':' + sec;\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n        if(boxInfo?.dueTime){\r\n          if(inter.current!=-1){clearInterval(inter.current)};\r\n          setInterState(true)\r\n          // console.log(\"截止日期变化\")\r\n          inter.current=setInterval(()=>{\r\n              // console.log(\"ssssss\")\r\n              const dueTime=boxInfo?.dueTime?boxInfo?.dueTime:'0';\r\n              const formatTime=format(dueTime)\r\n              setTimeData(formatTime)\r\n              const times=formatTime.split(\":\");\r\n              // setDateSplit({\r\n              // hour:times[0].split(\"\"),\r\n              // min:times[1].split(\"\"),\r\n              // second:times[2].split(\"\")\r\n              // })\r\n              dateSplit.current={\r\n                hour:times[0].split(\"\"),\r\n                min:times[1].split(\"\"),\r\n                second:times[2].split(\"\")\r\n              }\r\n              if(times[0]==\"00\"&&times[1]==\"00\"&&times[2]==\"00\"){\r\n                console.log(\"clearInterval\")\r\n                clearInterval(inter.current)\r\n              }\r\n          })\r\n        }\r\n        return ()=>{clearInterval(inter.current)}\r\n  },[format,boxInfo?.dueTime])\r\n  useEffect(()=>{ \r\n     return ()=>{clearInterval(inter.current)}\r\n  },[])\r\n\r\n\r\n  const roladList=()=>{\r\n    onIsRefresh(true)\r\n    setTimeout(()=>{onIsRefresh(false)},1000)\r\n  }\r\n  const handBeton=useCallback(async ()=>{\r\n    setSuccessDes(\"\");\r\n    let Ifadditional:string=\"0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\";\r\n    if(selectWater){\r\n      if(ownerState?.waterOwner?.idx!=undefined){Ifadditional=`${ownerState.waterOwner.idx}`}\r\n    }else{\r\n      if(ownerState?.iceOwner?.idx!=undefined){Ifadditional=`${ownerState.iceOwner.idx}`}\r\n    }\r\n    const resAmount=(new BigNumber(amount).times(new BigNumber(10).pow(18))).toFixed()\r\n      \r\n      setPedding(true);\r\n      setShopErro(\"\")\r\n      const respon=await handlePour(boxId,Ifadditional,selectWater,resAmount);\r\n      if(respon.state){\r\n        console.log(\"success:\",respon.res)\r\n        setShopOpen(true);\r\n        roladList();\r\n      }else{\r\n        console.log(\"erro:\",respon.res)\r\n        setShopErro(respon.res.message?respon.res.message:respon.res.toString())\r\n        setShopOpen(true);\r\n      }\r\n      setPedding(false);\r\n  },[ownerState,amount,boxId,selectWater])\r\n\r\n\r\n\r\n  const handRecaptionFuc=useCallback(async (isWater:boolean)=>{\r\n\r\n      setSuccessDes(\"Extraction of success\");\r\n      let ownerIdx:number=-1;\r\n      if(isWater){\r\n        ownerIdx=ownerState.waterOwner.idx;\r\n      }else{\r\n        ownerIdx=ownerState.iceOwner.idx;\r\n      }\r\n      setShopErro(\"\");\r\n     \r\n      const respon=await handleRecaption(boxId,ownerIdx,isWater);\r\n      if(respon.state){\r\n        console.log(\"success:\",respon.res)\r\n        setShopOpen(true);\r\n        roladList();\r\n      }else{\r\n        console.log(\"erro:\",respon.res)\r\n        setShopErro(respon.res.message?respon.res.message:respon.res.toString())\r\n        setShopOpen(true);\r\n      }\r\n  },[ownerState,amount,boxId])\r\n  \r\n  // 授权\r\n  const handleApprove = useCallback(async () => {\r\n      try {\r\n          const txHash = await onApprove();\r\n          roladList();\r\n      } catch (e) {\r\n          console.error(e)\r\n      }\r\n  }, [onApprove])\r\n\r\n\r\n\r\n const handleOptionChangeStrategies = (option: OptionProps): void => {\r\n    // console.log(\"to do\",option.value)\r\n    const s=option.value;\r\n    setSelectBox(s)\r\n }\r\n\r\n  const getBtn=()=>{\r\n    if(parseInt(boxInfo?.dueTime)*1000<new Date().getTime()){\r\n       return  <StyleBtn style={{background:\"rgb(197 188 188 / 67%)\"}} >{t(\"Has as\")}</StyleBtn>\r\n    }\r\n    if(pedding){\r\n       return  <StyleBtn style={{background:\"rgb(197 188 188 / 67%)\"}} >{t(\"during purchase\")}</StyleBtn>\r\n    }\r\n    if(isApprove){\r\n      return  <StyleBtn onClick={handBeton}>{t(\"Confirm Betting\")}</StyleBtn>\r\n    }else{\r\n      return  <StyleBtn onClick={handleApprove}>{t(\"Approve\")}</StyleBtn>\r\n    }\r\n  }\r\n\r\n\r\n  const getResWater=()=>{\r\n    return <>\r\n                 <StyleResSpan component='span'>{tranPrice(ownerState?.waterOwner?.amount)}</StyleResSpan>\r\n                 <Flex>{t(\"Have bet\")}</Flex>\r\n                 <StyleResSpan component='span'>{tranPrice(boxInfo?.waterAmount)}</StyleResSpan>\r\n                 <Flex>{t(\"Total bet\")}</Flex>\r\n                 {\r\n                   new BigNumber(enaring?.water).gt(0)?\r\n                  <>\r\n                    <StyleResSpan component='span'>{tranPrice(enaring?.water)}</StyleResSpan>\r\n                    <Flex>{t(\"Results earnings\")}</Flex>\r\n                    <StyleBtnEnaring mt={1} onClick={()=>{handRecaptionFuc(true)}}>{t(\"recaption\")}</StyleBtnEnaring>  \r\n                  </>\r\n                  :\"\"\r\n                 }\r\n     </>\r\n  }\r\n  const getResIce=()=>{\r\n    return <>\r\n                 <StyleResSpan component='span'>{tranPrice(ownerState?.iceOwner?.amount)}</StyleResSpan>\r\n                 <Flex>{t(\"Have bet\")}</Flex>\r\n                 <StyleResSpan component='span'>{tranPrice(boxInfo?.iceAmount)}</StyleResSpan>\r\n                 <Flex>{t(\"Total bet\")}</Flex>\r\n                 {\r\n                   new BigNumber(enaring?.ice).gt(0)?\r\n                  <>\r\n                    <StyleResSpan component='span'>{tranPrice(enaring?.ice)}</StyleResSpan>\r\n                    <Flex>{t(\"Results earnings\")}</Flex>\r\n                    <StyleBtnEnaring mt={1} onClick={()=>{handRecaptionFuc(false)}}>{t(\"recaption\")}</StyleBtnEnaring>  \r\n                  </>\r\n                  :\"\"\r\n                 }\r\n     </>\r\n  }\r\n\r\n  return (<>\r\n  \r\n  {!account?<Box display=\"flex\"  flex={1}>\r\n          <Flex flex={1} alignItems=\"center\" justifyContent=\"center\">\r\n            <Flex >\r\n                <ConnectWallt></ConnectWallt>\r\n            </Flex>\r\n          </Flex>\r\n         </Box>\r\n      :\r\n      <StylePanel state={IceBoxlist.length>0&&totalAddr!=-1?true:false}  display=\"flex\" flex={1}  alignItems=\"center\">\r\n    \r\n      <Flex display=\"flex\" flexDirection=\"column\" flex={1} >\r\n          <IceTop flex={1} flexDirection=\"column\">\r\n\r\n               <Flex  justifyContent=\"space-between\">\r\n                   <DesPanel  \r\n                       flexDirection=\"column\"\r\n                       className=\"color_whilte\">\r\n                          {/* {ownerState.waterOwner.idx}------pppppppppppp */}\r\n                       <Flex  alignItems=\"center\">\r\n                                   <StyleIcon src=\"./image/Ice/金币.png\" alt=\"\"/>\r\n                                   <Flex ml={1} component=\"span\">{t(\"Total Bets\")} :</Flex>\r\n                                   <DesVale ml={1} component=\"span\">{tranTotalPrice(boxInfo?.waterAmount,boxInfo?.iceAmount)}</DesVale>\r\n \r\n                       </Flex>\r\n                       <Flex alignItems=\"center\">\r\n                               <StyleIcon src=\"./image/Ice/团队.png\" alt=\"\"/>\r\n                               <Flex ml={1} component=\"span\">{t(\"Participants\")} :</Flex>\r\n                               <DesVale ml={1} component=\"span\">{totalAddr}</DesVale>\r\n                       </Flex>\r\n                   </DesPanel>\r\n                   <Flex >\r\n                        <Flex  flexDirection=\"column\">\r\n                           <Box className=\"color_whilte\" \r\n                            mt={isDesktop?\"24px\":\"0.12rem\"} \r\n                            component='span'>{t(\"Close the shop\")}</Box>\r\n                                       {timeData?\r\n                                       \r\n                                       <Flex alignItems=\"center\" color={\"#fff\"} mt={isDesktop?\"11px\":\"0.06rem\"}>\r\n                                           { dateSplit?.current?.hour?.map((t:any,idx:number)=>(\r\n                                           <TimeBox key={\"hour\"+idx} mr={\"0.1rem\"} isMobile={!isDesktop}>{t}</TimeBox>\r\n                                           ))}：\r\n                                           {dateSplit?.current?.min?.map((t:any,idx:number)=>(\r\n                                           <TimeBox key={\"min\"+idx} mr={\"0.1rem\"} isMobile={!isDesktop}>{t}</TimeBox>\r\n                                           ))}：\r\n                                           {dateSplit?.current?.second?.map((t:any,idx:number)=>(\r\n                                           <TimeBox key={\"second\"+idx} mr={\"0.1rem\"} isMobile={!isDesktop}>{t}</TimeBox>\r\n                                           ))}\r\n                                       </Flex>:\"\"\r\n                                       }\r\n                               \r\n                        </Flex>\r\n                   </Flex>\r\n               </Flex>\r\n               <Flex flex={1} alignItems=\"end\" justifyContent=\"center\">\r\n                   <BoxImg src=\"./image/Ice/box.png\" alt=\"\"/>\r\n               </Flex>\r\n          </IceTop>\r\n\r\n          <IceCenter alignItems=\"center\" flexDirection=\"column\">\r\n           <Flex >\r\n               <STyleTitle>{t(\"Betting options\")}</STyleTitle>\r\n               {/* <StyleTextField placeholder={\"Enter bet amount...\"}/> */}\r\n           </Flex>\r\n\r\n          \r\n           <Flex width={\"50%\"} flexDirection=\"column\">\r\n                <Flex mt={'20px'} width={\"100%\"} flex={1}>\r\n\r\n                    {selectBox!=undefined && selectBox!=null?\r\n                      <Select   selectIndex={selectBoxIndex}\r\n                                options={(IceBoxlist||[]).map((item)=>{\r\n                                  return {\r\n                                  img:{url:item.type=='owner'?\"./image/Ice/ownerBox.png\":\"./image/Ice/elseBox.png\",name:\"\"},\r\n                                  label:`${item['zhTitle']||t(\"Box\")}(${item.id})`,value: item.id}\r\n                                })} \r\n                                onOptionChange={handleOptionChangeStrategies}\r\n                      />\r\n                    :\"\"\r\n                    }\r\n                </Flex>\r\n\r\n              <Flex>\r\n                  <StyleTextField value={amount} onChange={(e)=>{setAmount(e.target.value)}} placeholder={t(\"Enter bet amount...\")}/>\r\n              </Flex>\r\n           </Flex>\r\n           <Flex fontSize={isDesktop?'20px':\"0.08rem\"} mt={\"14px\"} color={\"#fff\"} component=\"span\">{t(\"What’s in the box? Please choose\")}</Flex>\r\n\r\n           <SelectConent mt='10px'>\r\n              <Flex color=\"#fff\" alignItems=\"center\" flexDirection=\"column\">\r\n                 <SelectBox \r\n                   className={selectWater?\"selectStyle\":\"switchStyle\"}\r\n                   onClick={()=>{setSelect(true)}}\r\n                   >\r\n                     <img src=\"./image/Ice/水.png\" alt=\"\"/>\r\n                 </SelectBox>\r\n                 {t(\"Water\")}\r\n                 {\r\n                  isDesktop?\r\n                  <>\r\n                    <Flex>{t(\"Have bet\")}：{tranPrice(ownerState?.waterOwner?.amount)}</Flex>\r\n                    <Flex>{t(\"Total bet\")}：{tranPrice(boxInfo?.waterAmount)}</Flex>\r\n                    {\r\n                      new BigNumber(enaring?.water).gt(0)?\r\n                      <>\r\n                        <Flex>{t(\"Results earnings\")}：{tranPrice(enaring?.water)}</Flex>\r\n                        <StyleBtnEnaring mt={1} onClick={()=>{handRecaptionFuc(true)}}>{t(\"recaption\")}</StyleBtnEnaring>  \r\n                      </>\r\n                      :\"\"\r\n                    }\r\n                  </>\r\n                  :getResWater()\r\n                 }\r\n\r\n                 \r\n              </Flex>\r\n             \r\n              <Flex color=\"#fff\"    ml={isDesktop?'51px':\"0.11rem\"} alignItems=\"center\" flexDirection=\"column\">\r\n              <SelectBox  \r\n              onClick={()=>{setSelect(false)}}\r\n              className={!selectWater?\"selectStyle\":\"switchStyle\"}>\r\n                 <img src=\"./image/Ice/冰.png\" alt=\"\"/>\r\n              </SelectBox>\r\n                 {t(\"ice\")} \r\n                 {isDesktop?<>\r\n                  <Flex>{t(\"Have bet\")}：{tranPrice(ownerState?.iceOwner?.amount)}</Flex>\r\n                  <Flex>{t(\"Total bet\")}：{tranPrice(boxInfo?.iceAmount)}</Flex>\r\n                  {\r\n                      new BigNumber(enaring?.ice).gt(0)?<>\r\n                      <Flex>{t(\"Results earnings\")}：{tranPrice(enaring?.ice)}</Flex>\r\n                      <StyleBtnEnaring mt={1} onClick={()=>{handRecaptionFuc(false)}}>{t(\"recaption\")}</StyleBtnEnaring>\r\n                    </>:\"\"}\r\n                 </>:getResIce()}\r\n                 \r\n\r\n              </Flex>\r\n\r\n           </SelectConent>\r\n           <Flex mt={2}>\r\n            {getBtn()}\r\n           </Flex>\r\n\r\n          </IceCenter>\r\n\r\n           <Flex mt={isDesktop?\"64px\":\"0.54rem\"}>\r\n            {\r\n              IceBoxlist.length>0&&selectBox!=null&&(IceBoxlist.find(p=>p.id==selectBox))[\"zhConent\"]?\r\n              <Box display='flex' color='#fff' flexDirection=\"column\">\r\n                   <Box component='h2'>{t(\"Ice Water Blind Box\")}</Box>\r\n                   <Box component='span'>{(IceBoxlist.find(p=>p.id==selectBox))[\"zhConent\"]}</Box>\r\n               </Box>\r\n               :\r\n               <Box display='flex' color='#fff' flexDirection=\"column\">\r\n                   <Box component='h2'>{t(\"Ice Water Blind Box\")}</Box>\r\n                   <Box component='span'>{t(\"Icedes_1\")}</Box>\r\n                   <Box mt={1} component='span'>{t(\"Icedes_2\")}</Box>\r\n                   <Box mt={1} component='span'>{t(\"Icedes_3\")}</Box>\r\n               </Box>\r\n            }\r\n               \r\n          </Flex>\r\n      </Flex>\r\n\r\n        {/* //modal */}\r\n      <TipModael\r\n        successDes={successDes} \r\n        erro={shopErro} \r\n        isopen={shopOpen}\r\n        setOpens={setShopOpen}>\r\n        </TipModael>\r\n      \r\n    </StylePanel>\r\n\r\n\r\n      }\r\n    \r\n  </>\r\n          \r\n    \r\n  );\r\n};\r\n\r\nexport default IceWater;\r\n\r\n\r\n","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport BigNumber from 'bignumber.js';\r\nimport { useCallback, useEffect, useState } from 'react'\r\nimport { useBeeContract, useIceContract, useIceContract_static, useJigsawPuzzle } from '../../../hooks/useContract'\r\nimport useWeb3 from '../../../hooks/useWeb3';\r\nimport { useIceState } from '../../../state/Ice/hooks';\r\nimport { getIceOrWaterAddress, getJigsawPuzzleAbiAddress } from '../../../utils/addressHelpers';\r\nimport Web3 from 'web3';\r\n\r\nexport  function  useOwnerExists(selectBox:number):{\r\n    ownerState:{iceOwner:{owner:string,amount:string,idx:number},waterOwner:{owner:string,amount:string,idx:number}},\r\n    boxId:number,\r\n    boxInfo:{iceAmount:string,waterAmount:string,dueTime:string,result:string}\r\n    totalAddr:number\r\n    }{\r\n  const {account} = useWallet();\r\n  const [ownerState, setOwnerState] = useState<any>({});\r\n  const [boxId, setBoxId] = useState<number>(-1);\r\n  const [boxInfo, setBoxInfo] = useState<any>({});\r\n  const [totalAddr, setTotalAddr] = useState<number>(-1);\r\n\r\n  const {pageRefreshState}=useIceState();\r\n  const iceContract=useIceContract();\r\n\r\n  useEffect(() => {\r\n    const fetch = async () => {\r\n        console.log(\"进来一次\")\r\n        try {\r\n          // let index=null;\r\n          // if(selectBox!=undefined && selectBox!=null){\r\n          //   index=selectBox;\r\n          //   // const res=await iceContract.methods.getBoxCount().call();\r\n          //   // setBoxId(parseInt(res)-1);\r\n          // }else{}\r\n          setTotalAddr(-1);\r\n          const boxitem=await iceContract.methods.boxList(selectBox).call();\r\n          setBoxId(selectBox);\r\n          setBoxInfo(boxitem);\r\n          //获取地址是否参加押注\r\n          const cont=await iceContract.methods.getEntryLists(selectBox).call();\r\n          const iceIdx= cont.iceList.findIndex((t:any)=>t.depositor==account);\r\n          const waterIdx= cont.waterList.findIndex((t:any)=>t.depositor==account);\r\n  \r\n          let resItem:any={};\r\n          let waterItem:any={};\r\n          if(iceIdx!=-1){\r\n            resItem=JSON.parse(JSON.stringify(cont.iceList[iceIdx]));\r\n            resItem['idx']=iceIdx;\r\n            resItem['amount']=cont.iceList[iceIdx].amount;\r\n            resItem['owner']=cont.iceList[iceIdx].owner;\r\n          }\r\n          if(waterIdx!=-1){\r\n            waterItem=JSON.parse(JSON.stringify(cont.waterList[waterIdx]));\r\n            waterItem['idx']=waterIdx;\r\n            waterItem['amount']=cont.waterList[waterIdx].amount;\r\n            waterItem['owner']=cont.waterList[waterIdx].owner;\r\n          }\r\n\r\n          setOwnerState({\r\n              iceOwner:resItem,\r\n              waterOwner:waterItem\r\n          })\r\n          // 计算所有地址\r\n          const totalArray=cont.iceList.concat(cont.waterList);\r\n          const address=totalArray.map((t:any)=>t.owner);\r\n          let addrs:Array<any>=Array.from(new Set(address));\r\n          setTotalAddr(addrs.length);\r\n        } catch (error) {\r\n          \r\n        }\r\n        \r\n    }\r\n\r\n    if (pageRefreshState || (selectBox!=null && selectBox!=undefined &&account)){fetch()} ;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectBox,pageRefreshState,setOwnerState,setBoxId,setBoxInfo,setTotalAddr,account])\r\n\r\n  return {ownerState,boxId,boxInfo,totalAddr}\r\n}\r\n\r\n\r\nexport  function  useHandFuc(){\r\n  const {account} = useWallet();\r\n  const iceContract=useIceContract();\r\n \r\n  const handlePour = useCallback(\r\n    async (boxId: number, Ifadditional:string,isWater:boolean,amount:string) => {\r\n        try {\r\n            console.log(Web3.utils.toHex(\"-1\"))\r\n            const cont=await iceContract.methods.deposit(boxId,Ifadditional,isWater,amount).send({from:account});\r\n            return {state:true,res:cont}\r\n        } catch (e) {\r\n            return {state:false,res:e}\r\n        }\r\n    },[account, iceContract])\r\n\r\n\r\n    const handleRecaption = useCallback(\r\n      async (boxId: number, ownerIdex:number,isWater:boolean) => {\r\n          try {\r\n              const res=await iceContract.methods.withdraw(boxId,ownerIdex,isWater).send({from:account});\r\n              return {state:true,res:res}\r\n          } catch (e) {\r\n              return {state:false,res:e}\r\n          }\r\n      },[account, iceContract])\r\n     \r\n    return {handlePour,handleRecaption}\r\n}\r\n\r\n\r\n\r\n\r\nexport  function useIcehistoryList():{IcehistoryList:Array<any>}{\r\n    const [IcehistoryList, setIceHistoryList] = useState<any[]>([])\r\n    const IceContract=useIceContract();\r\n    \r\n    useEffect(() => {\r\n      const fetch = async () => {\r\n        const DepositList= await IceContract.getPastEvents('Deposit', {\r\n            fromBlock: 0,\r\n            toBlock: 'latest',\r\n            filter:{}\r\n        })\r\n        console.log(DepositList)\r\n\r\n        setIceHistoryList(DepositList.map(t=>({...t.returnValues,blockNumber:t.blockNumber})))\r\n      }\r\n  \r\n      if (!IcehistoryList || !IcehistoryList.length) fetch()\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [setIceHistoryList])\r\n\r\n    return {IcehistoryList}\r\n}\r\n\r\n\r\nexport  function useIceApprove():{isApprove:boolean}{\r\n    const [isApprove, setAllowanceState] = useState<boolean>(false);\r\n    const beeContract=useBeeContract();\r\n    const {account} = useWallet();\r\n    const {pageRefreshState}=useIceState();\r\n    useEffect(() => {\r\n      const fetch = async () => {\r\n        try {\r\n            const allowance= await beeContract.methods.allowance(account,getIceOrWaterAddress()).call();\r\n            const tokenAllowedStatus = allowance && !new BigNumber(allowance).isLessThan(new BigNumber(10).pow(77))\r\n            setAllowanceState(tokenAllowedStatus)\r\n        } catch (error) {}\r\n\r\n      }\r\n  \r\n      if(account||pageRefreshState){\r\n         fetch()\r\n      } \r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [setAllowanceState,account,pageRefreshState])\r\n\r\n    return {isApprove}\r\n}\r\n\r\n\r\nexport  function useWithdraw(totalAddr:number,boxId:number,ownerWaterIdx:number,ownerIceIdx:number):{enaring:{water:string,ice:string}}{\r\n    const [enaring, setEnaring] = useState<{water:string,ice:string}>({\r\n      water:\"\",\r\n      ice:\"\"\r\n    })\r\n    const iceContract=useIceContract_static();\r\n    const {account} = useWallet();\r\n    const {pageRefreshState}=useIceState();\r\n\r\n    useEffect(() => {\r\n      setEnaring({water:\"\",ice:\"\"});\r\n      const fetch = async () => {\r\n        if(totalAddr!=-1 && account && (ownerWaterIdx!=undefined || ownerIceIdx!=undefined)){\r\n          try {\r\n            if(ownerWaterIdx!=undefined){\r\n              const resAmount=await iceContract.methods.withdraw(boxId,ownerWaterIdx,true).call();\r\n              setEnaring(pre=>({...pre,water:resAmount}))\r\n            }\r\n          } catch (error) {}\r\n          try {\r\n            if(ownerIceIdx!=undefined){\r\n              const resIce=await iceContract.methods.withdraw(boxId,ownerIceIdx,false).call();\r\n              setEnaring(pre=>({...pre,ice:resIce}))\r\n            }\r\n          } catch (error) {}\r\n        }\r\n      }\r\n      \r\n      if (ownerIceIdx ||ownerWaterIdx || (!enaring.water&&!enaring.ice)) fetch()\r\n    }, [totalAddr,setEnaring,pageRefreshState,account,ownerIceIdx,ownerWaterIdx])\r\n\r\n    return {enaring}\r\n}\r\n\r\n\r\nexport  function  useBoxList():{\r\n  IceBoxlist:Array<any>\r\n  }{\r\nconst {account} = useWallet();\r\nconst [IceBoxlist, setIceBoxlist] = useState<any>([]);\r\nconst iceContract=useIceContract();\r\nconst web3 = useWeb3();\r\nuseEffect(() => {\r\n  const fetchs = async () => {\r\n      try {\r\n        const res=await iceContract.methods.getBoxCount().call();\r\n        const nums=[...Array(parseInt(res))].map((x,idx) => idx);\r\n        \r\n        const bolck=await web3.eth.getBlockNumber();\r\n        const historyBlock=bolck-parseInt(`${(parseInt(10 as any)*86400)/5}`)\r\n        const CreateBoxList=await iceContract.getPastEvents('CreateBox', {\r\n          fromBlock: historyBlock,\r\n          toBlock: 'latest',\r\n          filter:{id:nums}\r\n        })\r\n          let newArr=CreateBoxList.map(p=>({...p.returnValues}));\r\n\r\n          const boxShielding=await fetch('./boxShielding.json').then((response) => response.json())\r\n          let boxNum = newArr.filter(opt => \r\n            !boxShielding.boxIds.find((t:any)=>t==parseInt(opt.id))\r\n          )\r\n\r\n          // boxNum=boxNum.filter(B=>parseInt(B.id)!=15);\r\n          const data=await fetch('./owner.json').then((response) => response.json())\r\n          // 区分owner盒子\r\n          // boxNum=boxNum.reverse();\r\n          let owenrArray=boxNum.filter(k=>k.creator==data.address1);\r\n          owenrArray=owenrArray.map(t=>({...t,type:\"owner\"}))\r\n          owenrArray=owenrArray.sort((a:any,b:any)=>{return parseInt(b.id)-parseInt(a.id)});\r\n          // 其他盒子\r\n          let elseArray=boxNum.filter(k=>k.creator!=data.address1);\r\n          elseArray=elseArray.map(t=>({...t,type:\"else\"}))\r\n          elseArray=elseArray.sort((a:any,b:any)=>{return parseInt(b.id)-parseInt(a.id)});\r\n\r\n          const newArray=owenrArray.concat(elseArray);\r\n  \r\n          const listObj=newArray.map((t:any)=>{\r\n            const attrs=t.intro.split(\"||\");\r\n            const zhTitle_s=attrs[0]?attrs[0]:\"\";\r\n            const zhConet_s=attrs[1]?attrs[1]:\"\";\r\n            // const enTitle_s=attrs[2]?attrs[2]:\"\";\r\n            // const enConet_s=attrs[3]?attrs[3]:\"\";\r\n            return {...t,zhTitle:zhTitle_s,zhConent:zhConet_s}\r\n         })\r\n         setIceBoxlist(listObj);\r\n\r\n        \r\n       \r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n      \r\n  }\r\n\r\n  if ((IceBoxlist.length==0 && account)){fetchs()} ;\r\n\r\n}, [setIceBoxlist,account])\r\n\r\nreturn {IceBoxlist}\r\n}\r\n","import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport const roladPage = createAction<{isRefresh:boolean}>('DrawBox/roladPage')\r\nexport const selectDexs = createAction<{dexs:Array<string> }>('DrawBox/selectDex')\r\n\r\n","import { useCallback } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport { roladPage } from './actions'\r\n\r\nexport function useDrawBoxState(): AppState['DrawBox'] {\r\n  return useSelector<AppState, AppState['DrawBox']>((state) => state.DrawBox)\r\n}\r\n\r\nexport function useDrawBoxHandlers(): {\r\n  onIsRefresh:(isRefresh:boolean)=>void\r\n} {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const onIsRefresh = useCallback((isRefresh:boolean) => {\r\n    dispatch(roladPage({isRefresh}))\r\n  }, [dispatch])\r\n\r\n  return { onIsRefresh }\r\n}\r\n","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport BigNumber from 'bignumber.js';\r\nimport { useCallback, useEffect, useRef, useState } from 'react'\r\nimport { useBeeContract, useDrawContract, useDrawContract_static, useIceContract, useIceContract_static, useJigsawPuzzle } from '../../../hooks/useContract'\r\nimport useWeb3 from '../../../hooks/useWeb3';\r\nimport { useIceState } from '../../../state/Ice/hooks';\r\nimport { getDrawAddress, getIceOrWaterAddress, getJigsawPuzzleAbiAddress } from '../../../utils/addressHelpers';\r\nimport Web3 from 'web3';\r\nimport { ethers } from 'ethers';\r\nimport { AbiItem } from 'web3-utils';\r\nimport { useDrawBoxState } from '../../../state/DrawBox/hooks';\r\nimport { latest } from 'immer/dist/internal';\r\n\r\nexport  function  useGetBetaAndPI():{getBetaAndPI:any}{\r\n  const {account} = useWallet();\r\n  // const [Servers, setServers] = useState<any>([\"enclave0.vrf.cash:8081\", \"enclave1.vrf.cash:8081\"]);\r\n  // const [Servers, setServers] = useState<any>([]);\r\n  const Servers = useRef<Array<any>>([]);\r\n  const fetchWithTimeout=async(resource: string, options:any = {})=>{\r\n    const { timeout = 3000 } = options;\r\n    \r\n    const abortController = new AbortController();\r\n    const id = setTimeout(() => abortController.abort(), timeout);\r\n    const response = await fetch(resource, {\r\n      ...options,\r\n      signal: abortController.signal  \r\n    });\r\n    clearTimeout(id);\r\n    return response;\r\n  }\r\n  const  getBetaAndPI=useCallback(async(hashHex: string)=>{\r\n    var idx = (Math.random() > 0.5) ? 1 : 0;\r\n    for(var i=idx; i<3; i++) {\r\n      var j = i%Servers.current.length;\r\n      try {\r\n        const url = \"https://\"+Servers.current[j]+\"/vrf?b=\"+hashHex //hashHex 是区块哈希，且不包含开头的0x\r\n        const response = await fetchWithTimeout(url)\r\n        var result = await response.json();\r\n        // console.log(result);\r\n        if(result.PI) {\r\n          return result;\r\n        }\r\n      } catch(e) {\r\n        console.log(\"continue\", e);\r\n        continue\r\n      }\r\n    }\r\n  },[Servers]) \r\n\r\n  useEffect(() => {\r\n    const fetchs = async () => {\r\n        const VrfGovAddress = \"0x18C51aa3d1F018814716eC2c7C41A20d4FAf023C\";\r\n\r\n        const VrfGovABI = [\r\n        \"function pubKey() public view returns (bytes)\",\r\n        ]\r\n        // 页面载入后先检查服务器的pubkey是否正确， 正确则加入到全局变量Servers当中\r\n        // const vrfgovContract=new web3.eth.Contract((VrfGovABI as unknown) as AbiItem,VrfGovAddress);\r\n        // const onchainKey=await vrfgovContract.methods.pubKey().call();\r\n        // const MarketAddress = await factoryContract.methods.getAddress(getBeeTokenAddress(), getBchAddress(), getimptAddress()).call();\r\n        const provider = new ethers.providers.Web3Provider((window as any).ethereum);\r\n        const vrfgovContract = new ethers.Contract(VrfGovAddress, VrfGovABI, provider);\r\n        const onchainKey = await vrfgovContract.pubKey();\r\n        // const resp0 = await fetchWithTimeout(\"https://enclave0.vrf.cash:8081/pubkey\");\r\n        try {\r\n          const resp0 = await fetch(\"https://enclave0.vrf.cash:8081/pubkey\");\r\n          const key0 = await resp0.text();\r\n          if(onchainKey == \"0x\"+key0) {\r\n            Servers.current=[\"enclave0.vrf.cash:8081\"];\r\n            // setServers([\"enclave0.vrf.cash:8081\"])\r\n            // Servers = [\"enclave0.vrf.cash:8081\", ...Servers]\r\n          }\r\n        } catch (error) {}\r\n    }\r\n    if (Servers.current.length==0){fetchs()};\r\n    // 如果都正确的话，那么： Servers = [\"enclave0.vrf.cash:8081/\", \"enclave1.vrf.cash:8081/\"]\r\n  }, [Servers.current])\r\n\r\n  return {getBetaAndPI}\r\n}\r\n//购买响应\r\nexport  function  useHandFuc(){\r\n  const {account} = useWallet();\r\n  const DrawContract=useDrawContract();\r\n  const DrawContractStatic=useDrawContract_static();\r\n   const handleBuy = useCallback(\r\n    async (lotId:string) => {\r\n        try {\r\n        \r\n            const cont=await DrawContract.methods.buyBox(lotId).send({from:account});\r\n            return {state:true,res:cont}\r\n        } catch (e) {\r\n            return {state:false,res:e}\r\n        }\r\n    },\r\n        [account, DrawContract],\r\n    )\r\n\r\n    const handleRecaption = useCallback(\r\n      async (lotId:string,msgenderIdx:string,rdm:string,pi:string) => {\r\n          try {\r\n              const cont=await DrawContract.methods.getPrize(lotId,msgenderIdx,rdm,pi).send({from:account});\r\n              return {state:true,res:cont}\r\n          } catch (e) {\r\n              return {state:false,res:e}\r\n          }\r\n      },\r\n          [account, DrawContract],\r\n      )\r\n\r\n  return {handleBuy,handleRecaption}\r\n}\r\n//获取批次信息\r\nexport  function useDrawAndBuyersHeights(lotId:any):{\r\n  drawData:any,\r\n  listMoney:Array<any>,\r\n  buyerMap:Array<{msgsender:number,blockNumber:string}>|undefined\r\n }{\r\n\r\n  const {pageRefreshState}=useDrawBoxState();\r\n  const {getBetaAndPI}=useGetBetaAndPI();\r\n  const web3=useWeb3();\r\n  const {account}=useWallet();\r\n  const [drawData, setDraw] = useState<any>({});\r\n  const [buyerMap, setBuyerMap] = useState<Array<{\r\n    msgsender:number,\r\n    blockNumber:string\r\n  }>>();\r\n\r\n  const [listMoney, setListMoney] = useState<any>([]);\r\n  const DrawContract=useDrawContract();\r\n  const DrawContractStatic=useDrawContract_static();\r\n  \r\n  useEffect(() => {\r\n    const fetch = async () => {\r\n      setDraw({})\r\n      // 获取批次信息\r\n      const resDraw=await DrawContract.methods.luckyDrawMap(lotId).call();\r\n      // 获取用户购买盲盒 和区块号\r\n      let ret=await DrawContract.methods.getBuyersAndHeights(lotId).call();\r\n      ret=ret.map((g:any,idx:number)=>({idx:idx,value:g}))\r\n   \r\n\r\n      //查询跟当前用户相关购买信息\r\n      const retData=ret.filter((y:any)=>y.value!=0);\r\n\r\n      const retObj=retData.map((t:any,idx:number)=>{\r\n        const sender=new BigNumber(t.value).div(new BigNumber(2).pow(96)).toFixed();\r\n        const block=new BigNumber(t.value).mod(new BigNumber(2).pow(96)).toFixed();\r\n        // (uint(uint160(msg.sender))<<96)|block.number\r\n        return {index:t.idx,msgsender:sender,blockNumber:block}\r\n      })\r\n      const senderInfo=retObj.filter((t:any)=>t.msgsender==Web3.utils.hexToNumberString(account||\"\"));\r\n      setBuyerMap(retObj);\r\n     \r\n\r\n      // 获取购买人的区块号\r\n      const list = await Promise.all(\r\n        senderInfo.map((k:any)=> web3.eth.getBlock(k.blockNumber).then((data:any)=>data.hash.split(\"0x\")[1]))\r\n      )\r\n      // 获取区块号对应的 betaAndpi\r\n      let listBetaAndPI = await Promise.all(\r\n        list.map(async(B:any)=> getBetaAndPI(B).then((data:any)=>data).catch((err:any)=>null))\r\n      )\r\n       // 获取购买用户对应的金额\r\n       // 区块哈希过期\r\n       listBetaAndPI=listBetaAndPI.map((t,idx)=>({index:senderInfo[idx].index,BetaAndPI:t}));\r\n       listBetaAndPI=listBetaAndPI.filter((t,idx)=>t.BetaAndPI);\r\n\r\n       if(listBetaAndPI.length>0){\r\n        const listMoney_s = await Promise.all(\r\n          // uint id, uint96 n, uint rdm, bytes calldata pi\r\n          listBetaAndPI.map((value:any,index)=>{\r\n            // 处理提取奖励空位的问题\r\n            const resItem=senderInfo.find((p:any)=>p.index==value?.index)\r\n            const finditem=resItem?resItem:{};\r\n            //  返回奖励盒子，奖励，区块\r\n            return DrawContractStatic.methods.getPrize(lotId,value.index,\"0x\"+value?.BetaAndPI?.Beta,\"0x\"+value?.BetaAndPI?.PI).call()\r\n            .then((data:any)=>({idx:value.index, money:data, block:finditem.blockNumber, ...finditem}))\r\n            .catch((err:any)=>0)\r\n            } \r\n          )\r\n        )\r\n      \r\n\r\n        // const listMoney_Attr=senderInfo.map((t:any,idx:number)=>({idx:t.index,money:listMoney_s[idx],block:t.blockNumber}));\r\n        setListMoney(listMoney_s);\r\n        console.log(\"listMoney\",listMoney_s)\r\n       }else{\r\n        setListMoney([])\r\n       }\r\n       \r\n       setDraw(resDraw);\r\n      // await getBetaAndPI();\r\n    }\r\n\r\n    if (pageRefreshState||(Object.keys(drawData).length==0  && lotId!=\"-1\" && account)) fetch();\r\n  }, [setDraw,setBuyerMap,account,pageRefreshState,lotId])\r\n  return {drawData,buyerMap,listMoney}\r\n}\r\n\r\n\r\n\r\n\r\nexport  function useDrawId(parameterId:string):{lotId:string,deadline:string}{\r\n    const [lotId, setLotId] = useState<string>(\"-1\");\r\n    const [deadline, setDeadline] = useState<string>(\"\");\r\n    const DrawContract=useDrawContract();\r\n    const web3 = useWeb3();\r\n    useEffect(() => {\r\n      const fetch = async () => {\r\n        const bolck=await web3.eth.getBlockNumber();\r\n        const historyBlock=bolck-parseInt(`${(parseInt(30 as any)*86400)/5}`)\r\n        const resStartLuckyDraw= await DrawContract.getPastEvents('StartLuckyDraw', {\r\n            fromBlock: historyBlock,\r\n            toBlock: 'latest',\r\n            filter:{}\r\n        })\r\n        console.log(\"resStartLuckyDraw\",resStartLuckyDraw)\r\n        const LotIdObj=resStartLuckyDraw[resStartLuckyDraw.length-1];\r\n        let lotIdValue=new BigNumber(\"-1\");\r\n        let lotIdTime=\"\";\r\n        if(resStartLuckyDraw.length>0){\r\n           lotIdValue=new BigNumber(Web3.utils.hexToNumberString(LotIdObj.returnValues.creator)).times(new BigNumber(2).pow(96)).plus(new BigNumber(LotIdObj.returnValues.deadline));\r\n           lotIdTime=LotIdObj.returnValues.deadline;\r\n        }\r\n        console.log(lotIdValue.toFixed())\r\n        setLotId(lotIdValue.toFixed())\r\n        setDeadline(lotIdTime);\r\n      }\r\n  \r\n      if (lotId==\"-1\" && !parameterId){\r\n        fetch();\r\n      }else{\r\n        setLotId(parameterId);\r\n        setDeadline(new BigNumber(parameterId).mod(new BigNumber(2).pow(96)).toFixed());\r\n      }\r\n    }, [setLotId,setDeadline,parameterId])\r\n    return {lotId,deadline}\r\n}\r\n\r\nexport  function useDrawApprove():{isApprove:boolean}{\r\n    const [isApprove, setAllowanceState] = useState<boolean>(false);\r\n    const beeContract=useBeeContract();\r\n    const {account} = useWallet();\r\n    const {pageRefreshState}=useDrawBoxState();\r\n    useEffect(() => {\r\n      const fetch = async () => {\r\n        try {\r\n            const allowance= await beeContract.methods.allowance(account,getDrawAddress()).call();\r\n            const tokenAllowedStatus = allowance && !new BigNumber(allowance).isLessThan(new BigNumber(10).pow(77))\r\n            setAllowanceState(tokenAllowedStatus)\r\n        } catch (error) {}\r\n      }\r\n  \r\n      if(account||pageRefreshState){\r\n         fetch()\r\n      } \r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [setAllowanceState,account,pageRefreshState])\r\n\r\n    return {isApprove}\r\n}\r\n\r\nexport  function useWithdraw():{IcehistoryList:Array<any>}{\r\n    const [IcehistoryList, setIceHistoryList] = useState<any[]>([])\r\n    const iceContract=useIceContract_static();\r\n    const {account} = useWallet();\r\n    useEffect(() => {\r\n        if(!account){return}\r\n      const fetch = async () => {\r\n        const resAmount=await iceContract.methods.withdraw(0,0,true).call();\r\n        console.log(resAmount)\r\n      }\r\n      \r\n      if (!IcehistoryList || !IcehistoryList.length) fetch()\r\n    }, [setIceHistoryList,account])\r\n\r\n    return {IcehistoryList}\r\n}\r\n\r\n\r\nfunction from(from: any, arg1: string) {\r\n  throw new Error('Function not implemented.');\r\n}\r\n\r\n","import { Box, Button } from \"@material-ui/core\";\r\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useMatchBreakpoints from \"../../hooks/useMatchBreakpoints\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useDrawAndBuyersHeights, useDrawApprove, useDrawId, useGetBetaAndPI, useHandFuc, useWithdraw } from \"./hooks/useDraw\";\r\nimport { useWallet } from \"@binance-chain/bsc-use-wallet\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport TipModael from \"../../component/TipModael\";\r\nimport {  getDrawAddress, getIceOrWaterAddress } from \"../../utils/addressHelpers\";\r\nimport useTokenApprove from \"../../hooks/useApprove\";\r\nimport { useBeeContract, useDrawContract } from \"../../hooks/useContract\";\r\nimport { useIceHandlers } from \"../../state/Ice/hooks\";\r\nimport ConnectWallt from \"../home/ConnectWall\";\r\n// import { tranPrice, tranTotalPrice } from \"../../utils/tran\";\r\n// import Web3 from \"web3\";\r\n// import useWeb3 from \"../../hooks/useWeb3\";\r\n// import { ethers } from \"ethers\";\r\nimport { useLocation, useParams } from \"react-router-dom\";\r\nimport useWeb3 from \"../../hooks/useWeb3\";\r\nimport { tranIdDraw, tranPrice } from \"../../utils/tran\";\r\nimport { useDrawBoxHandlers } from \"../../state/DrawBox/hooks\";\r\nimport { isPending } from \"@reduxjs/toolkit\";\r\n\r\n\r\nconst StylePanel=styled(Box)<{state: number }>`\r\n     align-items: center;\r\n\r\n     opacity: ${(props) => (props.state?1:0.2)};\r\n     pointer-events: ${(props) => (props.state ? \"initial\" : \"none\")};\r\n\r\n     @media (max-width: 750px) {\r\n        font-size: 0.16rem;\r\n        .font18{\r\n          font-size: 0.18rem;\r\n        }\r\n        .font24{\r\n          font-size: 0.24rem;\r\n          font-weight: bold;\r\n        }\r\n        .font40{\r\n          font-size: 0.4rem;\r\n          font-weight: bold;\r\n        }\r\n      }\r\n      @media (min-width:750px){\r\n        .font18{\r\n          font-size: 18px;\r\n        }\r\n        .font24{\r\n          font-size: 24px;\r\n          font-weight: bold;\r\n        }\r\n        .font40{\r\n          font-size: 40px;\r\n          font-weight: bold;\r\n        }\r\n      }\r\n`\r\n\r\n\r\nconst Flex=styled(Box)`\r\n     display: flex;\r\n`\r\nconst IceTop=styled(Flex)`\r\n\r\n      border: 5px solid #5073A1;\r\n      background-color: black;\r\n      @media (max-width: 750px) {\r\n        margin-top:0.18rem;\r\n      }\r\n      @media (min-width:750px){\r\n        margin-top:80px;\r\n      }\r\n`\r\n\r\nconst StyletotoalDes=styled(Flex)`\r\n      @media (max-width: 750px) {\r\n        \r\n        font-size: 0.16rem;\r\n      }\r\n      @media (min-width:750px){\r\n        font-size: 18px;\r\n      }\r\n`\r\n\r\n\r\nconst StyleIcon=styled.img`\r\n      @media (max-width: 750px) {\r\n        width: 0.18rem;\r\n        height: 0.18rem;\r\n      }\r\n      @media (min-width:750px){\r\n        width: 40px;\r\n        height: 40px;\r\n      }\r\n`\r\n\r\nconst StyleTop=styled.img`\r\n      @media (max-width: 750px) {\r\n        width: 2.11rem;\r\n        height: 0.54rem;\r\n        margin-top: -0.53rem;\r\n      }\r\n      @media (min-width:750px){\r\n        width: 480px;\r\n        height: 123px;\r\n        margin-top: -120px;\r\n      }\r\n`\r\nconst BoxImg=styled.img`\r\n      @media (max-width: 750px) {\r\n        width: 1.85rem;\r\n        height: 1.6rem;\r\n        margin-top:0.28rem;\r\n      }\r\n      @media (min-width:750px){\r\n        width: 417px;\r\n        height: 350px;\r\n        margin-top:48px;\r\n      }\r\n`\r\n\r\nconst DesPanel=styled(Flex)`\r\n      @media (max-width: 750px) {\r\n        padding:0.18rem 0.18rem 0px 0.18rem;\r\n        font-size: 0.18rem;\r\n      }\r\n      @media (min-width:750px){\r\n        padding:10px 15px 0px 15px;\r\n        font-size: 20px;\r\n      }\r\n`\r\nconst DesVale=styled(Flex)`\r\n      color: #74DD54;\r\n      @media (max-width: 750px) {\r\n        font-size: 0.18rem;\r\n        \r\n      }\r\n      @media (min-width:750px){\r\n        font-size: 40px;\r\n      }\r\n`\r\n\r\nconst StyleBtn=styled(Flex)`\r\n      @media (max-width: 750px) {\r\n        padding:0.1rem 0.46rem 0.1rem 0.46rem;\r\n        font-size: 0.18rem;\r\n      }\r\n      @media (min-width:750px){\r\n        padding:10px 65px 10px 65px ;\r\n        font-size: 20px;\r\n      }\r\n      color:#fff;\r\n      border-radius: 4px;\r\n      background: linear-gradient(358deg,#FF720A 5%,#FFD040 99%);  \r\n      cursor: pointer;\r\n`\r\n\r\nconst StyleNUmber=styled(Flex)`\r\n      color:#fff;\r\n      @media (max-width: 750px) {\r\n        .font18{\r\n          font-size: 0.18rem;\r\n        }\r\n        .font24{\r\n          font-size: 0.24rem;\r\n          font-weight: bold;\r\n        }\r\n        .font40{\r\n          font-size: 0.4rem;\r\n          font-weight: bold;\r\n        }\r\n      }\r\n      @media (min-width:750px){\r\n        .font18{\r\n          font-size: 18px;\r\n        }\r\n        .font24{\r\n          font-size: 24px;\r\n          font-weight: bold;\r\n        }\r\n        .font40{\r\n          font-size: 40px;\r\n          font-weight: bold;\r\n        }\r\n      }\r\n`\r\nconst StyleCenterBox=styled(Flex)`\r\n      \r\n      @media (max-width: 750px) {\r\n         padding:0.27rem 0.1rem 0.27rem 0.1rem;\r\n        .boxStyle{\r\n          width: 0.77rem;\r\n          height:0.65rem;\r\n        }\r\n        .boxButtom{\r\n          /* width: 0.77rem; */\r\n        }\r\n        .segmentation{\r\n          height: 0.1rem;\r\n          background-color: #5F6A72;\r\n          border:1px solid #979797;\r\n        }\r\n        .tokenStyle{\r\n          width:0.09rem;\r\n          height:0.09rem;\r\n          padding: 0px 0.03rem 0px 0.1rem;\r\n        }\r\n        .font32{\r\n          font-size: 0.18rem;\r\n        }\r\n        .font24{\r\n          font-size: 0.14rem;\r\n        }\r\n      }\r\n      @media (max-width: 500px) {\r\n        padding:0.27rem 0.1rem 0.4rem 0.1rem;\r\n      }\r\n      @media (min-width:750px){\r\n        padding:60px 100px 60px 60px;\r\n        .boxStyle{\r\n          width: 160px;\r\n          height:133px;\r\n        }\r\n\r\n        .boxButtom{\r\n          width: 160px;\r\n\r\n        }\r\n        .segmentation{\r\n          height: 21px;\r\n          background-color: #5F6A72;\r\n          border:1px solid #979797;\r\n        }\r\n        .tokenStyle{\r\n          width:18px;\r\n          height:18px;\r\n          padding: 0px 8px 0px 8px;\r\n        }\r\n        .font32{\r\n          font-size: 32px;\r\n        }\r\n        .font24{\r\n          font-size: 24px;\r\n        }\r\n      }\r\n`\r\nconst ShopBtn=styled(Box)<{isMobile:boolean}>`\r\n    @media (max-width: 750px) {\r\n       width:auto;\r\n       padding:0.1rem 0.1rem 0.1rem 0.1rem;\r\n    }\r\n    @media (min-width: 750px) {\r\n       width:auto;\r\n       padding:3px 20px 3px 20px;\r\n    }\r\n\r\n    white-space: nowrap;\r\n    /* width:${(props) => (props.isMobile?'0.54rem':'112px')}; */\r\n    height: ${(props) => (props.isMobile?'0.19rem':'40px')};\r\n    background-color: #0058CD;\r\n    font-size:${(props) => (props.isMobile?'0.09rem':'18px')};\r\n    font-weight: bold;\r\n    justify-content: center;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    :hover{\r\n      background-color: #033980;\r\n    };\r\n    margin-top:${(props) => (props.isMobile?'0.08rem':'18px')};\r\n`\r\nconst PeddingBtn=styled(Box)<{isMobile:boolean}>`\r\n    @media (max-width: 750px) {\r\n       width:auto;\r\n       padding:0.1rem 0.1rem 0.1rem 0.1rem;\r\n    }\r\n    @media (min-width: 750px) {\r\n       width:auto;\r\n       padding:3px 20px 3px 20px;\r\n    }\r\n\r\n    white-space: nowrap;\r\n    height: ${(props) => (props.isMobile?'0.19rem':'40px')};\r\n    background-color: #737576;\r\n    font-size:${(props) => (props.isMobile?'0.09rem':'18px')};\r\n    font-weight: bold;\r\n    justify-content: center;\r\n    border-radius: 5px;\r\n    /* cursor: pointer;\r\n    :hover{\r\n      background-color: #033980;\r\n    }; */\r\n    margin-top:${(props) => (props.isMobile?'0.08rem':'18px')};\r\n`\r\n\r\nconst TimeBox=styled(Box)<{isMobile:boolean}>`\r\n        @media (max-width: 750px) {\r\n            padding:0.05rem 0.06rem 0.05rem 0.06rem;\r\n        }\r\n        @media (min-width:750px){\r\n           padding:6px 12px 6px 12px;\r\n        }\r\n    background-color:#262626;\r\n    font-size:${(props) => (props.isMobile?'0.18rem':'32px')};\r\n    color: #6FBA0F;\r\n    border-radius: 5px;\r\n  \r\n`\r\n\r\n\r\nconst DrawLots: React.FC = () => {\r\n  // const location = useLocation();\r\n  const {id} = useParams<any>();\r\n  const {lotId,deadline}=useDrawId(id||\"\");\r\n  // const [lotId, setLotId] = useState<any>(id || drawId);\r\n  const DrawContract=useDrawContract();\r\n  const {drawData,buyerMap,listMoney}=useDrawAndBuyersHeights(lotId);\r\n  const {handleBuy,handleRecaption}=useHandFuc();\r\n  const [successDes,setSuccessDes]=useState<any>(\"\");\r\n  const [initState,setInitState]=useState<boolean>(false);\r\n\r\n  useEffect(()=>{\r\n    const listMoneys=listMoney.filter(t=>t!=0);\r\n    if(listMoneys.length>0 && !initState){\r\n      setInitState(true)\r\n      setSuccessDes(\"rewardTips\");\r\n      setShopErro(\"\")\r\n      setShopOpen(true);\r\n    }\r\n  },[listMoney,initState])\r\n  \r\n  \r\n  const {account} = useWallet();\r\n  const { isDesktop, isMobile } = useMatchBreakpoints();\r\n  const { t } = useTranslation();\r\n  const [testData,settestData]=useState([0,1,2,3,4,5,6,7,8,9]);\r\n  // const [testData,settestData]=useState<any>([]);\r\n  useEffect(()=>{\r\n    if(parseInt(drawData.totalCount)>0){\r\n      const drawDatas=(new Array(parseInt(drawData.totalCount))).fill(\"\");\r\n      settestData(drawDatas);\r\n    }\r\n  },[drawData])\r\n\r\n\r\n  // drawData\r\n  // 授权\r\n  const {isApprove}=useDrawApprove();\r\n  const tokenContract=useBeeContract();\r\n  const onApprove=useTokenApprove(tokenContract,getDrawAddress());\r\n\r\n  //hand state\r\n  const [shopOpen,setShopOpen]=useState(false);\r\n  const [shopErro,setShopErro]=useState<any>(\"\");\r\n\r\n  \r\n  const {onIsRefresh}=useDrawBoxHandlers();\r\n  const roladList=()=>{\r\n    onIsRefresh(true)\r\n    setTimeout(()=>{onIsRefresh(false)},1000)\r\n  }\r\n\r\n\r\n  // 授权\r\n  const handleApprove = useCallback(async () => {\r\n      try {\r\n          const txHash = await onApprove();\r\n          roladList();\r\n      } catch (e) {\r\n          console.error(e)\r\n      }\r\n  }, [onApprove])\r\n\r\n\r\n  \r\n\r\n  \r\n  const web3=useWeb3();\r\n  const {getBetaAndPI}=useGetBetaAndPI();\r\n  const [pedding,setPedding]=useState<any>(false);\r\n  const handBuy=async()=>{\r\n      setPedding(true);\r\n      setSuccessDes(\"\");\r\n      setShopErro(\"\")\r\n      const respon=await handleBuy(lotId);\r\n      if(respon.state){\r\n        console.log(\"success:\",respon.res)\r\n        setShopOpen(true);\r\n        roladList();\r\n      }else{\r\n        console.log(\"erro:\",respon.res)\r\n        setShopErro(respon.res.message?respon.res.message:respon.res.toString())\r\n        setShopOpen(true);\r\n      }\r\n      setPedding(false);\r\n      // console.log(new BigNumber(8).times(new BigNumber(2).pow(10)).plus(new BigNumber(8)).toFixed())\r\n  }\r\n  const handRecaption=async(data:any)=>{\r\n    \r\n        setSuccessDes(\"Extraction of success\");\r\n        setShopErro(\"\")\r\n        \r\n        const dataRes= await web3.eth.getBlock(data.block);\r\n        const result= await getBetaAndPI(dataRes.hash.split(\"0x\")[1]);\r\n\r\n        const respon=await handleRecaption(lotId,data.idx,\"0x\"+result.Beta,\"0x\"+result.PI);\r\n        if(respon.state){\r\n          console.log(\"success:\",respon.res)\r\n          setShopOpen(true);\r\n          roladList();\r\n        }else{\r\n          console.log(\"erro:\",respon.res)\r\n          setShopErro(respon.res.message?respon.res.message:respon.res.toString())\r\n          setShopOpen(true);\r\n        }\r\n        \r\n  }\r\n  const getBtn=()=>{\r\n    if(pedding){\r\n      return<PeddingBtn isMobile={!isDesktop}  display='flex' alignItems='center'>\r\n           <Box color=\"#fff\" component='span' onClick={handBuy}>{t(\"during purchase\")}</Box>\r\n      </PeddingBtn>\r\n    }\r\n    if(isApprove){\r\n          return <ShopBtn isMobile={!isDesktop}  display='flex' alignItems='center'>\r\n             <Box color=\"#fff\" component='span' onClick={handBuy}>{t(\"BUY IT\")}</Box>\r\n          </ShopBtn>\r\n    }else{\r\n      return <ShopBtn isMobile={!isDesktop}  display='flex' alignItems='center'>\r\n          <Box color=\"#fff\" component='span' onClick={handleApprove}>{t(\"approve\")}</Box>\r\n      </ShopBtn>\r\n    }\r\n  }\r\n\r\n  // 盒子布局\r\n  const [page,setPage]=useState(isDesktop?5:4);\r\n  useEffect(()=>{setPage(isDesktop?5:4)},[isDesktop])\r\n  const dataLen=useMemo(()=>Math.ceil(testData.length/page),[testData,page]);\r\n  const showMoney=(idx:number,page:number,index:number):any=>{\r\n    const item=listMoney.find(item=>item.idx==(idx*page)+index)\r\n    if(item && item.money!=0){\r\n     return item;\r\n    }\r\n    return 0;\r\n  }\r\n  // 查询是否存在奖励未领取\r\n  const isAward=useMemo(()=>{\r\n    const res:any=listMoney.filter(t=>{\r\n      if(new BigNumber(t.money).gt(0)){\r\n         return t;\r\n      }\r\n    })\r\n    return res.length>0\r\n  },[listMoney]);\r\n\r\n\r\n\r\n  //定时器\r\n  const [timeData,setTimeData]=useState(\"\");\r\n  const inter=useRef<any>(-1);\r\n  // const [dateSplit,setDateSplit]=useState<any>({hour:[],min:[],second:[]}); \r\n  const dateSplit=useRef<any>({hour:[],min:[],second:[]}); \r\n  const [dateEnd,setDateEnd]=useState(false);\r\n  const format=useCallback((second:string)=>{\r\n    let second_Time=(parseInt(second)*1000) - (new Date().getTime());\r\n    if(second_Time<0){\r\n      second_Time=0;\r\n    }\r\n    let seconds:number=Number((second_Time/1000).toFixed(0));\r\n    let hour:any= Math.floor(seconds / 3600) >= 10 ? Math.floor(seconds / 3600) : '0' + Math.floor(seconds / 3600);\r\n    seconds -= 3600 * hour;\r\n    let min:any = Math.floor(seconds / 60) >= 10 ? Math.floor(seconds / 60) : '0' + Math.floor(seconds / 60);\r\n    seconds -= 60 * min;\r\n    let sec = seconds >= 10 ? seconds : '0' + seconds;\r\n    return hour + ':' + min + ':' + sec;\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n        if(deadline && inter.current==-1){\r\n  \r\n          inter.current=setInterval(()=>{\r\n              const dueTime=deadline?deadline:'0';\r\n              const formatTime=format(dueTime)\r\n              setTimeData(formatTime)\r\n              const times=formatTime.split(\":\");\r\n              dateSplit.current={\r\n                hour:times[0].split(\"\"),\r\n                min:times[1].split(\"\"),\r\n                second:times[2].split(\"\")\r\n              }\r\n              // setDateSplit({\r\n              // hour:times[0].split(\"\"),\r\n              // min:times[1].split(\"\"),\r\n              // second:times[2].split(\"\")\r\n              // })\r\n              if(times[0]==\"00\"&&times[1]==\"00\"&&times[2]==\"00\"){\r\n                console.log(\"clearInterval\");\r\n                setDateEnd(true)\r\n                clearInterval(inter.current)\r\n              }\r\n          })\r\n        }\r\n        // return ()=>{clearInterval(inter.current)}\r\n  },[format,deadline])\r\n\r\n  useEffect(()=>{ \r\n     return ()=>{clearInterval(inter.current)}\r\n  },[])\r\n\r\n\r\n\r\n  return (<>\r\n  \r\n  {!account?<Box display=\"flex\"  flex={1}>\r\n          <Flex flex={1} alignItems=\"center\" justifyContent=\"center\">\r\n            <Flex >\r\n                <ConnectWallt></ConnectWallt>\r\n            </Flex>\r\n          </Flex>\r\n         </Box>\r\n      :\r\n      <StylePanel state={Object.keys(drawData).length>0?1:0}  display=\"flex\" flex={1}  alignItems=\"center\">\r\n      <Flex display=\"flex\" flexDirection=\"column\" flex={1} >\r\n          <IceTop flex={1} flexDirection=\"column\">\r\n\r\n               <Flex  justifyContent=\"space-between\" flexDirection=\"column\">\r\n                   <DesPanel flex={1}  className=\"color_whilte\">\r\n                       \r\n                       <Flex  flex={1}  alignItems=\"center\">\r\n                          {isDesktop?<>\r\n                                   <StyleIcon src=\"./image/Ice/团队.png\" alt=\"\"/>\r\n                                   <StyletotoalDes ml={1} component=\"span\">{t(\"Participants\")}:</StyletotoalDes>\r\n                                   <DesVale ml={1} component=\"span\">{(buyerMap||[]).length}</DesVale>\r\n\r\n                          </>:\"\"}\r\n                       </Flex>\r\n\r\n                       <Flex flex={1} alignItems=\"center\" justifyContent=\"center\">\r\n                           <StyleTop src=\"./image/Draw/top.png\" alt=\"\"/>\r\n                       </Flex>\r\n\r\n                 \r\n                       <Flex flex={1} justifyContent=\"end\">\r\n                          {isDesktop?\r\n                           <Flex  flexDirection=\"column\">\r\n                           <Flex className=\"color_whilte\" \r\n                            justifyContent=\"center\"\r\n                            fontWeight='bold'\r\n                            // mt={isDesktop?\"24px\":\"0.12rem\"} \r\n                            component='span'>{t(\"SHOP CLOSE TIME\")}</Flex>\r\n                                       {timeData?\r\n                                       \r\n                                       <Flex alignItems=\"center\" color={\"#fff\"} mt={isDesktop?\"11px\":\"0.06rem\"}>\r\n                                           {dateSplit?.current?.hour?.map((t:any,idx:number)=>(\r\n                                           <TimeBox key={\"hour\"+idx} mr={\"0.1rem\"} isMobile={!isDesktop}>{t}</TimeBox>\r\n                                           ))}：\r\n                                           {dateSplit?.current?.min?.map((t:any,idx:number)=>(\r\n                                           <TimeBox key={\"min\"+idx} mr={\"0.1rem\"} isMobile={!isDesktop}>{t}</TimeBox>\r\n                                           ))}：\r\n                                           {dateSplit?.current?.second?.map((t:any,idx:number)=>(\r\n                                           <TimeBox key={\"second\"+idx} mr={\"0.1rem\"} isMobile={!isDesktop}>{t}</TimeBox>\r\n                                           ))}\r\n                                       </Flex>:\"\"\r\n                                       }\r\n                               \r\n                           </Flex>\r\n                           :\"\"\r\n                          }\r\n                       </Flex>\r\n                       \r\n                   </DesPanel>\r\n\r\n                  {/* 移动端显示 */}\r\n                   {!isDesktop?\r\n                   <Flex flexDirection=\"column\">\r\n                       <Flex  justifyContent='center' color=\"#fff\" alignItems=\"center\">\r\n                          <StyleIcon src=\"./image/Ice/团队.png\" alt=\"\"/>\r\n                          <StyletotoalDes ml={1} component=\"span\">{t(\"Total Bets\")} :</StyletotoalDes>\r\n                          <DesVale ml={1} component=\"span\">{(buyerMap||[]).length}</DesVale>\r\n                       </Flex>\r\n                       <Flex mt={\"0.1rem\"} justifyContent='center'>\r\n                      \r\n                          <Flex  >\r\n                              <Flex  flexDirection=\"column\">\r\n                              <Flex className=\"color_whilte\" \r\n                                justifyContent=\"center\"\r\n                                fontWeight='bold'\r\n                                // mt={isDesktop?\"24px\":\"0.12rem\"} \r\n                                component='span'>{t(\"SHOP CLOSE TIME\")}</Flex>\r\n                                          {timeData?\r\n                                          \r\n                                          <Flex alignItems=\"center\" color={\"#fff\"} mt={isDesktop?\"11px\":\"0.06rem\"}>\r\n                                              {dateSplit?.current?.hour?.map((t:any,idx:number)=>(\r\n                                              <TimeBox key={\"hour\"+idx} mr={\"0.1rem\"} isMobile={!isDesktop}>{t}</TimeBox>\r\n                                              ))}：\r\n                                              {dateSplit?.current?.min?.map((t:any,idx:number)=>(\r\n                                              <TimeBox key={\"min\"+idx} mr={\"0.1rem\"} isMobile={!isDesktop}>{t}</TimeBox>\r\n                                              ))}：\r\n                                              {dateSplit?.current?.second?.map((t:any,idx:number)=>(\r\n                                              <TimeBox key={\"second\"+idx} mr={\"0.1rem\"} isMobile={!isDesktop}>{t}</TimeBox>\r\n                                              ))}\r\n                                          </Flex>:\"\"\r\n                                          }\r\n                                  \r\n                              </Flex>\r\n                          </Flex>\r\n\r\n                       </Flex>\r\n                   </Flex>:\"\"\r\n                   }\r\n                   <StyleNUmber mt={\"12px\"} justifyContent=\"center\" flex={1}>\r\n                         <Flex>\r\n                          <Flex alignItems=\"center\" className=\"font24\" component=\"span\">{t(\"ALL THE BOX\")}：</Flex>\r\n                          <Flex alignItems=\"center\" color=\"#00CD63\" className=\"font40\" component=\"span\">{drawData?.totalCount}</Flex>\r\n                         </Flex>\r\n                         <Flex ml={8}>\r\n                          <Flex alignItems=\"center\" className=\"font24\" component=\"span\">{t(\"SURPLUS BOX\")}：</Flex>\r\n                          <Flex alignItems=\"center\" color=\"#00B3FF\" className=\"font40\" component=\"span\">{parseInt(drawData?.totalCount)-parseInt(drawData?.soldCount)}</Flex>\r\n                         </Flex>\r\n                    </StyleNUmber>\r\n                 \r\n               </Flex>\r\n               <StyleCenterBox flex={1}  flexDirection=\"column\">\r\n                \r\n                  {\r\n                 \r\n                    (new Array(dataLen)).fill(\"\").map((value,idx)=>(\r\n                      <Flex key={idx} flexDirection=\"column\" mt={idx!=0?5:0}>\r\n                         <Flex flex={1} justifyContent=\"space-around\">\r\n                            {(testData.slice(idx*page,idx*page+page)).map((item,index)=>(\r\n                                <>\r\n                                {index%2===0?\r\n                                 <img className=\"boxStyle\" src=\"./image/Draw/box1.png\" alt=\"\"/>\r\n                                :\r\n                                <img className=\"boxStyle\" src=\"./image/Draw/box2.png\" alt=\"\"/>\r\n                                 }\r\n                                </>\r\n\r\n                            ))}\r\n\r\n                             {idx==(dataLen-1) && new Array(dataLen*page-testData.length).fill(\"\").map(value=>(\r\n                                  <Flex color=\"#fff\" className=\"boxStyle\" flexDirection=\"column\" alignItems=\"center\">\r\n                                  </Flex>\r\n                              ))}\r\n                             \r\n                        </Flex>\r\n                        <Flex className=\"segmentation\"></Flex>\r\n                        <Flex color=\"#fff\" flex={1} justifyContent=\"space-around\">\r\n                          {(testData.slice(idx*page,idx*page+page)).map((item,index)=>(\r\n                              <Flex className=\"boxButtom\" flexDirection=\"column\" alignItems=\"center\">\r\n                                <Flex className=\"font24\" mt={isDesktop?'8px':'8px'}>{t(\"BlindBox\")} {tranIdDraw((idx*page)+index+1)}</Flex>\r\n                                <Flex className=\"font18\" alignItems=\"center\" mt={isDesktop?'19px':'0.09rem'}>\r\n                                  {/* <Flex>{showMoney(idx,page,index)!=0?\"Reward:\":\"Price:\"} */}\r\n                                  \r\n                                  {showMoney(idx,page,index)!=0?<Flex color=\"#FFA800\">{t(\"Reward\")}:</Flex>:<Flex>{t(\"Price\")}:</Flex>}\r\n\r\n                                  \r\n                                  <Flex><img className=\"tokenStyle\" src=\"./image/myFuzzle/beetoken.png\" alt=\"\"/></Flex>\r\n                                  <Flex className=\"font32\" color=\"#FFA800\" component='span' >{showMoney(idx,page,index)!=0?tranPrice(showMoney(idx,page,index)?.money):drawData?.price}</Flex>\r\n                                </Flex>\r\n                                <Flex >\r\n                                  {/* {showMoney(idx,page,index)}================= */}\r\n                                  {\r\n                                    // 1,2 \r\n                                    // 5 6 7 8 9\r\n                                    // 0,1,2,3,4\r\n                                    // 存在奖励不能购买\r\n                                    drawData?.soldCount&&\r\n                                    (idx*page)+index==drawData.soldCount&&\r\n                                    !isAward&&\r\n                                    !dateEnd?\r\n                                    getBtn():\"\"  \r\n                                  }\r\n                               \r\n                                 {showMoney(idx,page,index)!=0?\r\n                                 <Flex flexDirection='column'>\r\n                                  {/* <Flex>开出金额</Flex> */}\r\n                                  \r\n                                  <ShopBtn isMobile={!isDesktop}  display='flex' alignItems='center'>\r\n                                     <Box color=\"#fff\" component='span' onClick={()=>{handRecaption(showMoney(idx,page,index))}}>{t(\"RETRIEVE\")}</Box>\r\n                                  </ShopBtn>\r\n                                  {/* <Flex justifyContent=\"center\">{tranPrice(showMoney(idx,page,index).money)}</Flex> */}\r\n                                 </Flex>\r\n                                 :\r\n                                  \"\"\r\n                                 }\r\n                                \r\n                                </Flex>\r\n                              </Flex>\r\n                          ))}\r\n\r\n                        {idx==(dataLen-1) && new Array(dataLen*page-testData.length).fill(\"\").map(value=>(\r\n                          <Flex className=\"boxStyle\" flexDirection=\"column\" alignItems=\"center\">\r\n                          </Flex>\r\n                        ))}\r\n                          {/* {new Array(Math.ceil(testData.length/6)*6-testData.length).fill(\"\").map(value=>(\r\n                              <Flex className=\"boxButtom\" flexDirection=\"column\" alignItems=\"center\">\r\n                               </Flex>\r\n                          )} */}\r\n                          \r\n                          \r\n\r\n                         </Flex>\r\n                      </Flex>\r\n                    ))\r\n                  }\r\n             \r\n\r\n               </StyleCenterBox>\r\n          </IceTop>\r\n\r\n   \r\n\r\n           <Flex mt={isDesktop?\"64px\":\"0.54rem\"}>\r\n               <Box display='flex' color='#fff' flexDirection=\"column\">\r\n                   <Box component='h2'>{t(\"Draw Blind Boxes\")}</Box>\r\n                   <Box component='span'>{t(\"DrawDes_1\")}</Box>\r\n                   <Box mt={1} component='span'>{t(\"DrawDes_2\")}</Box>\r\n               </Box>\r\n          </Flex>\r\n      </Flex>\r\n\r\n        {/* //modal */}\r\n       <TipModael \r\n        successDes={successDes}\r\n        erro={shopErro} \r\n        isopen={shopOpen}\r\n        setOpens={setShopOpen}>\r\n       </TipModael>\r\n      \r\n    </StylePanel>\r\n\r\n\r\n      }\r\n    \r\n  </>\r\n          \r\n    \r\n  );\r\n};\r\n\r\nexport default DrawLots;\r\n\r\n\r\n\r\n\r\n","import { Box, Button, FormControl, FormControlLabel, FormLabel, Radio, RadioGroup } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport useMatchBreakpoints from \"../../../hooks/useMatchBreakpoints\";\r\nimport { ethers } from \"ethers\";\r\nimport { useWallet } from \"@binance-chain/bsc-use-wallet\";\r\nimport { getBchAddress, getBeeTokenAddress, getfactorytAddress, getimptAddress } from \"../../../utils/addressHelpers\";\r\nimport { AbiItem } from 'web3-utils';\r\nimport useWeb3 from \"../../../hooks/useWeb3\";\r\nimport BeeTokentAbi from '../../../config/abi/BeeToken.json';\r\n\r\nconst Center = styled(Box)<any>`\r\n  background-image: url(/image/新建项目.svg);\r\n  background-repeat: no-repeat;\r\n  background-size: 100% 100%;\r\n  background-attachment: fixed;\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst StylePanel=styled(Box)`\r\n     /* height: 80px; */\r\n     /* background-color: #fafafa;\r\n     background-image: url('/image/myFuzzle/myback.png'); */\r\n     background-size:100% 100%;\r\n     padding:10px 10px 10px 40px;\r\n`\r\n\r\nconst STyleLeftBox=styled(Box)`\r\n    width:486px;\r\n    height:486px;\r\n    background-color:gray;\r\n    border:5px solid #fff;\r\n`\r\nconst STyleRigthBox=styled(Box)`\r\n    background: #052800;\r\n    border: 1px solid #00ff43;\r\n    margin-left:75px;\r\n`\r\n\r\nconst Liquidity: React.FC = () => {\r\n  const { isDesktop, isMobile } = useMatchBreakpoints();\r\n  const { t } = useTranslation();\r\n  const [dellist,setDelList]=useState<any>([]);\r\n  const [list,setList]=useState([]);\r\n  const [task,setTask]=useState(\"\");\r\n  const [exists,setExists]=useState(true);\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setTask((event.target as HTMLInputElement).value);\r\n  };\r\n\r\n        const SEP20ABI = [\r\n            \"function symbol() view returns (string)\",\r\n            \"function decimals() view returns (uint8)\",\r\n            \"function balanceOf(address account) external view returns (uint256)\",\r\n            \"function allowance(address owner, address spender) external view returns (uint256)\",\r\n            \"function approve(address spender, uint256 amount) external returns (bool)\",\r\n        ]\r\n\r\n        const ImplAddr = getimptAddress();\r\n        const FactoryAddr = getfactorytAddress()\r\n\r\n        const CCABI = [\r\n        \"function getAllRobots() view public returns (uint[] memory robotsIdAndInfo)\",\r\n        \"function createRobot(uint robotInfo) external payable\",\r\n        \"function deleteRobot(uint index, uint robotId) external\",\r\n        \"function sellToRobot(uint robotId, uint stockDelta) external payable\",\r\n        \"function buyFromRobot(uint robotId, uint moneyDelta) external payable\",\r\n        ]\r\n\r\n        const FactoryABI = [\r\n        \"function create(address stock, address money, address impl) external\",\r\n        \"function getAddress(address stock, address money, address impl) public view returns (address)\",\r\n        ]\r\n\r\n      \r\n\r\n        function packPrice(price:ethers.BigNumber) {\r\n            var effBits = 1\r\n            while(!price.mask(effBits).eq(price)) {\r\n                effBits += 1\r\n            }\r\n            var twoPow24 = ethers.BigNumber.from(2).pow(24)\r\n            if(effBits <= 25) {\r\n                return price\r\n            }\r\n            var shift = effBits-25\r\n            var shiftBN = ethers.BigNumber.from(2).pow(shift)\r\n            var low24 = price.div(shiftBN).sub(twoPow24)\r\n            var high8 = ethers.BigNumber.from(shift).add(1).mul(twoPow24)\r\n            return high8.add(low24)\r\n        }\r\n\r\n        function unpackPrice(packed:any) {\r\n            var twoPow24 = ethers.BigNumber.from(2).pow(24)\r\n            var low24 = packed.mod(twoPow24)\r\n            var shift = packed.div(twoPow24)\r\n            if(shift.isZero()) {\r\n                return low24\r\n            }\r\n            var shiftBN = ethers.BigNumber.from(2).pow(shift.sub(1))\r\n            return low24.add(twoPow24).mul(shiftBN)\r\n        }\r\n\r\n\r\n        // async function connect() {\r\n        //     if (typeof (window as any).ethereum === 'undefined') {\r\n        //         if (typeof (window as any).web3 !== 'undefined') {\r\n        //             (window as any).ethereum = (window as any).web3;\r\n        //         } else if (typeof (window as any).TPJSBrigeClient !== 'undefined') {\r\n        //             (window as any).ethereum = (window as any).TPJSBrigeClient;\r\n        //         } else if (typeof (window as any).imToken !== 'undefined') {\r\n        //             (window as any).ethereum = (window as any).imToken;\r\n        //         } else {\r\n        //             const provider = await detectEthereumProvider();\r\n        //             if (provider) {\r\n        //                 (window as any).ethereum = provider;\r\n        //             } else if(IsPC()) {\r\n        //                 alert(\"Your browser has not installed a wallet extension (like MetaMask).\");\r\n        //             } else {\r\n        //                 alert(\"Please open this page inside a mobile wallet App.\");\r\n        //             }\r\n        //         }\r\n        //     }\r\n        //     window.accounts = await window.ethereum.request({method: 'eth_requestAccounts'});\r\n        //     if (window.accounts.length == 0) {\r\n        //             window.AlertDlg = new Attention.Alert({title: \"Warning\",\r\n        //               content: \"Cannot connect to wallet\"});\r\n        //         return false;\r\n        //     }\r\n        //     return true;\r\n        // }\r\n\r\n        const init=async()=>{\r\n            // if(!await connect()) {return;}\r\n            const provider = new ethers.providers.Web3Provider((window as any).ethereum);\r\n            const signer = provider.getSigner();\r\n            const myAddr = await signer.getAddress();\r\n            (document.getElementById(\"signerAddress\") as any).innerText = myAddr;\r\n\r\n            const url = new URL((window as any).location.href);\r\n            try {\r\n                (window as any).moneyAddr = getBchAddress();\r\n                (window as any).moneyContract = new ethers.Contract((window as any).moneyAddr, SEP20ABI, provider).connect(signer);\r\n                (window as any).moneySymbol = await (window as any).moneyContract.symbol();\r\n                (window as any).moneyDecimals = await (window as any).moneyContract.decimals();\r\n                var moneyURL = `<a target=\"_blank\" href=\"https://smartscan.cash/address/${(window as any).moneyAddr}\">${(window as any).moneySymbol}</a>`;\r\n                (document.getElementById(\"moneyURL\") as any).innerHTML = moneyURL\r\n\r\n                const moneyAmt = await (window as any).moneyContract.balanceOf(myAddr);\r\n                (document.getElementById(\"moneyBal\") as any).innerHTML = ethers.utils.formatUnits(moneyAmt, (window as any).moneyDecimals);\r\n            } catch(e) {\r\n                    // window.AlertDlg = new Attention.Alert({title: \"Incorrect Address\",\r\n                    // content: \"Incorrect Address for Money: \"+moneyAddr});\r\n                    alert(\"Incorrect Address for Money\");\r\n                return\r\n            }\r\n\r\n            try {\r\n                //BEE 地址\r\n                (window as any).stockAddr = getBeeTokenAddress();\r\n                (window as any).stockContract = new ethers.Contract((window as any).stockAddr, SEP20ABI, provider).connect(signer);\r\n                (window as any).stockSymbol = await (window as any).stockContract.symbol();\r\n                (window as any).stockDecimals = await (window as any).stockContract.decimals();\r\n                var stockURL = `<a target=\"_blank\" href=\"https://smartscan.cash/address/${(window as any).stockAddr}\">${(window as any).stockSymbol}</a>`;\r\n                (document.getElementById(\"stockURL\") as any).innerHTML = stockURL\r\n\r\n                const stockAmt = await (window as any).stockContract.balanceOf(myAddr);\r\n                (document.getElementById(\"stockBal\") as any).innerHTML = ethers.utils.formatUnits(stockAmt,(window as any).stockDecimals);\r\n            } catch(e) {\r\n                    // window.AlertDlg = new Attention.Alert({title: \"Incorrect Address\",\r\n                    // content: \"Incorrect Address for Stock: \"+stockAddr});\r\n                    alert(\"Incorrect Address for Stock\")\r\n                return\r\n            }\r\n\r\n            var factoryContract = new ethers.Contract(FactoryAddr, FactoryABI, provider).connect(signer);\r\n            (window as any).MarketAddress = await factoryContract.getAddress((window as any).stockAddr, (window as any).moneyAddr, ImplAddr);\r\n            // console.log('MarketAddress:', window.MarketAddress);\r\n            var code = await provider.getCode( (window as any).MarketAddress);\r\n            if(code == \"0x\") {\r\n                // new Attention.Confirm({title: \"Market Not Exist\",\r\n                //     content: `The market ${stockSymbol}/${moneySymbol} has not been created, do you want to create it?`,\r\n                //     onConfirm(component) {\r\n                //         factoryContract.create(stockAddr, moneyAddr, ImplAddr)\r\n                //     },\r\n                //     onCancel(component) {}});\r\n                setExists(false);\r\n                return;\r\n            }\r\n\r\n            (document.getElementById(\"marketAddress\") as any).innerText = (window as any).MarketAddress;\r\n\r\n\r\n            // 初始化授权\r\n            const allowanceBN = await (window as any).stockContract.allowance(myAddr, (window as any).MarketAddress);\r\n            const allowance = ethers.utils.formatUnits(allowanceBN, 18)as any*(1.0 as any);\r\n            if(allowance>0){ setIsApprove_1(true);}\r\n\r\n\r\n\r\n            // const task = url.searchParams.get(\"task\");\r\n            if(task == \"create\") {\r\n                (document.getElementById(\"createDiv\")as any).style.display = \"block\"\r\n                document.title = \"Create a robot\"\r\n            } else if(task == \"delete\") {\r\n                (document.getElementById(\"deleteDiv\")as any).style.display = \"block\"\r\n                document.title = \"Delete a robot\"\r\n                listMyRobots()\r\n            } else if(task == \"buy\") {\r\n                (document.getElementById(\"buyDiv\")as any).style.display = \"block\"\r\n                document.title = `Buy ${(window as any).stockSymbol} from a robot`\r\n                listRobotsForBuying()\r\n            } else if(task == \"sell\") {\r\n                (document.getElementById(\"sellDiv\")as any).style.display = \"block\"\r\n                document.title = `Sell ${(window as any).stockSymbol} to a robot`\r\n                listRobotsForSelling()\r\n            } else {\r\n                    // window.AlertDlg = new Attention.Alert({title: \"Incorrect Task\",\r\n                    // content: \"Incorrect Task: \"+task});\r\n                    alert(\"Incorrect Task\");\r\n                return\r\n            } \r\n        }\r\n      \r\n        const [isApprove_1,setIsApprove_1]=useState(false);\r\n        const [isApprove_2,setIsApprove_2]=useState(true);\r\n        async function checkAllowanceAndBalance(contract:any, symbol:any, myAddr:any, amount:any, decimals:any) {\r\n            const allowanceBN = await contract.allowance(myAddr, (window as any).MarketAddress)\r\n            const allowance = ethers.utils.formatUnits(allowanceBN, decimals)as any*(1.0 as any)\r\n            // console.log(symbol, ', allowance:', allowance);\r\n            if(allowance < amount) {\r\n                setIsApprove_1(false);\r\n                return\r\n            }\r\n            const balanceBN = await contract.balanceOf(myAddr)\r\n            const balance:any = ethers.utils.formatUnits(balanceBN, decimals) as any*1.0\r\n            if(balance < amount) {\r\n                // window.AlertDlg = new Attention.Alert({title: \"Not Enough ${symbol}\",\r\n                //     content: `${amount} ${symbol} is needed, but you only have ${balance}`});\r\n                alert(`${amount} ${symbol} is needed, but you only have ${balance}`)    \r\n            }\r\n        }\r\n        async function checkAllowanceAndBalance2(contract:any, symbol:any, myAddr:any, amount:any, decimals:any) {\r\n            const allowanceBN = await contract.allowance(myAddr, (window as any).MarketAddress)\r\n            const allowance = ethers.utils.formatUnits(allowanceBN, decimals)as any*(1.0 as any)\r\n            // console.log(symbol, ', allowance:', allowance);\r\n            if(allowance < amount) {\r\n                setIsApprove_2(false);\r\n                return\r\n            }\r\n            const balanceBN = await contract.balanceOf(myAddr)\r\n            const balance:any = ethers.utils.formatUnits(balanceBN, decimals) as any*1.0\r\n            if(balance < amount) {\r\n                // window.AlertDlg = new Attention.Alert({title: \"Not Enough ${symbol}\",\r\n                //     content: `${amount} ${symbol} is needed, but you only have ${balance}`});\r\n                alert(`${amount} ${symbol} is needed, but you only have ${balance}`)    \r\n            }\r\n        }\r\n\r\n        const web3 = useWeb3();\r\n        const approve1Fnc=async ()=>{\r\n               const MaxAmount = ethers.utils.parseUnits('999999999');\r\n               console.log((window as any).MarketAddress);\r\n               try {\r\n\r\n                 const stockAddrContract=new web3.eth.Contract((BeeTokentAbi as unknown) as AbiItem,(window as any).stockAddr);\r\n                 const tx = await stockAddrContract.methods.approve((window as any).MarketAddress, ethers.constants.MaxUint256).send({ from: account })\r\n                \r\n                //  await (window as any).stockContract.approve((window as any).MarketAddress, ethers.constants.MaxUint256);\r\n                 setIsApprove_1(true)\r\n               } catch (error) {\r\n                 console.log(error)\r\n                 alert(\"失败\")\r\n               }\r\n               \r\n        };\r\n       \r\n\r\n        const {account} = useWallet();\r\n        const CreateRobot=async()=>{\r\n       \r\n            const myAddr = account;\r\n\r\n            var stockAmount = (document.getElementById(\"stockAmount\") as any).value //* 1.0\r\n            var moneyAmount = (document.getElementById(\"moneyAmount\") as any).value //* 1.0\r\n\r\n            checkAllowanceAndBalance((window as any).stockContract, (window as any).stockSymbol, myAddr, stockAmount, (window as any).stockDecimals)\r\n            checkAllowanceAndBalance2((window as any).moneyContract, (window as any).moneySymbol, myAddr, moneyAmount, (window as any).moneyDecimals)\r\n\r\n            var stockAmountBN = ethers.utils.parseUnits(stockAmount, (window as any).stockDecimals)\r\n            var moneyAmountBN = ethers.utils.parseUnits(moneyAmount, (window as any).moneyDecimals)\r\n            // console.log(ethers.utils.parseUnits(\"1.0\"))\r\n            var highPrice = packPrice(ethers.utils.parseUnits((document.getElementById(\"highPrice\") as any).value))\r\n            var lowPrice = packPrice(ethers.utils.parseUnits((document.getElementById(\"lowPrice\") as any).value))\r\n            var robotInfo = stockAmountBN.mul(ethers.BigNumber.from(2).pow(96)).add(moneyAmountBN)\r\n            robotInfo = robotInfo.mul(ethers.BigNumber.from(2).pow(32)).add(highPrice)\r\n            robotInfo = robotInfo.mul(ethers.BigNumber.from(2).pow(32)).add(lowPrice)\r\n\r\n            const provider = new ethers.providers.Web3Provider((window as any).ethereum);\r\n            const signer = provider.getSigner();\r\n            const marketContract = new ethers.Contract((window as any).MarketAddress, CCABI, provider).connect(signer);\r\n\r\n            let val = null;\r\n            if ((window as any).stockAddr == '0x0000000000000000000000000000000000002711') {\r\n                val = {value: stockAmountBN};\r\n            } else if ((window as any).moneyAddr == '0x0000000000000000000000000000000000002711') {\r\n                val = {value: moneyAmountBN};\r\n            }\r\n            console.log('val:', val);\r\n\r\n            await marketContract.createRobot(robotInfo, val)\r\n            alert(\"创建成功\");\r\n        }\r\n\r\n        async function getAllRobots(onlyForAddr:any) {\r\n            const provider = new ethers.providers.Web3Provider((window as any).ethereum)\r\n            const marketContract = new ethers.Contract((window as any).MarketAddress, CCABI, provider)\r\n            var allRobotsArr = await marketContract.getAllRobots()\r\n            // console.log('allRobotsArr:', allRobotsArr);\r\n            var allRobots = []\r\n            var twoPow32 = ethers.BigNumber.from(2).pow(32);\r\n            var twoPow96 = ethers.BigNumber.from(2).pow(96);\r\n            (window as any).RobotsMap = {}\r\n            for(var i=0; i<allRobotsArr.length; i+=2) {\r\n                var fullId = allRobotsArr[i]\r\n                // console.log('i:', i, 'fullId:', fullId);\r\n                var robot:any = {fullId: fullId.toHexString(), index: i/2}\r\n                robot.shortId = fullId.mod(twoPow96).toNumber()\r\n                robot.ownerAddr = ethers.utils.getAddress(fullId.div(twoPow96).toHexString())\r\n                if(onlyForAddr && onlyForAddr != robot.ownerAddr) {continue}\r\n                var info = allRobotsArr[i+1]\r\n                robot.lowPrice = ethers.utils.formatUnits(unpackPrice(info.mod(twoPow32))) as any *1.0\r\n                info = info.div(twoPow32)\r\n                robot.highPrice = ethers.utils.formatUnits(unpackPrice(info.mod(twoPow32))) as any*1.0\r\n                info = info.div(twoPow32)\r\n                robot.moneyAmountBN = info.mod(twoPow96)\r\n                robot.stockAmountBN = info.div(twoPow96)\r\n                robot.moneyAmount = ethers.utils.formatUnits(robot.moneyAmountBN, (window as any).moneyDecimals) as any*1.0;\r\n                robot.stockAmount = ethers.utils.formatUnits(robot.stockAmountBN, (window as any).stockDecimals) as any*1.0;\r\n                allRobots.push(robot);\r\n                (window as any).RobotsMap[robot.fullId] = robot\r\n            }\r\n            return allRobots\r\n        }\r\n\r\n        async function listMyRobots() {\r\n            const provider = new ethers.providers.Web3Provider((window as any).ethereum);\r\n            const signer = provider.getSigner();\r\n            const myAddr = await signer.getAddress();\r\n            \r\n            var robots = await getAllRobots(myAddr);\r\n            if(robots.length == 0) {\r\n                (document.getElementById(\"deleteDiv\")as any).innerHTML = \"<p>没有流动性存在</p>\"\r\n                return\r\n            }\r\n            var htmlStr = \"<p>\"\r\n            setDelList(robots);\r\n            // for(var i=0; i<robots.length; i++) {\r\n            //     htmlStr += `<b>Robot#${robots[i].shortId+1}</b>&nbsp;`\r\n            //     htmlStr += `<button onclick=\"DeleteRobot(${robots[i].index}, '${robots[i].fullId}')\">Delete</button>&nbsp;`\r\n            //     htmlStr += `Stock: ${robots[i].stockAmount}&nbsp;`\r\n            //     htmlStr += `Money: ${robots[i].moneyAmount}&nbsp;`\r\n            //     htmlStr += `HighPrice: ${robots[i].highPrice}&nbsp;`\r\n            //     htmlStr += `LowPrice: ${robots[i].lowPrice}</p>`\r\n            // }\r\n            // (document.getElementById(\"deleteDiv\")as any).innerHTML = htmlStr\r\n        }\r\n\r\n        async function listRobotsForBuying() {\r\n            var robots = await getAllRobots(\"\");\r\n            if(robots.length == 0) {\r\n                (document.getElementById(\"buyDiv\") as any).innerHTML += \"<p>Found no robots to buy stock from.</p>\"\r\n                return\r\n            }\r\n            robots.sort(function(a, b) {\r\n                return a.highPrice - b.highPrice;\r\n            });\r\n            var htmlStr = \"<p>\"\r\n            for(var i=0; i<robots.length; i++) {\r\n                htmlStr += `<b>Robot#${robots[i].shortId+1}</b>&nbsp;`\r\n                htmlStr += `<button onclick=\"Buy('${robots[i].fullId}')\">Buy From It</button>&nbsp;`\r\n                htmlStr += `Stock: ${robots[i].stockAmount}&nbsp;`\r\n                htmlStr += `Price: ${robots[i].highPrice}</p>`\r\n            }\r\n            (document.getElementById(\"buyDiv\") as any).innerHTML += htmlStr\r\n        }\r\n\r\n        const Sell=async (robotId:any)=>{\r\n            const provider = new ethers.providers.Web3Provider((window as any).ethereum);\r\n            const signer = provider.getSigner();\r\n            const myAddr = await signer.getAddress();\r\n\r\n            var stockDelta = (document.getElementById(\"stockDelta\") as any).value//*1.0\r\n            var stockDeltaBN = ethers.utils.parseUnits(stockDelta, (window as any).stockDecimals)\r\n            var robot = (window as any).RobotsMap[robotId]\r\n            var moneyDelta = stockDelta * robot.lowPrice\r\n            if(moneyDelta > robot.moneyAmount) {\r\n                    // (window as any).AlertDlg = new Attention.Alert({title: \"Robot has not enough money\",\r\n                    //     content: `The robot has only ${robot.moneyAmount} ${(window as any).moneySymbol}, but must pay you ${moneyDelta} ${(window as any).moneySymbol}`});\r\n                alert(\"The robot has only erro\");\r\n                return false;\r\n            }\r\n            checkAllowanceAndBalance((window as any).stockContract, (window as any).stockSymbol, myAddr, stockDelta, (window as any).stockDecimals)\r\n\r\n            let val = null;\r\n            if ((window as any).stockAddr == '0x0000000000000000000000000000000000002711') {\r\n                val = {value: stockDeltaBN};\r\n            }\r\n            console.log('val:', val);\r\n\r\n            const marketContract = new ethers.Contract((window as any).MarketAddress, CCABI, provider).connect(signer);\r\n            await marketContract.sellToRobot(robotId, stockDeltaBN, val)\r\n            \r\n        }\r\n\r\n        async function DeleteRobot(idx:any, id:any) {\r\n            const provider = new ethers.providers.Web3Provider((window as any).ethereum);\r\n            const signer = provider.getSigner();\r\n            const marketContract = new ethers.Contract((window as any).MarketAddress, CCABI, provider).connect(signer);\r\n\r\n            const myAddr = await signer.getAddress();\r\n            var robots = await getAllRobots(myAddr);\r\n            // console.log('robots:', robots);\r\n            // console.log('DeleteRobot, idx:', idx, 'id:', id);\r\n            await marketContract.deleteRobot(idx, id);\r\n            alert(\"删除成功\");\r\n        }\r\n\r\n        async function listRobotsForSelling() {\r\n            var robots:any = await getAllRobots(\"\");\r\n            if(robots.length == 0) {\r\n                (document.getElementById(\"sellDiv\") as any).innerHTML += \"<p>Found no robots to sell stock to.</p>\"\r\n                return\r\n            }\r\n            robots.sort(function(a:any, b:any) {\r\n                return b.lowPrice - a.lowPrice;\r\n            });\r\n            var htmlStr = \"<p>\"\r\n            setList(robots);\r\n            // for(var i=0; i<robots.length; i++) {\r\n            //     htmlStr += `<b>Robot#${robots[i].shortId+1}</b>&nbsp;`\r\n            //     htmlStr += `<button onClick=\"()=>{Sell('${robots[i].fullId}')}\">卖给他</button>&nbsp;`\r\n            //     htmlStr += `金钱: ${robots[i].moneyAmount}&nbsp;`\r\n            //     htmlStr += `价格: ${robots[i].lowPrice}</p>`\r\n            // }\r\n            // (document.getElementById(\"sellDiv\") as any).innerHTML += htmlStr\r\n        }\r\n\r\n        // async function Buy(robotId:any) {\r\n        //     const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n        //     const signer = provider.getSigner();\r\n        //     const myAddr = await signer.getAddress();\r\n\r\n        //     var moneyDelta = document.getElementById(\"moneyDelta\").value //*1.0\r\n        //     var moneyDeltaBN = ethers.utils.parseUnits(moneyDelta, window.moneyDecimals)\r\n        //     var robot = window.RobotsMap[robotId]\r\n\r\n        //     var stockDelta = moneyDelta / robot.highPrice\r\n        //     if(stockDelta > robot.stockAmount) {\r\n        //             window.AlertDlg = new Attention.Alert({title: \"Robot has not enough stock\",\r\n        //                 content: `The robot has only ${robot.stockAmount} ${window.stockSymbol}, but you want ${stockDelta} ${window.stockSymbol}`});\r\n        //         return false;\r\n        //     }\r\n        //     checkAllowanceAndBalance(window.moneyContract, window.moneySymbol, myAddr, moneyDelta, window.moneyDecimals)\r\n\r\n        //     let val = null;\r\n        //     if (window.moneyAddr == '0x0000000000000000000000000000000000002711') {\r\n        //         val = {value: moneyDeltaBN};\r\n        //     }\r\n        //     console.log('val:', val);\r\n\r\n        //     const marketContract = new ethers.Contract(window.MarketAddress, CCABI, provider).connect(signer);\r\n        //     await marketContract.buyFromRobot(robotId, moneyDeltaBN, val)\r\n        // }\r\n\r\n       \r\n\r\n        const handjiaoyiCreate=async()=>{\r\n\r\n            const provider = new ethers.providers.Web3Provider((window as any).ethereum);\r\n            const signer = provider.getSigner();\r\n            var factoryContract = new ethers.Contract(FactoryAddr, FactoryABI, provider).connect(signer);\r\n            await factoryContract.create((window as any).stockAddr, (window as any).moneyAddr, ImplAddr);\r\n            alert(\"交易对创建成功\");\r\n            (window as any).MarketAddress = await factoryContract.getAddress((window as any).stockAddr, (window as any).moneyAddr, ImplAddr);\r\n            (document.getElementById(\"marketAddress\") as any).innerText = (window as any).MarketAddress;\r\n         \r\n\r\n\r\n\r\n        setExists(true);\r\n        if(task == \"create\") {\r\n            (document.getElementById(\"createDiv\")as any).style.display = \"block\"\r\n            document.title = \"Create a robot\"\r\n        } else if(task == \"delete\") {\r\n            (document.getElementById(\"deleteDiv\")as any).style.display = \"block\"\r\n            document.title = \"Delete a robot\"\r\n            listMyRobots()\r\n        } else if(task == \"buy\") {\r\n            (document.getElementById(\"buyDiv\")as any).style.display = \"block\"\r\n            document.title = `Buy ${(window as any).stockSymbol} from a robot`\r\n            listRobotsForBuying()\r\n        } else if(task == \"sell\") {\r\n            (document.getElementById(\"sellDiv\")as any).style.display = \"block\"\r\n            document.title = `Sell ${(window as any).stockSymbol} to a robot`\r\n            listRobotsForSelling()\r\n        } else {\r\n                // window.AlertDlg = new Attention.Alert({title: \"Incorrect Task\",\r\n                // content: \"Incorrect Task: \"+task});\r\n                alert(\"Incorrect Task\");\r\n            return\r\n        } \r\n        }\r\n\r\n\r\n  return (\r\n    <StylePanel  display=\"flex\" flex={1}  flexDirection=\"column\">\r\n       \t{/* <p>This DApp can help you make trading robots. You create a trading robot by depositing stock tokens and money tokens. It will try to sell the stock at a high price and buy the stock at a low price, helping you earn more tokens. You can delete the trading robot anytime and get back your tokens.</p> */}\r\n        <Box>\r\n            <Box display=\"flex\" flexDirection=\"column\">\r\n                {/* <p>What is the stock token?<br/>\r\n                    <input className=\"input is-info is-small\" type=\"text\" name=\"stock\"\r\n                    placeholder=\"Please enter an SEP20 token's address\"/></p>\r\n\r\n                    <p>What is the money token?<br/>\r\n                    <input className=\"input is-info is-small\" type=\"text\" name=\"money\"\r\n                    placeholder=\"Please enter an SEP20 token's address\"/></p>\r\n\r\n                    <p>What do you want to do?</p> */}\r\n                    {/* <label className=\"radio\"><input type=\"radio\" name=\"task\" value=\"create\" checked/>&nbsp;Create a robot</label><br/>\r\n                    <label className=\"radio\"><input type=\"radio\" name=\"task\" value=\"delete\"/>&nbsp;Delete my robots</label><br/>\r\n                    <label className=\"radio\"><input type=\"radio\" name=\"task\" value=\"buy\"/>&nbsp;Buy from robots created by others</label><br/>\r\n                    <label className=\"radio\"><input type=\"radio\" name=\"task\" value=\"sell\"/>&nbsp;Sell to robots created by others</label><br/>\r\n                    */}\r\n                    <Box display={'flex'}>\r\n                        <FormControl component=\"fieldset\">\r\n                        <FormLabel component=\"legend\">选择</FormLabel>\r\n                        <RadioGroup row aria-label=\"gender\" name=\"gender1\" value={task} onChange={handleChange}>\r\n                            <FormControlLabel value=\"create\" control={<Radio />} label=\"创建流动性\" />\r\n                            <FormControlLabel value=\"delete\" control={<Radio />} label=\"删除流动性\" />\r\n                            <FormControlLabel value=\"sell\"  control={<Radio />} label=\"卖给流动性\" />\r\n                            <FormControlLabel value=\"buy\" control={<Radio />} label=\"买入BEE\" />\r\n                        </RadioGroup>\r\n                        </FormControl>\r\n                    </Box>\r\n              \r\n                    <Box display={'flex'} width=\"200px\">\r\n                      <Button variant=\"contained\" onClick={init} color=\"secondary\">\r\n                        开始\r\n                      </Button>\r\n                      {/* <input type=\"submit\" width={'200px'} value=\"GO!\" onClick={init}/> */}\r\n                    </Box>\r\n                  \r\n\r\n            </Box>\r\n                    \r\n            <Box mt={3}>\r\n                \r\n                    <p>你的地址:<br/><u id=\"signerAddress\"></u></p>\r\n                    <p>市场地址:<br/><u id=\"marketAddress\"></u></p>\r\n                    <p>现货地址:&nbsp;&nbsp;<u id=\"stockURL\"></u> ( You have: <span id=\"stockBal\"></span> )</p>\r\n                    <p>金钱地址:&nbsp;&nbsp;<u id=\"moneyURL\"></u> ( You have: <span id=\"moneyBal\"></span> )</p>\r\n                     \r\n                     {!exists?<Button variant=\"contained\" onClick={handjiaoyiCreate} color=\"secondary\">\r\n                        创建交易对\r\n                      </Button>:\"\"\r\n                     }\r\n                     \r\n\r\n\r\n                    <div id=\"createDiv\" style={{\"display\": \"none\"}}>\r\n                        <p>将存入多少库存?<br/>\r\n                        <input className=\"input is-info is-small\" value={0} type=\"number\" step=\"any\" id=\"stockAmount\"/></p>\r\n\r\n                        <p>以高价出售股票:<br/>\r\n                        <input className=\"input is-info is-small\" value={99999999} type=\"number\" step=\"any\" id=\"highPrice\"/></p>\r\n\r\n\r\n                        <p>要存多少钱?<br/>\r\n                        <input className=\"input is-info is-small\" type=\"number\" step=\"any\" id=\"moneyAmount\"/></p>\r\n\r\n                        <p>低价买入股票(1BEE价值多少BCH,填入BCH数量):<br/>\r\n                        <input className=\"input is-info is-small\" type=\"number\" step=\"any\" id=\"lowPrice\"/></p>\r\n\r\n                           \r\n                        <br/>\r\n                     \r\n                         {\r\n                            !isApprove_1?\r\n                              <Button variant=\"contained\" onClick={approve1Fnc} color=\"secondary\">\r\n                               授权BEE给交易对合约\r\n                              </Button>\r\n                             :\r\n                             <Button variant=\"contained\" onClick={CreateRobot} color=\"secondary\">创建流动性</Button>\r\n\r\n\r\n                         }\r\n\r\n                    </div>\r\n\r\n                    <div id=\"deleteDiv\" style={{\"display\": \"none\"}}>\r\n\r\n                      {dellist.map((robots:any)=>(\r\n                            <>\r\n                             <Box>Robot#{robots.shortId+1}</Box>\r\n                             <Box>Stock: {robots.stockAmount}</Box>\r\n                             <Box>Money: {robots.moneyAmount}</Box>\r\n                             <Box>HighPrice: {robots.highPrice}</Box>\r\n                             <Box>LowPrice: {robots.lowPrice}</Box>\r\n                             <Button variant=\"contained\" color=\"secondary\" onClick={()=>{DeleteRobot(robots.index,`${robots.fullId}`)}}>Delete</Button>\r\n\r\n                            </>\r\n                        ))}\r\n                    </div>\r\n\r\n                    <div id=\"buyDiv\" style={{\"display\": \"none\"}}>\r\n                        <p>你想花多少钱?<br/>\r\n                        <input className=\"input is-info is-small\" type=\"number\" step=\"any\" id=\"moneyDelta\"/></p><br/>\r\n                    </div>\r\n\r\n                    <div id=\"sellDiv\" style={{\"display\": \"none\"}}>\r\n                        <p>你想卖多少股票?<br/>\r\n                        <input className=\"input is-info is-small\" type=\"number\" step=\"any\" id=\"stockDelta\"/></p><br/>\r\n                        {/* // for(var i=0; i<robots.length; i++) {\r\n            //     htmlStr += `<b>Robot#${robots[i].shortId+1}</b>&nbsp;`\r\n            //     htmlStr += `<button onClick=\"()=>{Sell('${robots[i].fullId}')}\">卖给他</button>&nbsp;`\r\n            //     htmlStr += `金钱: ${robots[i].moneyAmount}&nbsp;`\r\n            //     htmlStr += `价格: ${robots[i].lowPrice}</p>`\r\n            // } */}\r\n                        {list.map((robots:any)=>(\r\n                            <>\r\n                             <Box>Robot#{robots.shortId+1}</Box>\r\n                             <Box>金钱: {robots.moneyAmount}</Box>\r\n                             <Box>价格: {robots.lowPrice}</Box>\r\n                             <Button variant=\"contained\" color=\"secondary\" onClick={()=>{Sell(robots.fullId)}}>卖给他</Button>\r\n\r\n                            </>\r\n                        ))}\r\n                    </div>\r\n\r\n\r\n            </Box> \r\n        </Box>\r\n           \r\n    </StylePanel>\r\n  );\r\n};\r\n\r\nexport default Liquidity;\r\n","import { ethers } from \"ethers\"\r\n\r\nexport function packPrice(price:any) {\r\n    var effBits = 1\r\n    while(!price.mask(effBits).eq(price)) {\r\n        effBits += 1\r\n    }\r\n    var twoPow24 = ethers.BigNumber.from(2).pow(24)\r\n    if(effBits <= 25) {\r\n        return price\r\n    }\r\n    var shift = effBits-25\r\n    var shiftBN = ethers.BigNumber.from(2).pow(shift)\r\n    var low24 = price.div(shiftBN).sub(twoPow24)\r\n    var high8 = ethers.BigNumber.from(shift).add(1).mul(twoPow24)\r\n    return high8.add(low24)\r\n}\r\n\r\nexport function unpackPrice(packed:any) {\r\n    var twoPow24 = ethers.BigNumber.from(2).pow(24)\r\n    var low24 = packed.mod(twoPow24)\r\n    var shift = packed.div(twoPow24)\r\n    if(shift.isZero()) {\r\n        return low24\r\n    }\r\n    var shiftBN = ethers.BigNumber.from(2).pow(shift.sub(1))\r\n    return low24.add(twoPow24).mul(shiftBN)\r\n}","import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport const roladPage = createAction<{isRefresh:boolean}>('Exchange/roladPage')\r\nexport const selectDexs = createAction<{dexs:Array<string> }>('griDexSwap/selectDex')\r\n\r\n","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport BigNumber from 'bignumber.js';\r\nimport { useCallback, useEffect, useState } from 'react'\r\nimport { useBeeContract, useIceContract, useIceContract_static, useJigsawPuzzle } from '../../../hooks/useContract'\r\nimport useWeb3 from '../../../hooks/useWeb3';\r\nimport { useIceState } from '../../../state/Ice/hooks';\r\nimport { getBchAddress, getBeeTokenAddress, getfactorytAddress, getIceOrWaterAddress, getimptAddress, getJigsawPuzzleAbiAddress } from '../../../utils/addressHelpers';\r\nimport Web3 from 'web3';\r\nimport { ethers } from 'ethers';\r\nimport { unpackPrice } from '../../../utils/robo';\r\nimport factoryContractAbi from '../../../config/abi/factoryContract.json';\r\nimport RobotAbi from '../../../config/abi/Robot.json';\r\n\r\nimport { AbiItem } from 'web3-utils';\r\nimport { useExchangeState } from '../../../state/Exchange/hooks';\r\n\r\nexport  function  useOwnerExists():{\r\n    ownerState:{iceOwner:{owner:string,amount:string,idx:number},waterOwner:{owner:string,amount:string,idx:number}},\r\n    boxId:number,\r\n    boxInfo:{iceAmount:string,waterAmount:string,dueTime:string,result:string}\r\n    totalAddr:number\r\n    }{\r\n  const {account} = useWallet();\r\n  const [ownerState, setOwnerState] = useState<any>({});\r\n  const [boxId, setBoxId] = useState<number>(-1);\r\n  const [boxInfo, setBoxInfo] = useState<any>({});\r\n  const [totalAddr, setTotalAddr] = useState<number>(-1);\r\n\r\n  const {pageRefreshState}=useIceState();\r\n  const iceContract=useIceContract();\r\n\r\n  useEffect(() => {\r\n    const fetch = async () => {\r\n        console.log(\"进来一次\")\r\n        try {\r\n          const res=await iceContract.methods.getBoxCount().call();\r\n          setBoxId(parseInt(res)-1);\r\n          const boxitem=await iceContract.methods.boxList(parseInt(res)-1).call();\r\n          setBoxInfo(boxitem);\r\n          //获取地址是否参加押注\r\n          const cont=await iceContract.methods.getEntryLists(parseInt(res)-1).call();\r\n          const iceIdx= cont.iceList.findIndex((t:any)=>t.owner==account);\r\n          const waterIdx= cont.waterList.findIndex((t:any)=>t.owner==account);\r\n  \r\n          let resItem:any={};\r\n          let waterItem:any={};\r\n          if(iceIdx!=-1){\r\n            resItem=JSON.parse(JSON.stringify(cont.iceList[iceIdx]));\r\n            resItem['idx']=iceIdx;\r\n            resItem['amount']=cont.iceList[iceIdx].amount;\r\n            resItem['owner']=cont.iceList[iceIdx].owner;\r\n          }\r\n          if(waterIdx!=-1){\r\n            waterItem=JSON.parse(JSON.stringify(cont.waterList[waterIdx]));\r\n            waterItem['idx']=waterIdx;\r\n            waterItem['amount']=cont.waterList[waterIdx].amount;\r\n            waterItem['owner']=cont.waterList[waterIdx].owner;\r\n          }\r\n\r\n          setOwnerState({\r\n              iceOwner:resItem,\r\n              waterOwner:waterItem\r\n          })\r\n          // 计算所有地址\r\n          const totalArray=cont.iceList.concat(cont.waterList);\r\n          const address=totalArray.map((t:any)=>t.owner);\r\n          let addrs:Array<any>=Array.from(new Set(address));\r\n          setTotalAddr(addrs.length);\r\n        } catch (error) {\r\n          \r\n        }\r\n        \r\n    }\r\n\r\n    if (pageRefreshState || (boxId==-1&&account)){fetch()} ;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [pageRefreshState,setOwnerState,setBoxId,setBoxInfo,setTotalAddr,boxId,account])\r\n\r\n  return {ownerState,boxId,boxInfo,totalAddr}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport  function useBeeApprove(markAddress:string):{isApprove:boolean}{\r\n  const [isApprove, setAllowanceState] = useState<boolean>(false);\r\n  const beeContract=useBeeContract();\r\n  const {account} = useWallet();\r\n  const {pageRefreshState}=useExchangeState();\r\n  useEffect(() => {\r\n    const fetch = async () => {\r\n      try {\r\n          const allowance= await beeContract.methods.allowance(account,markAddress).call();\r\n          const tokenAllowedStatus = allowance && !new BigNumber(allowance).isLessThan(new BigNumber(10).pow(77))\r\n          setAllowanceState(tokenAllowedStatus)\r\n      } catch (error) {}\r\n\r\n    }\r\n\r\n    if((account||pageRefreshState) && markAddress!=\"\"){\r\n       fetch()\r\n    } \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [setAllowanceState,account,markAddress,pageRefreshState])\r\n\r\n  return {isApprove}\r\n}\r\n\r\n\r\n\r\n\r\nexport  function useAllRobots():{list:Array<any>,markAddress:string} {\r\n  const [list, setList] = useState<any>([]);\r\n  const [markAddress, setMarkAddress] = useState<any>(\"\");\r\n  const {account} = useWallet();\r\n  const web3 = useWeb3();\r\n  useEffect(()=>{\r\n     const feth=async ()=>{\r\n      // var factoryContract = new ethers.Contract(FactoryAddr, FactoryABI, provider).connect(signer)\r\n      // window.MarketAddress = await factoryContract.getAddress(stockAddr, moneyAddr, ImplAddr)\r\n      try {\r\n        const factoryContract=new web3.eth.Contract((factoryContractAbi as unknown) as AbiItem,getfactorytAddress());\r\n        const MarketAddress = await factoryContract.methods.getAddress(getBeeTokenAddress(), getBchAddress(), getimptAddress()).call();\r\n        const CCABI = [\r\n          \"function getAllRobots() view public returns (uint[] memory robotsIdAndInfo)\",\r\n          \"function createRobot(uint robotInfo) external payable\",\r\n          \"function deleteRobot(uint index, uint robotId) external\",\r\n          \"function sellToRobot(uint robotId, uint stockDelta) external payable\",\r\n          \"function buyFromRobot(uint robotId, uint moneyDelta) external payable\",\r\n        ]\r\n        const provider = new ethers.providers.Web3Provider((window as any).ethereum)\r\n        const marketContract = new ethers.Contract(MarketAddress, CCABI, provider)\r\n        var allRobotsArr = await marketContract.getAllRobots()\r\n        // const marketContract=new web3.eth.Contract((RobotAbi as unknown) as AbiItem,MarketAddress);\r\n        // var allRobotsArr = await marketContract.methods.getAllRobots().call();\r\n        // console.log('allRobotsArr:', allRobotsArr);\r\n        var allRobots = []\r\n        var twoPow32 = ethers.BigNumber.from(2).pow(32);\r\n        var twoPow96 = ethers.BigNumber.from(2).pow(96);\r\n        (window as any).RobotsMap = {}\r\n        for(var i=0; i<allRobotsArr.length; i+=2) {\r\n            var fullId = allRobotsArr[i]\r\n            // console.log('i:', i, 'fullId:', fullId);\r\n            var robot:any = {fullId: fullId.toHexString(), index: i/2}\r\n            robot.shortId = fullId.mod(twoPow96).toNumber()\r\n            robot.ownerAddr = ethers.utils.getAddress(fullId.div(twoPow96).toHexString())\r\n            // if(onlyForAddr && onlyForAddr != robot.ownerAddr) {continue}\r\n            var info = allRobotsArr[i+1]\r\n            robot.lowPrice = ethers.utils.formatUnits(unpackPrice(info.mod(twoPow32))) as any *1.0\r\n            info = info.div(twoPow32)\r\n            robot.highPrice = ethers.utils.formatUnits(unpackPrice(info.mod(twoPow32))) as any*1.0\r\n            info = info.div(twoPow32)\r\n            robot.moneyAmountBN = info.mod(twoPow96)\r\n            robot.stockAmountBN = info.div(twoPow96)\r\n            robot.moneyAmount = ethers.utils.formatUnits(robot.moneyAmountBN, (window as any).moneyDecimals) as any*1.0;\r\n            robot.stockAmount = ethers.utils.formatUnits(robot.stockAmountBN, (window as any).stockDecimals) as any*1.0;\r\n            allRobots.push(robot);\r\n            (window as any).RobotsMap[robot.fullId] = robot\r\n        }\r\n        setList(allRobots);\r\n        setMarkAddress(MarketAddress);\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n      \r\n     }\r\n     if(list.length==0 && account!=\"\"){\r\n        feth();\r\n     }\r\n  },[list,setList,setMarkAddress,account])\r\n  return {list,markAddress}\r\n}","import { useCallback } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport { roladPage } from './actions'\r\n\r\nexport function useExchangeState(): AppState['Exchange'] {\r\n  return useSelector<AppState, AppState['Exchange']>((state) => state.Exchange)\r\n}\r\n\r\nexport function useExchangeHandlers(): {\r\n  onIsRefresh:(isRefresh:boolean)=>void\r\n} {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const onIsRefresh = useCallback((isRefresh:boolean) => {\r\n    dispatch(roladPage({isRefresh}))\r\n  }, [dispatch])\r\n\r\n  return { onIsRefresh }\r\n}\r\n","import BigNumber from \"bignumber.js\"\r\n\r\nexport default function toPrecision(amount:BigNumber,num:number): string {\r\n    const BN = BigNumber.clone()\r\n    // 重新制定小数位数，不使用科学计数法\r\n    BN.config({EXPONENTIAL_AT:[-30,30]})\r\n    return (new BN(amount.toString()).sd(num,BN.ROUND_HALF_UP)).toString()\r\n}\r\n\r\nexport  function toPrecisionDown(amount:BigNumber,num:number): string {\r\n    const BN = BigNumber.clone()\r\n    // 重新制定小数位数，不使用科学计数法\r\n    BN.config({EXPONENTIAL_AT:[-30,30]})\r\n    return (new BN(amount.toString()).sd(num,BN.ROUND_DOWN)).toString()\r\n}\r\n\r\nexport  function toFormatPrice(amount:BigNumber,validnum:number,fixNum?:number): string {\r\n    if(amount.gt(1)){\r\n       return amount.toFixed(fixNum||2)  \r\n    }\r\n    const BN = BigNumber.clone()\r\n    // 重新制定小数位数，不使用科学计数法\r\n    BN.config({EXPONENTIAL_AT:[-30,30]})\r\n    return (new BN(amount.toString()).sd(validnum,BN.ROUND_DOWN)).toString()\r\n}","import { Box, Button } from \"@material-ui/core\";\r\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useMatchBreakpoints from \"../../hooks/useMatchBreakpoints\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useWallet } from \"@binance-chain/bsc-use-wallet\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport TipModael from \"../../component/TipModael\";\r\nimport { getBeeTokenAddress, getIceOrWaterAddress } from \"../../utils/addressHelpers\";\r\nimport useTokenApprove from \"../../hooks/useApprove\";\r\nimport { useBeeContract } from \"../../hooks/useContract\";\r\nimport { useIceHandlers, useIceState } from \"../../state/Ice/hooks\";\r\nimport ConnectWallt from \"../home/ConnectWall\";\r\nimport { useHandFuc, useIceApprove, useOwnerExists } from \"../IceWater/hooks/useIce\";\r\nimport { useAllRobots, useBeeApprove } from \"./hooks/useSwap\";\r\nimport { toFormatPrice } from \"../../utils/getPrecision\";\r\nimport { ethers } from \"ethers\";\r\nimport RobotAbi from '../../config/abi/Robot.json';\r\nimport useWeb3 from \"../../hooks/useWeb3\";\r\nimport { AbiItem } from 'web3-utils';\r\nimport { useExchangeHandlers } from \"../../state/Exchange/hooks\";\r\n\r\nconst StylePanel=styled(Box)<{state: number }>`\r\n     align-items: center;\r\n     @media (max-width: 750px) {\r\n       font-size: 0.16rem;\r\n     }\r\n     opacity: ${(props) => (props.state==1?1:0.2)};\r\n     pointer-events: ${(props) => (props.state==1 ? \"initial\" : \"none\")};\r\n   \r\n\r\n`\r\n\r\nconst RightPanel=styled(Box)<{ isMobile?: boolean }>`\r\n    /* margin-left:243px; */\r\n    /* padding-right:${(props) => (props.isMobile?'30px':'0px')}; */\r\n    position:${(props) => (props.isMobile?'none':'absolute')};\r\n    right: ${(props) => (props.isMobile?'24px':'3rem')};\r\n`\r\nconst Flex=styled(Box)`\r\n     display: flex;\r\n`\r\n\r\nconst IceCenter=styled(Flex)<{ isMobile?: number }>`\r\n        /* width: 1600px; */\r\n      /* height: 406px; */\r\n      background-image: ${(props) => (props.isMobile==1?\"url('/image/750/backExchange.png')\":\"url('/image/backExchange.png')\")};\r\n      background-size: 100% 100%;\r\n      /* background: linear-gradient(143deg,rgba(53,248,254,0.48) 5%, rgba(63,164,255,0.34) 99%); */\r\n      /* border: 2px dashed #ffffff; */\r\n      border-radius: 8px;\r\n      @media (max-width: 750px) {\r\n        margin-top: 0.22rem;\r\n        padding-bottom:0.38rem;\r\n      }\r\n      @media (min-width:750px){\r\n        margin-top: 30px;\r\n        padding-bottom:20px;\r\n      }\r\n`\r\n\r\n\r\nconst StyleIcon=styled.img`\r\n      @media (max-width: 750px) {\r\n        width: 0.18rem;\r\n        height: 0.18rem;\r\n      }\r\n      @media (min-width:750px){\r\n        width: 40px;\r\n        height: 40px;\r\n      }\r\n`\r\nconst BoxImg=styled.img`\r\n      @media (max-width: 750px) {\r\n        width: 1.85rem;\r\n        height: 1.6rem;\r\n        margin-top:0.28rem;\r\n      }\r\n      @media (min-width:750px){\r\n        width: 417px;\r\n        height: 350px;\r\n        margin-top:48px;\r\n      }\r\n`\r\n\r\nconst DesPanel=styled(Flex)`\r\n      @media (max-width: 750px) {\r\n        padding:0.18rem 0px 0px 0.18rem;\r\n        font-size: 0.18rem;\r\n      }\r\n      @media (min-width:750px){\r\n        padding:40px 0px 0px 40px;\r\n        font-size: 20px;\r\n      }\r\n`\r\nconst DesVale=styled(Flex)`\r\n      color: #74DD54;\r\n      @media (max-width: 750px) {\r\n        font-size: 0.13rem;\r\n        \r\n      }\r\n      @media (min-width:750px){\r\n        font-size: 40px;\r\n      }\r\n`\r\nconst StyleTextField=styled.input`\r\n        border: 1px solid #b1b1b1;\r\n        border-radius: 10px;\r\n        margin-top: 20px;\r\n        :focus-visible{\r\n            border: 0;\r\n            outline:0;\r\n        }\r\n        width: 100%;\r\n        @media (max-width: 750px) {\r\n          padding: 0.12rem;\r\n        }\r\n        @media (min-width:750px){\r\n          padding: 18px;\r\n        }\r\n`\r\n\r\n\r\n\r\nconst STyleTitle=styled(Flex)`\r\n      @media (max-width: 750px) {\r\n         padding: 0px 0.12rem 0.05rem 0.12rem;\r\n         font-size: 0.24rem;\r\n         /* height: 0.24rem; */\r\n         margin-top:-0.15rem;\r\n      }\r\n      @media (min-width:750px){\r\n         padding: 0px 24px 0px 24px;\r\n         height: 48px;\r\n         font-size: 32px;\r\n         margin-top:-15px;\r\n      }\r\n      white-space: nowrap;\r\n      color:#fff;\r\n      background: #2688a5;\r\n      border: 2px dashed #ffffff;\r\n      border-radius: 8px;\r\n      justify-content: 'center';\r\n      align-items: center;\r\n      \r\n`\r\n\r\nconst StyleBtnEnaring=styled(Flex)`\r\n      @media (max-width: 750px) {\r\n        padding:0.05rem 0.2rem 0.05rem 0.2rem;\r\n        font-size: 0.18rem;\r\n      }\r\n      @media (min-width:750px){\r\n        padding:5px 20px 5px 20px ;\r\n        font-size: 20px;\r\n      }\r\n      color:#fff;\r\n      border-radius: 4px;\r\n      background: linear-gradient(358deg,#FF720A 5%,#FFD040 99%);  \r\n      cursor: pointer;\r\n      :hover{\r\n        background: linear-gradient(358deg,#FFD040 5%,#FF720A 99%);\r\n      }\r\n`\r\nconst StyleBtn=styled(Flex)`\r\n      @media (max-width: 750px) {\r\n        padding:0.1rem 0.46rem 0.1rem 0.46rem;\r\n        font-size: 0.18rem;\r\n      }\r\n      @media (min-width:750px){\r\n        padding:10px 65px 10px 65px ;\r\n        font-size: 20px;\r\n      }\r\n      color:#fff;\r\n      border-radius: 4px;\r\n      background: linear-gradient(358deg,#FF720A 5%,#FFD040 99%);  \r\n      cursor: pointer;\r\n      :hover{\r\n        background: linear-gradient(358deg,#FFD040 5%,#FF720A 99%);\r\n      }\r\n`\r\n\r\nconst TimeBox=styled(Box)<{isMobile:boolean}>`\r\n        @media (max-width: 750px) {\r\n            padding:0.05rem 0.06rem 0.05rem 0.06rem;\r\n        }\r\n        @media (min-width:750px){\r\n           padding:6px 12px 6px 12px;\r\n        }\r\n    background-color:black;\r\n    /* padding: ${(props) => (props.isMobile?'0.05rem 0.06rem 0.05rem 0.06rem':'6px 12px 6px 12px')} ; */\r\n    font-size:${(props) => (props.isMobile?'0.18rem':'32px')};\r\n    color: #6FBA0F;\r\n    border-radius: 5px;\r\n    /* border:1px dashed #fff; */\r\n`\r\n\r\n\r\n\r\nconst StyleSpan=styled(Flex)`\r\n      @media (max-width: 750px) {\r\n        padding-top: 0.46rem;\r\n        .meoney{\r\n            font-size: 0.64rem;\r\n            color:#00E945;\r\n        }\r\n        .unit{\r\n            font-size: 0.32rem;\r\n            color:#F6FFF9;\r\n            margin-left: 0.21rem;\r\n        }\r\n      }\r\n      @media (min-width:750px){\r\n        padding-top: 16px;\r\n        .meoney{\r\n            font-size: 64px;\r\n            color:#00E945;\r\n        }\r\n        .unit{\r\n            font-size: 32px;\r\n            color:#F6FFF9;\r\n            margin-left: 21px;\r\n        }\r\n      }\r\n     \r\n`\r\nconst StyleExchange=styled(Flex)`\r\n      @media (max-width: 750px) {\r\n        width: 0.4rem;\r\n        height: 0.4rem;\r\n      }\r\n      @media (min-width:750px){\r\n        width: 40px;\r\n        height: 40px;\r\n      }\r\n     \r\n`\r\n\r\n\r\nconst Swap: React.FC = () => {\r\n  const {account} = useWallet();\r\n  const { isDesktop, isMobile } = useMatchBreakpoints();\r\n  const { t } = useTranslation();\r\n\r\n  // stock 精度\r\n  const stockDecimals=18;\r\n  const {list,markAddress}=useAllRobots();\r\n\r\n  const {onIsRefresh}=useExchangeHandlers();\r\n//   const {pageRefreshState}=useExchangeState();\r\n  // 授权\r\n  const tokenContract=useBeeContract();\r\n  const {isApprove}=useBeeApprove(markAddress);\r\n  const onApprove=useTokenApprove(tokenContract,markAddress);\r\n\r\n  //提交操作\r\n  const [amount,setAmount]=useState(\"\");\r\n  const [bchAmount,setBchAmount]=useState(\"0\");\r\n  //hand state\r\n  const [shopOpen,setShopOpen]=useState(false);\r\n  const [shopErro,setShopErro]=useState<any>(\"\");\r\n  const [pedding,setPedding]=useState<any>(false);\r\n  const [successDes,setSuccessDes]=useState<any>(\"\");\r\n  const web3 = useWeb3();\r\n\r\n\r\n \r\n\r\n  const roladList=()=>{\r\n    onIsRefresh(true)\r\n    setTimeout(()=>{onIsRefresh(false)},1000)\r\n  }\r\n \r\n  \r\n  // 授权\r\n  const handleApprove = useCallback(async () => {\r\n      try {\r\n          const txHash = await onApprove();\r\n          roladList();\r\n      } catch (e) {\r\n          console.error(e)\r\n      }\r\n  }, [onApprove])\r\n\r\n\r\n\r\n\r\n\r\n  const getBtn=()=>{\r\n\r\n    if(pedding){\r\n       return  <StyleBtn style={{background:\"rgb(197 188 188 / 67%)\"}} >{t(\"EXchange pedding\")}</StyleBtn>\r\n    }\r\n    if(isApprove){\r\n      return  <StyleBtn onClick={Sell}>{t(\"Confirm EXchange\")}</StyleBtn>\r\n    }else{\r\n      return  <StyleBtn onClick={handleApprove}>{t(\"approve\")}</StyleBtn>\r\n    }\r\n  }\r\n\r\n\r\n  const Sell=async ()=>{\r\n    \r\n    const robotId=list[0].fullId;\r\n    const provider = new ethers.providers.Web3Provider((window as any).ethereum);\r\n    var stockDelta = amount;\r\n    var stockDeltaBN = ethers.utils.parseUnits(stockDelta, stockDecimals)\r\n    var robot = (window as any).RobotsMap[robotId]\r\n   \r\n    let val = null;\r\n    if ((window as any).stockAddr == '0x0000000000000000000000000000000000002711') {\r\n        val = {value: stockDeltaBN};\r\n    }\r\n    console.log('val:', val);\r\n\r\n \r\n    const marketContract=new web3.eth.Contract((RobotAbi as unknown) as AbiItem,markAddress);\r\n    try {\r\n        setSuccessDes(\"For successful\");\r\n        setPedding(true);\r\n        setShopErro(\"\")\r\n        const res=await marketContract.methods.sellToRobot(robotId, stockDeltaBN).send({from:account});\r\n        console.log(res)\r\n        setShopOpen(true);\r\n    } catch (error:any) {\r\n        console.log(error)\r\n        setShopErro(error.message?error.message:error.toString())\r\n        setShopOpen(true);\r\n    }\r\n    setPedding(false);\r\n    \r\n}\r\n\r\n  return (<>\r\n  \r\n  {!account?<Box display=\"flex\"  flex={1}>\r\n          <Flex flex={1} alignItems=\"center\" justifyContent=\"center\">\r\n            <Flex >\r\n                <ConnectWallt></ConnectWallt>\r\n            </Flex>\r\n          </Flex>\r\n         </Box>\r\n      :\r\n      <StylePanel state={list.length>0?1:0}  display=\"flex\" flex={1}  alignItems=\"center\">\r\n    \r\n      <Flex display=\"flex\" flexDirection=\"column\" flex={1} >\r\n         \r\n\r\n          <IceCenter isMobile={isDesktop?0:1} alignItems=\"center\" flexDirection=\"column\">\r\n           <Flex >\r\n               <STyleTitle>{t(\"Currency Exchange\")}</STyleTitle>\r\n          \r\n           </Flex>\r\n           <Flex width={isDesktop?\"50%\":\"5.4rem\"}>\r\n               <StyleTextField value={amount} onChange={(e)=>{\r\n                 setAmount(e.target.value);\r\n                 setBchAmount(new BigNumber(e.target.value||0).times(new BigNumber(list[0].lowPrice)).toFixed());\r\n                 //  setAmount(e.target.value);\r\n               }} \r\n               placeholder={t(\"Input the number of BEE coin...\")}/>\r\n           </Flex>\r\n\r\n           <StyleExchange mt={isDesktop?\"22px\":\"0.69rem\"}>\r\n             <img src=\"./image/exchange.png\"  alt=\"\" width='100%'/>\r\n           </StyleExchange>\r\n         \r\n           <StyleSpan alignItems=\"baseline\">\r\n            <Flex className=\"meoney\">{toFormatPrice(new BigNumber(bchAmount),2)}</Flex>\r\n            <Flex className=\"unit\" component='span'>BCH</Flex>\r\n           </StyleSpan>\r\n          \r\n           <Flex mt={isDesktop?5:'0.8rem'}>\r\n            {getBtn()}\r\n           </Flex>\r\n\r\n          </IceCenter>\r\n\r\n      </Flex>\r\n\r\n      {/* //modal */}\r\n        <TipModael\r\n        successDes={successDes} \r\n        erro={shopErro} \r\n        isopen={shopOpen}\r\n        setOpens={setShopOpen}>\r\n        </TipModael>\r\n      \r\n    </StylePanel>\r\n\r\n\r\n      }\r\n    \r\n  </>\r\n          \r\n    \r\n  );\r\n};\r\n\r\nexport default Swap;\r\n\r\n\r\n","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { BottomNavigation, BottomNavigationAction, Box, Button, CircularProgress, Paper, Tab, Tabs, TextField, Typography } from '@material-ui/core';\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Web3 from 'web3';\r\nimport { AbiItem } from 'web3-utils'\r\nimport LucyDrawAbi from '../../../config/abi/LucyDraw.json';\r\nimport BeeTokenByteCode from '../../../config/bytecode/BeeTokenByteCode.json';\r\n\r\nimport nftAbi from '../../../config/abi/nft.json';\r\nimport addresses from '../../../config/contract/nft';\r\nimport Header from '../header';\r\nimport DoneAllSharpIcon from '@material-ui/icons/DoneAllSharp';\r\nimport useWeb3 from '../../../hooks/useWeb3';\r\nimport BigNumber from 'bignumber.js';\r\nimport { getDrawAddress, getIceOrWaterAddress } from '../../../utils/addressHelpers';\r\nimport { ethers } from 'ethers';\r\nimport { useDrawApprove } from './hooks/useDraw';\r\nimport { useBeeContract } from '../../../hooks/useContract';\r\nimport useTokenApprove from '../../../hooks/useApprove';\r\nimport { useDrawBoxHandlers } from '../../../state/DrawBox/hooks';\r\nimport moment from \"moment\";\r\n\r\n\r\nconst FlexPanel = styled(Box)`\r\n  display:flex;\r\n`\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: any;\r\n    value: any;\r\n}\r\n\r\n\r\nconst CreateBox: React.FC =()=>{\r\n    const {account} = useWallet();\r\n    const web3 = useWeb3();\r\n    const [pedding,setPedding] = useState(false);\r\n    const [contractAddr,setContractAddr] = useState(\"\");\r\n    const [LuckyDraw,setLuckyDraw] = useState({\r\n        prizes:\"1\",\r\n        decimals:18,\r\n        price:\"\",\r\n        totalCount:\"\",\r\n        soldCount:0\r\n    });\r\n\r\n    const [times,setTimes] = useState(\"\");\r\n    const [hash,setHash] = useState(\"\");\r\n    const [urlId,setUrlId] = useState(\"\");\r\n    const [greenwayTime,setGreenwayTime] = useState(\"\");\r\n\r\n    const createHand=async ()=>{\r\n          if(parseInt(LuckyDraw.totalCount)>50){\r\n             alert(\"总数必须小于50个/The total must be less than 50\")\r\n             return;\r\n          }\r\n         \r\n          try {\r\n            // console.log(new BigNumber(\"1268890959302052602856582680581\").div(new BigNumber(0)))\r\n            let ret:any=LuckyDraw.prizes.split(\"|\");\r\n            let prizesRes:any=\"\";\r\n            if(ret.length<2){\r\n                alert(\"签数必须大于2个/The number of signatures must be greater than two\")\r\n                return;\r\n            }\r\n\r\n            setPedding(true);\r\n            ret=ret.filter((t:any)=>t!=\"\");\r\n            prizesRes=new BigNumber(0);\r\n            for (var i = 0; i<ret.length; i++) {\r\n                let item=ret[i].split(\",\")\r\n                item=item.filter((t:any)=>t!=\"\");\r\n                if(item.length==2){\r\n                    item[1]=`${parseInt(item[1])*10}` ;\r\n                    console.log(\"概率\",item[1]);\r\n                    prizesRes = ((prizesRes.times(new BigNumber(1024))).plus(new BigNumber(item[0]))).times(new BigNumber(1024)).plus(new BigNumber(item[1]))\r\n                }\r\n            }\r\n\r\n            console.log(prizesRes.toFixed())\r\n            const LuckyDraws={...LuckyDraw,prizes:prizesRes.toFixed()};\r\n            // 1,100|1,100|1,100|1,100|1,100|1,100|1,100|1,100|1,100|1,100\r\n\r\n            \r\n            const myContract=new web3.eth.Contract((LucyDrawAbi as unknown) as AbiItem,getDrawAddress());\r\n            const res=await myContract.methods.startLuckyDraw([LuckyDraws.prizes,LuckyDraws.decimals,parseInt(LuckyDraws.price),LuckyDraws.totalCount,LuckyDraws.soldCount],times)\r\n            .send({from:account||\"\"});\r\n\r\n            console.log(\"结果\",res)\r\n            setHash(res.blockHash)\r\n            setPedding(false)\r\n\r\n            const accountStr=Web3.utils.hexToNumberString(account||\"\");\r\n            const urlId=new BigNumber(accountStr).times(new BigNumber(2).pow(96)).plus(times);\r\n            setUrlId(urlId.toFixed());\r\n          }catch(e){}\r\n    }\r\n    const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n            let res:any=event.target.value.split(\"|\");\r\n            setLuckyDraw(pre=>({...pre,prizes:event.target.value}));\r\n            // setLuckyDraw(pre=>({...pre,prizes:prizesRes.toFixed()}));\r\n    };\r\n    const handleTimeChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        var stime = new Date(event.target.value).getTime()\r\n        const second=stime/1000;\r\n        setTimes(`${second}`)\r\n        \r\n        // 1. 获取北京时间\r\n        const currentDate = new Date(stime)\r\n        // 2.获取格林威治时间\r\n        // 先获取当前所在国家和格林威治时间之间的差值，默认是分钟数\r\n        // 使用Date对象的getTimezoneOffset() 就可以获取到\r\n        const difference = currentDate.getTimezoneOffset() * 60 * 1000 //将差异值转成毫秒值\r\n        // 获取格林威治时间的毫秒值,用+ 的原因是因为如果是比格林威治时间快的地区，这个方法返回值\r\n        //是一个负数，而慢的地区返回值是一个正数\r\n        const GreenwichMillminutes = currentDate.getTime() + difference \r\n        // 利用这个毫秒值获取格林威治地区的日期对象实例 \r\n        const GreenwichDate = new Date(GreenwichMillminutes)\r\n        // console.log(\"格林威时间\",moment(GreenwichDate).format('yyyy-MM-DD HH:mm:ss'));\r\n        setGreenwayTime(moment(GreenwichDate).format('yyyy-MM-DD HH:mm:ss'));\r\n    };\r\n    \r\n    // 授权\r\n    const {isApprove}=useDrawApprove();\r\n    const tokenContract=useBeeContract();\r\n    const onApprove=useTokenApprove(tokenContract,getDrawAddress());\r\n    const {onIsRefresh}=useDrawBoxHandlers();\r\n    const roladList=()=>{\r\n      onIsRefresh(true)\r\n      setTimeout(()=>{onIsRefresh(false)},1000)\r\n    }\r\n    const handleApprove = useCallback(async () => {\r\n        try {\r\n            const txHash = await onApprove();\r\n            roladList();\r\n        } catch (e) {\r\n            console.error(e)\r\n        }\r\n    }, [onApprove])\r\n\r\n\r\n\r\n    return <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n                 <FlexPanel flexDirection=\"column\" style={{width:'50%'}}>\r\n                  \r\n                   <TextField\r\n                        id=\"prizes\"\r\n                        label=\"金额1,概率2(100)|金额2,概率2(100)/amount 1,probability 100| amount 1, probability 100\"\r\n                        type=\"prizes\"\r\n                        rows={4}\r\n                        multiline\r\n                        defaultValue=\"\"\r\n                        onChange={handleChange}\r\n                    />\r\n                    \r\n                    <TextField\r\n                        id=\"price\"\r\n                        label=\"盲盒价格/Blind box price\"\r\n                        type=\"price\"\r\n                        defaultValue=\"\"\r\n                        onChange={(e)=>{setLuckyDraw(pre=>({...pre,price:e.target.value}))}}\r\n                        InputLabelProps={{\r\n                        shrink: true,\r\n                        }}\r\n                    />\r\n\r\n                    <TextField\r\n                        id=\"price\"\r\n                        label=\"总量/total quantity\"\r\n                        type=\"number\"\r\n                        placeholder='1-50'\r\n                        defaultValue=\"\"\r\n                        onChange={(e)=>{setLuckyDraw(pre=>({...pre,totalCount:e.target.value}))}}\r\n                        InputLabelProps={{\r\n                        shrink: true,\r\n                        }}\r\n                    />\r\n\r\n\r\n                    <TextField\r\n                        id=\"datetime-local\"\r\n                        label=\"截至时间/By the end of time(Beijing time)\"\r\n                        type=\"datetime-local\"\r\n                        defaultValue=\"\"\r\n                        onChange={handleTimeChange}\r\n                        InputLabelProps={{\r\n                        shrink: true,\r\n                        }}\r\n                    />\r\n\r\n                    <TextField\r\n                        id=\"date\"\r\n                        label=\"格林威时间/Greenway time\"\r\n                        type=\"text\"\r\n                        value={greenwayTime}\r\n                        disabled\r\n                        InputLabelProps={{\r\n                        shrink: true,\r\n                        }}\r\n                    />\r\n                    \r\n\r\n          \r\n\r\n                    <FlexPanel mt={2} alignItems=\"center\">\r\n                        {\r\n                            !isApprove?\r\n                            <Button variant=\"contained\" color=\"primary\" onClick={handleApprove}>\r\n                                授权/approve\r\n                            </Button>\r\n                            : \r\n                            <Button variant=\"contained\" color=\"primary\" onClick={createHand}>\r\n                               创建/create\r\n                            </Button>\r\n                        }\r\n                        \r\n                       \r\n                        <Box ml={2} mt={2}></Box>\r\n                        {pedding?<CircularProgress />:\"\"}\r\n                        {hash!==\"\"?<DoneAllSharpIcon  style={{color:'#14b714'}}></DoneAllSharpIcon>:\"\"}\r\n                    </FlexPanel>\r\n                    \r\n                    <FlexPanel flexDirection=\"column\">\r\n                        <h3 style={{\"marginBlockEnd\":0}}>transaction hash:</h3>\r\n                        <h4 style={{\"marginBlockStart\":0}}>{hash}</h4>\r\n                    </FlexPanel>\r\n                    {\r\n                        hash!==\"\"?\r\n                        <FlexPanel flexDirection=\"column\">\r\n                            <h3 style={{\"marginBlockEnd\":0}}>盲盒链接/Blind box of link:</h3>\r\n                            <h4 style={{\"marginBlockStart\":0,color:\"#21ae21\"}}>http://blindbox.cash/#/DrawLots/{urlId}</h4>\r\n                            {/* <h4 style={{\"marginBlockStart\":0}}>http://localhost:3000/#/DrawLots/{urlId}</h4> */}\r\n                        </FlexPanel>\r\n                        :\"\"\r\n                    }\r\n                   \r\n\r\n                    </FlexPanel>\r\n          </Box>\r\n\r\n}\r\n\r\nexport default CreateBox;","import { useWallet } from \"@binance-chain/bsc-use-wallet\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport { useState,useEffect } from \"react\";\r\nimport { useBeeContract } from \"../../../../hooks/useContract\";\r\nimport { useDrawBoxState } from \"../../../../state/DrawBox/hooks\";\r\nimport { getDrawAddress } from \"../../../../utils/addressHelpers\";\r\n\r\nexport  function useDrawApprove():{isApprove:boolean}{\r\n    const [isApprove, setAllowanceState] = useState<boolean>(false);\r\n    const beeContract=useBeeContract();\r\n    const {account} = useWallet();\r\n    const {pageRefreshState}=useDrawBoxState();\r\n    useEffect(() => {\r\n      const fetch = async () => {\r\n        try {\r\n            const allowance= await beeContract.methods.allowance(account,getDrawAddress()).call();\r\n            const tokenAllowedStatus = allowance && !new BigNumber(allowance).isLessThan(new BigNumber(10).pow(77))\r\n            setAllowanceState(tokenAllowedStatus)\r\n        } catch (error) {}\r\n      }\r\n  \r\n      if(account||pageRefreshState){\r\n         fetch()\r\n      } \r\n    }, [setAllowanceState,account,pageRefreshState])\r\n\r\n    return {isApprove}\r\n}","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { BottomNavigation, BottomNavigationAction, Box, Button, CircularProgress, Paper, Tab, Tabs, TextField, Typography } from '@material-ui/core';\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Web3 from 'web3';\r\nimport { AbiItem } from 'web3-utils'\r\nimport LucyDrawAbi from '../../../config/abi/LucyDraw.json';\r\nimport BeeTokenByteCode from '../../../config/bytecode/BeeTokenByteCode.json';\r\n\r\nimport nftAbi from '../../../config/abi/nft.json';\r\nimport addresses from '../../../config/contract/nft';\r\nimport Header from '../header';\r\nimport DoneAllSharpIcon from '@material-ui/icons/DoneAllSharp';\r\nimport useWeb3 from '../../../hooks/useWeb3';\r\nimport BigNumber from 'bignumber.js';\r\nimport { getDrawAddress, getIceOrWaterAddress } from '../../../utils/addressHelpers';\r\nimport { ethers } from 'ethers';\r\nimport { useDrawApprove } from './hooks/useDraw';\r\nimport { useBeeContract, useDrawContract } from '../../../hooks/useContract';\r\nimport useTokenApprove from '../../../hooks/useApprove';\r\nimport { useDrawBoxHandlers } from '../../../state/DrawBox/hooks';\r\n\r\n\r\n\r\nconst FlexPanel = styled(Box)`\r\n  display:flex;\r\n`\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: any;\r\n    value: any;\r\n}\r\n\r\n\r\nconst GetBack: React.FC =()=>{\r\n    const {account} = useWallet();\r\n    const [pedding,setPedding] = useState(false);\r\n    const [lotId,setLotId] = useState(\"\");\r\n\r\n    const [times,setTimes] = useState(\"\");\r\n    const [hash,setHash] = useState(\"\");\r\n    const [urlId,setUrlId] = useState(\"\");\r\n    const DrawContract= useDrawContract();\r\n\r\n    const createHand=async ()=>{\r\n          setPedding(true)\r\n          try {\r\n            const res=await DrawContract.methods.withdrawl(lotId).send({from:account||\"\"});\r\n            setHash(res.blockHash)\r\n            setPedding(false)\r\n          }catch(e){}\r\n    }\r\n    const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setLotId(event.target.value);\r\n    };\r\n \r\n    \r\n    return <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n                 <FlexPanel flexDirection=\"column\" style={{width:'50%'}}>\r\n                   <TextField\r\n                        id=\"prizes\"\r\n                        label=\"盲盒ID/Blind box ID\"\r\n                        type=\"prizes\"\r\n                        rows={4}\r\n                        multiline\r\n                        defaultValue=\"\"\r\n                        onChange={handleChange}\r\n                    />\r\n\r\n\r\n          \r\n\r\n                    <FlexPanel mt={2} alignItems=\"center\">\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={createHand}>\r\n                               取回押金/Get back the deposit\r\n                        </Button>\r\n                       \r\n                        <Box ml={2} mt={2}></Box>\r\n                        {pedding?<CircularProgress />:\"\"}\r\n                        {hash!==\"\"?<DoneAllSharpIcon  style={{color:'#14b714'}}></DoneAllSharpIcon>:\"\"}\r\n                    </FlexPanel>\r\n                    \r\n                    <FlexPanel flexDirection=\"column\">\r\n                        <h3 style={{\"marginBlockEnd\":0}}>transaction hash:</h3>\r\n                        <h4 style={{\"marginBlockStart\":0}}>{hash}</h4>\r\n                    </FlexPanel>\r\n\r\n                    </FlexPanel>\r\n          </Box>\r\n\r\n}\r\n\r\nexport default GetBack;","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { BottomNavigation, BottomNavigationAction, Box, Button, CircularProgress, MenuItem, Paper, Select, Tab, Table, TableBody, TableCell, TableHead, TableRow, Tabs, TextField, Typography } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Web3 from 'web3';\r\nimport DoneAllSharpIcon from '@material-ui/icons/DoneAllSharp';\r\nimport useWeb3 from '../../../hooks/useWeb3';\r\nimport BigNumber from 'bignumber.js';\r\nimport { useDrawContract } from '../../../hooks/useContract';\r\nimport moment from \"moment\";\r\n\r\n\r\nconst FlexPanel = styled(Box)`\r\n  display:flex;\r\n`\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: any;\r\n    value: any;\r\n}\r\n\r\n\r\nconst SearchPage: React.FC =()=>{\r\n    const {account} = useWallet();\r\n    const web3 = useWeb3();\r\n    \r\n    const [pedding,setPedding] = useState(false);\r\n    const [createAddres,setCreateAddres] = useState(\"\");\r\n    const [hrefList,sethrefList] = useState<any>([]);\r\n\r\n    const [LuckyDraw,setLuckyDraw] = useState({\r\n        prizes:\"1\",\r\n        decimals:18,\r\n        price:\"\",\r\n        totalCount:\"\",\r\n        soldCount:0\r\n    });\r\n\r\n\r\n    const [hash,setHash] = useState(\"\");\r\n    const [urlId,setUrlId] = useState(\"\");\r\n    const DrawContract= useDrawContract();\r\n  \r\n    const createHand=async ()=>{\r\n          setPedding(true)\r\n          try {\r\n    \r\n            // const LuckyDraws={...LuckyDraw,prizes:prizesRes.toFixed()};\r\n            // 1,100|1,100|1,100|1,100|1,100|1,100|1,100|1,100|1,100|1,100\r\n            const bolck=await web3.eth.getBlockNumber();\r\n            const historyBlock=bolck-parseInt(`${(parseInt(times as any)*86400)/5}`)\r\n            \r\n\r\n            const resStartLuckyDraw= await DrawContract.getPastEvents('StartLuckyDraw', {\r\n                fromBlock: historyBlock,\r\n                toBlock: 'latest',\r\n                filter:{creator:createAddres}\r\n            })\r\n\r\n            // (uint(uint160(msg.sender))<<96)|block.number\r\n            let tranId=resStartLuckyDraw.map(t=>{\r\n                // creator, uint deadline\r\n                const lotIdValue=new BigNumber(Web3.utils.hexToNumberString(t.returnValues.creator)).times(new BigNumber(2).pow(96)).plus(new BigNumber(t.returnValues.deadline));\r\n                return {...t,lotId:lotIdValue.toFixed()}\r\n            })\r\n            \r\n\r\n            sethrefList(tranId);\r\n            console.log(\"结果\",tranId)\r\n            // setHash(res.blockHash)\r\n            setPedding(false)\r\n\r\n\r\n\r\n          }catch(e){}\r\n\r\n\r\n    }\r\n\r\n\r\n    const [times,setTimes] = useState(\"3\");\r\n    const handleTimeChange = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n          setTimes(event.target.value as string);\r\n    };\r\n\r\n    const addZero = (num:any)=> {\r\n        if (parseInt(num) < 10) {\r\n            num = \"0\" + num\r\n        }\r\n        return num\r\n    }\r\n    return <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n                 <FlexPanel flexDirection=\"column\" style={{width:'50%'}}>\r\n                    <Select\r\n                        labelId=\"demo-simple-select-label\"\r\n                        id=\"demo-simple-select\"\r\n                        value={times}\r\n                        placeholder=\"日期范围/Time range\"\r\n                        onChange={handleTimeChange}\r\n                        >\r\n                        <MenuItem value={3}>近3天/Nearly 3 days</MenuItem>\r\n                        <MenuItem value={7}>近7天/Nearly 7 days</MenuItem>\r\n                        <MenuItem value={30}>近30天/Nearly 30 days</MenuItem>\r\n                    </Select>\r\n                    <TextField\r\n                        id=\"createAddres\"\r\n                        label=\"创建者地址/Address of Creator\"\r\n                        type=\"prizes\"\r\n                        defaultValue=\"\"\r\n                        onChange={(e)=>{setCreateAddres(e.target.value)}}\r\n                    />\r\n          \r\n\r\n                    <FlexPanel mt={2} alignItems=\"center\">\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={createHand}>\r\n                                查询/Query\r\n                        </Button>\r\n                        <Box ml={2} mt={2}></Box>\r\n                        {pedding?<CircularProgress />:\"\"}\r\n                        {hash!==\"\"?<DoneAllSharpIcon  style={{color:'#14b714'}}></DoneAllSharpIcon>:\"\"}\r\n                    </FlexPanel>\r\n                    \r\n\r\n                      <Table  aria-label=\"simple table\">\r\n                        <TableHead>\r\n                        <TableRow>\r\n                            <TableCell>截止时间/deadline</TableCell>\r\n                            <TableCell >url路径/url path</TableCell>\r\n                        </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                        {hrefList.map((row:any,idx:any) => (\r\n                            <TableRow key={idx}>\r\n                               \r\n                                <TableCell style={{whiteSpace: \"nowrap\"}} component=\"th\" scope=\"row\">{moment((row.returnValues.deadline)*1000).format('yyyy-MM-DD HH:mm:ss')}</TableCell>\r\n                                <TableCell component=\"th\" scope=\"row\">http://blindbox.cash/#/DrawLots/{row.lotId}</TableCell>\r\n                                {/* <TableCell component=\"th\" scope=\"row\">{row.note}</TableCell> */}\r\n                            </TableRow>\r\n                        ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                   \r\n\r\n                    </FlexPanel>\r\n          </Box>\r\n\r\n}\r\n\r\nexport default SearchPage;","import { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { BottomNavigation, BottomNavigationAction, Box, Button, CircularProgress, Paper, Tab, Tabs, Typography } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport CreateBox from './CreateBox';\r\nimport GetBack from './GetBack';\r\nimport SearchPage from './SearchPage';\r\nconst FlexPanel = styled(Box)`\r\n  display:flex;\r\n`\r\nconst Container = styled(Box)`\r\n  background: black;\r\n  padding: 20px;\r\n  color: #fff;\r\n`;\r\n\r\n\r\n\r\n\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: any;\r\n    value: any;\r\n  }\r\nfunction TabPanel(props: TabPanelProps) {\r\n    const { children, value, index, ...other } = props;\r\n  \r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`wrapped-tabpanel-${index}`}\r\n        aria-labelledby={`wrapped-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n          <Box p={3} display='flex'>\r\n            {children}\r\n          </Box>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\nconst DrawMangement: React.FC =()=>{\r\n    const [value,setValue] = useState(0);\r\n    const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n          setValue(newValue);\r\n    };\r\n\r\n    return <Box display=\"flex\" flex={1} flexDirection=\"column\">\r\n        <Paper square>\r\n              <Tabs\r\n                value={value}\r\n                indicatorColor=\"primary\"\r\n                textColor=\"primary\"\r\n                onChange={handleChange}\r\n                aria-label=\"disabled tabs example\"\r\n               >\r\n                <Tab label=\"创建盲盒/Create a blind box\"/>\r\n                <Tab label=\"查询盲盒地址/Query  box address\"/>\r\n                <Tab label=\"取回押金/Get back the deposit\"/>\r\n                \r\n              </Tabs>\r\n        </Paper>\r\n      \r\n            <TabPanel value={value} index={0}>\r\n               {value==0?<CreateBox></CreateBox>:\"\"}\r\n            </TabPanel>\r\n            <TabPanel value={value} index={1}>\r\n               {value==1?<SearchPage></SearchPage>:\"\"}\r\n            </TabPanel>\r\n            <TabPanel value={value} index={2}>\r\n               {value==2?<GetBack></GetBack>:\"\"}\r\n            </TabPanel>\r\n            \r\n          </Box>\r\n\r\n}\r\n\r\nexport default DrawMangement;","import React, { lazy } from \"react\";\r\n// import logo from \"./logo.svg\";\r\nimport \"./App.css\";\r\nimport { BrowserRouter, Navigate, Route, Routes } from \"react-router-dom\";\r\nimport Layout from \"./views/home/Layouts\";\r\nimport \"./style/flex.css\";\r\n\r\nimport {\r\n  BottomNavigation,\r\n  BottomNavigationAction,\r\n  Box,\r\n} from \"@material-ui/core\";\r\nimport RestoreIcon from \"@material-ui/icons/Restore\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\r\nimport styled from \"styled-components\";\r\nimport ButtonAppBar from \"./views/home/ButtonAppBar\";\r\nimport MyInfo from \"./views/myInfo/myInfo\";\r\nimport RounterHome from \"./views/home/RouterHome\";\r\nimport MintPage from \"./views/mint/mintPage\";\r\n// import Test from './views/myInfo/test';\r\nimport './i18n';\r\nimport OwerPage from \"./views/OwerPage/OwerPage\";\r\nimport BeenManagement from \"./views/OwerPage/BeenManagement/BeenManagement\";\r\nimport BlindBoxManagement from \"./views/OwerPage/BlindBoxManagement/BlindBoxManagement\";\r\nimport Puzzle from \"./views/OwerPage/Puzzle/Puzzle\";\r\nimport Home from \"./views/home/homes\";\r\nimport PuzzleGame from \"./views/puzzle/PuzzleGame\";\r\nimport PuzzleMangent from \"./views/OwerPage/Puzzle/PuzzleMangent\";\r\nimport IceWater from \"./views/IceWater/IceWater\";\r\nimport DrawLots from \"./views/DrawLots/DrawLots\";\r\nimport Liquidity from \"./views/OwerPage/Liquidity/Liquidity\";\r\nimport Swap from \"./views/Swap/swap\";\r\nimport DrawMangement from \"./views/OwerPage/DrawManagement/DrawMangement\";\r\nimport BigNumber from \"bignumber.js\";\r\n\r\n\r\nconst Center = styled.html`\r\n  @media (max-width: 900px) {\r\n    font-size:12px;\r\n  }\r\n  @media (min-width: 900px) {\r\n    font-size:16px;\r\n  }\r\n`;\r\n\r\nconst Font = styled(Box)`\r\n  display: flex;\r\n  flex: 1;\r\n  font-family: \"Roboto\", \"Helvetica\", \"Arial\", sans-serif;\r\n`;\r\n// BigNumber.config({\r\n//   EXPONENTIAL_AT: 1000,\r\n//   DECIMAL_PLACES: 80,\r\n// })\r\n\r\nconst App: React.FC = () => {\r\n  return (\r\n   \r\n    <Font>\r\n        <Routes>\r\n          {/* <Route path=\"/\" element={<RounterHome />}>\r\n            <Route path=\"/\" element={<Homes />} />\r\n            <Route path=\"home\" element={<Homes />} />\r\n            <Route path=\"mint\" element={<MintPage />}></Route>\r\n            <Route path=\"myInfo\" element={<MyInfo />}></Route>\r\n          </Route> */}\r\n          <Route path=\"/\" element={<Layout />} >\r\n            <Route path=\"/\" element={<Home />} />\r\n            <Route path=\"/puzzle\" element={<PuzzleGame />} />\r\n            <Route path=\"/IceWater/:id\" element={<IceWater />} />\r\n            <Route path=\"/IceWater\" element={<IceWater />} />\r\n            <Route path=\"/DrawLots/:id\" element={<DrawLots />} />\r\n            <Route path=\"/DrawLots\" element={<DrawLots />} />\r\n            <Route path=\"/Swap\" element={<Swap />} />\r\n            \r\n          </Route>\r\n\r\n          <Route path=\"/owner\" element={<OwerPage />}>\r\n            <Route path=\"/owner/\" element={<BeenManagement />} />\r\n            <Route path=\"/owner/BlindBoxManagement\" element={<BlindBoxManagement />} />\r\n            <Route path=\"/owner/PuzzleMangent\" element={<PuzzleMangent />} />\r\n            <Route path=\"/owner/Liquidity\" element={<Liquidity />} />\r\n            <Route path=\"/owner/DrawMangement\" element={<DrawMangement />} />\r\n            \r\n          </Route>\r\n\r\n        </Routes>\r\n      </Font>\r\n   \r\n \r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport { roladPage } from './actions'\r\n \r\nexport interface puzzleState {\r\n  readonly pageRefreshState: boolean\r\n}\r\nconst initialState: puzzleState = {\r\n      pageRefreshState:false\r\n}\r\n// dexs:['MISTSWAP','TANGOSWAP','LAWSWAP','COWSWAP','ONEBCH','TROPICALFINANCE','VERSEDEX','EMBERSWAP']\r\n\r\nexport default createReducer<puzzleState>(initialState, (builder) =>\r\n  builder\r\n    .addCase(roladPage, (state, { payload: { isRefresh } }) => {\r\n      return {...state,pageRefreshState:isRefresh}\r\n    })\r\n)\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport { roladPage } from './actions'\r\n \r\nexport interface puzzleState {\r\n  readonly pageRefreshState: boolean\r\n}\r\nconst initialState: puzzleState = {\r\n      pageRefreshState:false\r\n}\r\n// dexs:['MISTSWAP','TANGOSWAP','LAWSWAP','COWSWAP','ONEBCH','TROPICALFINANCE','VERSEDEX','EMBERSWAP']\r\n\r\nexport default createReducer<puzzleState>(initialState, (builder) =>\r\n  builder\r\n    .addCase(roladPage, (state, { payload: { isRefresh } }) => {\r\n      return {...state,pageRefreshState:isRefresh}\r\n    })\r\n)\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport { roladPage } from './actions'\r\n \r\nexport interface puzzleState {\r\n  readonly pageRefreshState: boolean\r\n}\r\nconst initialState: puzzleState = {\r\n      pageRefreshState:false\r\n}\r\n// dexs:['MISTSWAP','TANGOSWAP','LAWSWAP','COWSWAP','ONEBCH','TROPICALFINANCE','VERSEDEX','EMBERSWAP']\r\n\r\nexport default createReducer<puzzleState>(initialState, (builder) =>\r\n  builder\r\n    .addCase(roladPage, (state, { payload: { isRefresh } }) => {\r\n      return {...state,pageRefreshState:isRefresh}\r\n    })\r\n)\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport { roladPage } from './actions'\r\n \r\nexport interface puzzleState {\r\n  readonly pageRefreshState: boolean\r\n}\r\nconst initialState: puzzleState = {\r\n      pageRefreshState:false\r\n}\r\n// dexs:['MISTSWAP','TANGOSWAP','LAWSWAP','COWSWAP','ONEBCH','TROPICALFINANCE','VERSEDEX','EMBERSWAP']\r\n\r\nexport default createReducer<puzzleState>(initialState, (builder) =>\r\n  builder\r\n    .addCase(roladPage, (state, { payload: { isRefresh } }) => {\r\n      return {...state,pageRefreshState:isRefresh}\r\n    })\r\n)\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit'\r\n// import { save, load } from 'redux-localstorage-simple'\r\nimport puzzles from './Puzzles/reducer'\r\nimport Ice from './Ice/reducer'\r\nimport Exchange from './Exchange/reducer'\r\nimport DrawBox from './DrawBox/reducer'\r\n// type MergedState = {\r\n//   user: {\r\n//     [key: string]: any\r\n//   }\r\n//   transactions: {\r\n//     [key: string]: any\r\n//   }\r\n// }\r\nconst PERSISTED_KEYS: string[] = ['user', 'transactions']\r\n// const loadedState = load({ states: PERSISTED_KEYS }) as MergedState\r\n// if (loadedState.user) {\r\n//   loadedState.user.userDarkMode = getThemeCache()\r\n// }\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    puzzles,\r\n    Ice,\r\n    Exchange,\r\n    DrawBox\r\n  }\r\n  // middleware: [...getDefaultMiddleware({ thunk: false }), save({ states: PERSISTED_KEYS }) as any],\r\n  // preloadedState: loadedState as any,\r\n})\r\n\r\n// store.dispatch(updateVersion())\r\n\r\nexport default store\r\nexport type AppState = ReturnType<typeof store.getState>\r\nexport type AppDispatch = typeof store.dispatch\r\n","import React from 'react'\r\nimport { createWeb3ReactRoot, Web3ReactProvider } from '@web3-react/core'\r\nimport { Provider } from 'react-redux'\r\nimport store from './state'\r\n\r\n\r\nconst Providers: React.FC = ({ children }) => {\r\n  return (\r\n        <Provider store={store}>\r\n          {children}\r\n        </Provider>\r\n  )\r\n}\r\n\r\nexport default Providers\r\n","// import { UseWalletProvider } from '@binance-chain/bsc-use-wallet';\r\nimport * as bsc from '@binance-chain/bsc-use-wallet'\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { HashRouter} from 'react-router-dom';\r\nimport Providers from './Providers'\r\n\r\n// import  './style/flex.css'\r\n\r\nReactDOM.render(\r\n  <Providers>\r\n  <bsc.UseWalletProvider \r\n    chainId={10000}\r\n    connectors={{ bsc , walletconnect: { rpcUrl:'https://global.uat.cash/' }}} \r\n    >\r\n    <HashRouter>   \r\n      <App />\r\n    </HashRouter>\r\n  </bsc.UseWalletProvider>\r\n  </Providers>\r\n  , document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}